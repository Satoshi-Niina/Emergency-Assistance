# Server Production Environment Variables Template
# This file is tracked in git as a template.
# DO NOT ENTER REAL SECRETS HERE.

###############################################
# Runtime / Framework
###############################################
NODE_ENV=production
PORT=8080
WEBSITES_PORT=8080
STORAGE_MODE=hybrid

###############################################
# Database (Azure PostgreSQL)
###############################################
DATABASE_URL=postgres://user:password@host:port/dbname
AZURE_POSTGRESQL_CONNECTIONSTRING=PLACEHOLDER_CONNECTION_STRING
PG_SSL=require

###############################################
# Session / Authentication Secrets
###############################################
SESSION_SECRET=PLACEHOLDER_SESSION_SECRET_MIN_32_CHARS
JWT_SECRET=PLACEHOLDER_JWT_SECRET_MIN_32_CHARS

###############################################
# Frontend Origins (Static Web Apps / SPA)
###############################################
FRONTEND_URL=https://your-frontend-url.com
STATIC_WEB_APP_URL=https://your-static-web-app-url.com
CORS_ALLOW_ORIGINS=https://your-static-web-app-url.com,http://localhost:5173

###############################################
# Azure Blob Storage (knowledge container)
###############################################
AZURE_STORAGE_CONNECTION_STRING=PLACEHOLDER_CONNECTION_STRING
AZURE_STORAGE_ACCOUNT_NAME=PLACEHOLDER_ACCOUNT_NAME
AZURE_STORAGE_ACCOUNT_KEY=PLACEHOLDER_ACCOUNT_KEY
AZURE_STORAGE_CONTAINER_NAME=knowledge
AZURE_KNOWLEDGE_BASE_PATH=knowledge-base
BLOB_PREFIX=knowledge-base

###############################################
# File-system Fallback Paths (mounted read-only)
# These align with container layout used during deploy.
###############################################
KNOWLEDGE_BASE_PATH=/app/knowledge-base
LOCAL_EXPORT_DIR=/app/knowledge-base/exports
FAULT_HISTORY_IMAGES_DIR=/app/knowledge-base/images/chat-exports

###############################################
# OpenAI / AI settings
###############################################
OPENAI_API_KEY=PLACEHOLDER_OPENAI_KEY
OPENAI_MAX_TOKENS=2000

###############################################
# Diagnostics / Logging
###############################################
DEBUG_MODE=false
VERBOSE_LOGGING=false
APPLICATIONINSIGHTS_CONNECTION_STRING=PLACEHOLDER_APP_INSIGHTS_CONN
ApplicationInsightsAgent_EXTENSION_VERSION=~3
XDT_MicrosoftApplicationInsights_Mode=Recommended
