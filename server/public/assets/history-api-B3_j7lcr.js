import{g as e}from"./index-Bi0_jrGv.js";const t=async(t={})=>{try{const a=new URLSearchParams;t.machineType&&a.append("machineType",t.machineType),t.machineNumber&&a.append("machineNumber",t.machineNumber),t.searchText&&a.append("searchText",t.searchText),t.searchDate&&a.append("searchDate",t.searchDate),t.limit&&a.append("limit",t.limit.toString()),t.offset&&a.append("offset",t.offset.toString());const s=await e(`/history?${a.toString()}`);return s.ok?s.json():(console.warn(`履歴一覧取得エラー: ${s.status} ${s.statusText}`),{success:!0,items:[],total:0,timestamp:(new Date).toISOString()})}catch(a){return console.error("履歴一覧取得エラー:",a),{success:!0,items:[],total:0,timestamp:(new Date).toISOString()}}},a=async t=>{const a=await e(`/history/${t}`,{method:"DELETE"});if(!a.ok)throw new Error(`Failed to delete history: ${a.statusText}`)},s=async()=>await e("/base-data"),r=async()=>await e("/files/processed"),n=async(t,a="json")=>await e("/history/export-selected",{method:"POST",body:JSON.stringify({ids:t,format:a})}),o=async(t={},a="json")=>{const s=new URLSearchParams;s.append("format",a),t.machineType&&s.append("machineType",t.machineType),t.machineNumber&&s.append("machineNumber",t.machineNumber);const r=await e(`/history/export-all?${s.toString()}`);if(!r.ok)throw new Error(`Failed to export all history: ${r.statusText}`);return r.blob()};export{o as a,t as b,r as c,a as d,n as e,s as f};
