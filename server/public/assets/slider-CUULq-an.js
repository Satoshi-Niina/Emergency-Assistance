import{f as e,j as n,d as t,e as r,c as o,u as i,r as a,o as s}from"./ui-BaYWhfWe.js";import{r as l}from"./vendor-C0Yfakdp.js";import{c as d}from"./index-jVOyRz7F.js";import{u}from"./index-CttfQz0H.js";import{c}from"./index-C73-_J_v.js";function f(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(null==e||e(r),!1===t||!r.defaultPrevented)return null==n?void 0:n(r)}}var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[w,g,S]=r(h),[b,x]=t(h,[S]),[y,D]=b(h),j=l.forwardRef((t,r)=>{const{name:o,min:i=0,max:a=100,step:s=1,orientation:u="horizontal",disabled:c=!1,minStepsBetweenThumbs:v=0,defaultValue:h=[i],value:g,onValueChange:S=()=>{},onValueCommit:b=()=>{},inverted:x=!1,form:D,...j}=t,R=l.useRef(new Set),_=l.useRef(0),M="horizontal"===u?E:P,[K=[],k]=e({prop:g,defaultProp:h,onChange:e=>{var n;null==(n=[...R.current][_.current])||n.focus(),S(e)}}),A=l.useRef(K);function N(e,n,{commit:t}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(s),o=function(e,n){const t=Math.pow(10,n);return Math.round(e*t)/t}(Math.round((e-i)/s)*s+i,r),l=d(o,[i,a]);k((e=[])=>{const r=function(e=[],n,t){const r=[...e];return r[t]=n,r.sort((e,n)=>e-n)}(e,l,n);if(function(e,n){if(n>0){const t=function(e){return e.slice(0,-1).map((n,t)=>e[t+1]-n)}(e);return Math.min(...t)>=n}return!0}(r,v*s)){_.current=r.indexOf(l);const n=String(r)!==String(e);return n&&t&&b(r),n?r:e}return e})}return n.jsx(y,{scope:t.__scopeSlider,name:o,disabled:c,min:i,max:a,valueIndexToChangeRef:_,thumbs:R.current,values:K,orientation:u,form:D,children:n.jsx(w.Provider,{scope:t.__scopeSlider,children:n.jsx(w.Slot,{scope:t.__scopeSlider,children:n.jsx(M,{"aria-disabled":c,"data-disabled":c?"":void 0,...j,ref:r,onPointerDown:f(j.onPointerDown,()=>{c||(A.current=K)}),min:i,max:a,inverted:x,onSlideStart:c?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-n)),r=Math.min(...t);return t.indexOf(r)}(K,e);N(e,n)},onSlideMove:c?void 0:function(e){N(e,_.current)},onSlideEnd:c?void 0:function(){const e=A.current[_.current];K[_.current]!==e&&b(K)},onHomeKeyDown:()=>!c&&N(i,0,{commit:!0}),onEndKeyDown:()=>!c&&N(a,K.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!c){const t=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,r=_.current;N(K[r]+s*t*n,r,{commit:!0})}}})})})})});j.displayName=h;var[R,_]=b(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),E=l.forwardRef((e,t)=>{const{min:r,max:o,dir:s,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=e,[h,w]=l.useState(null),g=i(t,e=>w(e)),S=l.useRef(void 0),b=a(s),x="ltr"===b,y=x&&!d||!x&&d;function D(e){const n=S.current||h.getBoundingClientRect(),t=L([0,n.width],y?[r,o]:[o,r]);return S.current=n,t(e-n.left)}return n.jsx(R,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(M,{dir:b,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=D(e.clientX);null==u||u(n)},onSlideMove:e=>{const n=D(e.clientX);null==c||c(n)},onSlideEnd:()=>{S.current=void 0,null==f||f()},onStepKeyDown:e=>{const n=v[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:n?-1:1})}})})}),P=l.forwardRef((e,t)=>{const{min:r,max:o,inverted:a,onSlideStart:s,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=e,m=l.useRef(null),p=i(t,m),h=l.useRef(void 0),w=!a;function g(e){const n=h.current||m.current.getBoundingClientRect(),t=L([0,n.height],w?[o,r]:[r,o]);return h.current=n,t(e-n.top)}return n.jsx(R,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:n.jsx(M,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=g(e.clientY);null==s||s(n)},onSlideMove:e=>{const n=g(e.clientY);null==d||d(n)},onSlideEnd:()=>{h.current=void 0,null==u||u()},onStepKeyDown:e=>{const n=v[w?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:n?-1:1})}})})}),M=l.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:u,...c}=e,v=D(h,r);return n.jsx(o.span,{...c,ref:t,onKeyDown:f(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):m.concat(p).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:f(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(n)?n.focus():i(e)}),onPointerMove:f(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:f(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),s(e))})})}),K="SliderTrack",k=l.forwardRef((e,t)=>{const{__scopeSlider:r,...i}=e,a=D(K,r);return n.jsx(o.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:t})});k.displayName=K;var A="SliderRange",N=l.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,s=D(A,r),d=_(A,r),u=l.useRef(null),c=i(t,u),f=s.values.length,m=s.values.map(e=>T(e,s.min,s.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return n.jsx(o.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:c,style:{...e.style,[d.startEdge]:p+"%",[d.endEdge]:v+"%"}})});N.displayName=A;var C="SliderThumb",I=l.forwardRef((e,t)=>{const r=g(e.__scopeSlider),[o,a]=l.useState(null),s=i(t,e=>a(e)),d=l.useMemo(()=>o?r().findIndex(e=>e.ref.current===o):-1,[r,o]);return n.jsx(H,{...e,ref:s,index:d})}),H=l.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:d,...u}=e,c=D(C,r),m=_(C,r),[p,v]=l.useState(null),h=i(t,e=>v(e)),g=!p||(c.form||!!p.closest("form")),S=s(p),b=c.values[a],x=void 0===b?0:T(b,c.min,c.max),y=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(a,c.values.length),j=null==S?void 0:S[m.size],R=j?function(e,n,t){const r=e/2,o=L([0,50],[0,r]);return(r-o(n)*t)*t}(j,x,m.direction):0;return l.useEffect(()=>{if(p)return c.thumbs.add(p),()=>{c.thumbs.delete(p)}},[p,c.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${R}px)`},children:[n.jsx(w.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(o.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":c.min,"aria-valuenow":b,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...u,ref:h,style:void 0===b?{display:"none"}:e.style,onFocus:f(e.onFocus,()=>{c.valueIndexToChangeRef.current=a})})}),g&&n.jsx(z,{name:d??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:b},a)]})});I.displayName=C;var z=l.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const s=l.useRef(null),d=i(s,a),c=u(t);return l.useEffect(()=>{const e=s.current;if(!e)return;const n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(c!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[c,t]),n.jsx(o.input,{style:{display:"none"},...r,ref:d,defaultValue:t})});function T(e,n,t){return d(100/(t-n)*(e-n),[0,100])}function L(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(t-e[0])}}z.displayName="RadioBubbleInput";var U=j,V=k,B=N,O=I;const $=l.forwardRef(({className:e,...t},r)=>n.jsxs(U,{ref:r,className:c("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(V,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(B,{className:"absolute h-full bg-primary"})}),n.jsx(O,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));$.displayName=U.displayName;export{$ as S};
