import{g as e}from"./index-D2n-Q-xG.js";const a=async(a={})=>{try{const t=new URLSearchParams;a.machineType&&t.append("machineType",a.machineType),a.machineNumber&&t.append("machineNumber",a.machineNumber),a.searchText&&t.append("searchText",a.searchText),a.searchDate&&t.append("searchDate",a.searchDate),a.limit&&t.append("limit",a.limit.toString()),a.offset&&t.append("offset",a.offset.toString());const s=await e(`/history?${t.toString()}`);return s.ok?s.json():(console.warn(`履歴一覧取得エラー: ${s.status} ${s.statusText}`),{success:!0,items:[],total:0,timestamp:(new Date).toISOString()})}catch(t){return console.error("履歴一覧取得エラー:",t),{success:!0,items:[],total:0,timestamp:(new Date).toISOString()}}},t=async()=>await e("/base-data"),s=async()=>await e("/files/processed"),n=async(a,t="json")=>await e("/history/export-selected",{method:"POST",body:JSON.stringify({ids:a,format:t})}),r=async(a={},t="json")=>{const s=new URLSearchParams;s.append("format",t),a.machineType&&s.append("machineType",a.machineType),a.machineNumber&&s.append("machineNumber",a.machineNumber);const n=await e(`/history/export-all?${s.toString()}`);if(!n.ok)throw new Error(`Failed to export all history: ${n.statusText}`);return n.blob()};export{r as a,a as b,s as c,n as e,t as f};
