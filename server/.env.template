# Emergency Assistance System - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real API keys or secrets!

# ================================================
# Server Configuration
# ================================================
# Environment mode (development/production)
NODE_ENV=development
# Server port (80 for Azure App Service, 8080 for local dev)
PORT=8080
# Client port (for Vite dev server)
CLIENT_PORT=5173

# ================================================
# API Configuration
# ================================================
# API base URL (production: https://your-app.azurewebsites.net/api)
API_BASE_URL=http://localhost:8080/api
API_PREFIX=/api

# ================================================
# Database Configuration
# ================================================
# For local development (PostgreSQL)
DATABASE_URL=postgresql://postgres:password@localhost:5432/webappdb
# For production (Azure PostgreSQL)
# DATABASE_URL=postgresql://username:password@server.postgres.database.azure.com:5432/database_name

# Database connection details (optional if using DATABASE_URL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=webappdb
DB_USER=postgres
DB_PASSWORD=

# ================================================
# Security Configuration
# ================================================
# JWT secret (32+ characters for production)
JWT_SECRET=dev-jwt-secret-key-change-in-production-32-chars-minimum
# Session secret (32+ characters for production)
SESSION_SECRET=dev-session-secret-change-in-production-32-chars-minimum
# Bcrypt salt rounds
BCRYPT_SALT_ROUNDS=12

# Authentication bypass for development (false for production)
BYPASS_DB_FOR_LOGIN=true

# ================================================
# OpenAI Configuration (LEAVE EMPTY - FILL IN .env)
# ================================================
# Get your API key from: https://platform.openai.com/account/api-keys
OPENAI_API_KEY=
# Default model for text generation
OPENAI_MODEL=gpt-4o
# Organization ID (optional, get from OpenAI dashboard)
OPENAI_ORG_ID=
# Model for emergency response analysis
OPENAI_EMERGENCY_MODEL=gpt-4o
# Model for knowledge base queries
OPENAI_KNOWLEDGE_MODEL=gpt-3.5-turbo
# Maximum tokens for responses
OPENAI_MAX_TOKENS=2000
# Temperature for response creativity (0.0-1.0)
OPENAI_TEMPERATURE=0.7

# ================================================
# CORS Configuration
# ================================================
# Allowed origins for CORS (production: your actual domain)
CORS_ALLOW_ORIGINS=http://localhost:5173
# Static web app URL (production: your actual domain)
STATIC_WEB_APP_URL=http://localhost:8080
# Frontend URL (production: your actual domain)
FRONTEND_URL=http://localhost:8080

# ================================================
# Knowledge Base & File Management
# ================================================
# Local development flag
LOCAL_DEV=true
# Knowledge base path
KNOWLEDGE_BASE_PATH=../knowledge-base
# Images base path
IMAGES_BASE_PATH=./knowledge-base/images
# Knowledge base enabled
KNOWLEDGE_BASE_ENABLED=true

# ================================================
# Chat & Export Configuration
# ================================================
# Fault history storage mode (file/database)
FAULT_HISTORY_STORAGE_MODE=file
# Chat exports path
CHAT_EXPORTS_PATH=./knowledge-base/exports
# Chat images path
CHAT_IMAGES_PATH=./knowledge-base/images/chat-exports
# Fault history images directory
FAULT_HISTORY_IMAGES_DIR=knowledge-base/images/chat-exports

# ================================================
# Azure Configuration (Production Only)
# ================================================
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_ACCOUNT_KEY=
AZURE_CONTAINER_NAME=emergency-uploads

# ================================================
# External APIs
# ================================================
# Weather service for emergency conditions
WEATHER_API_KEY=
# Maps service for location services
MAPS_API_KEY=
# Emergency notification service
NOTIFICATION_SERVICE_KEY=

# ================================================
# Emergency System Configuration
# ================================================
# Maximum file upload size (in bytes)
MAX_UPLOAD_SIZE=10485760
# Emergency response timeout (in milliseconds)
EMERGENCY_TIMEOUT=30000
# Default emergency contact
DEFAULT_EMERGENCY_CONTACT=911
# AI emergency analysis enabled
AI_EMERGENCY_ANALYSIS=true
# Auto-response for critical situations
AUTO_EMERGENCY_RESPONSE=false
# Real-time monitoring
REAL_TIME_MONITORING=true

# ================================================
# Production Environment Variables (Azure App Service)
# ================================================
# Set these in Azure App Service > Configuration > Application Settings:
#
# NODE_ENV=production
# PORT=80
# API_BASE_URL=https://your-app.azurewebsites.net/api
# DATABASE_URL=postgresql://user:pass@server.postgres.database.azure.com:5432/db
# JWT_SECRET=<strong-32-char-secret>
# SESSION_SECRET=<strong-32-char-secret>
# BYPASS_DB_FOR_LOGIN=false
# OPENAI_API_KEY=<your-openai-key>
# CORS_ALLOW_ORIGINS=https://your-app.azurewebsites.net
# STATIC_WEB_APP_URL=https://your-app.azurewebsites.net
# FRONTEND_URL=https://your-app.azurewebsites.net
# LOCAL_DEV=false
