<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>邱ｨ髮・ｩ溯・繝・せ繝・/title>
  <style>
    .readonly {
      display: block;
    }
    
    .editable {
      display: none;
      background-color: #f0f0f0;
      color: #000;
      border: 1px solid #ccc;
      border-radius: 3px;
      padding: 8px;
    }
    
    .edit-mode .readonly {
      display: none !important;
    }
    
    .edit-mode .editable {
      display: block !important;
      width: 100% !important;
      padding: 8px !important;
      border: 1px solid #007bff !important;
      border-radius: 3px !important;
      color: #000 !important;
      background-color: #fff !important;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      margin: 5px;
    }
    
    .btn-edit {
      background: #007bff;
      color: white;
    }
    
    .btn-save {
      background: #ffc107;
      color: #000;
    }
    
    .btn-cancel {
      background: #6c757d;
      color: white;
    }
  </style>
</head>
<body>
  <div>
    <button class="btn btn-edit" onclick="console.log('邱ｨ髮・・繧ｿ繝ｳ繧ｯ繝ｪ繝・け'); toggleEditMode()">邱ｨ髮・/button>
    <button class="btn btn-save" onclick="console.log('菫晏ｭ倥・繧ｿ繝ｳ繧ｯ繝ｪ繝・け'); saveData()" style="display: none;">菫晏ｭ・/button>
    <button class="btn btn-cancel" onclick="console.log('繧ｭ繝｣繝ｳ繧ｻ繝ｫ繝懊ち繝ｳ繧ｯ繝ｪ繝・け'); toggleEditMode()" style="display: none;">繧ｭ繝｣繝ｳ繧ｻ繝ｫ</button>
  </div>
  
  <div style="margin: 20px; padding: 20px; border: 1px solid #ccc;">
    <h2>繝・せ繝医ヵ繧｣繝ｼ繝ｫ繝・/h2>
    <div style="margin: 10px 0;">
      <strong>蜷榊燕・・/strong>
      <span class="readonly">繝・せ繝亥､ｪ驛・/span>
      <input class="editable" value="繝・せ繝亥､ｪ驛・ />
    </div>
    <div style="margin: 10px 0;">
      <strong>蝣ｴ謇・・/strong>
      <span class="readonly">譚ｱ莠ｬ</span>
      <input class="editable" value="譚ｱ莠ｬ" />
    </div>
    <div style="margin: 10px 0;">
      <strong>隱ｬ譏趣ｼ・/strong>
      <span class="readonly">縺薙ｌ縺ｯ繝・せ繝医〒縺・/span>
      <textarea class="editable">縺薙ｌ縺ｯ繝・せ繝医〒縺・/textarea>
    </div>
  </div>
  
  <script>
    let isEditMode = false;
    
    function toggleEditMode() {
      console.log('toggleEditMode蜻ｼ縺ｳ蜃ｺ縺・ 迴ｾ蝨ｨ縺ｮisEditMode:', isEditMode);
      
      isEditMode = !isEditMode;
      console.log('譁ｰ縺励＞isEditMode:', isEditMode);
      
      const editBtn = document.querySelector('.btn-edit');
      const saveBtn = document.querySelector('.btn-save');
      const cancelBtn = document.querySelector('.btn-cancel');
      
      console.log('繝懊ち繝ｳ隕∫ｴ:', { 
        editBtn: !!editBtn, 
        saveBtn: !!saveBtn, 
        cancelBtn: !!cancelBtn 
      });
      
      if (isEditMode) {
        console.log('邱ｨ髮・Δ繝ｼ繝峨↓蜈･繧・);
        if (editBtn) editBtn.style.display = 'none';
        if (saveBtn) saveBtn.style.display = 'inline-block';
        if (cancelBtn) cancelBtn.style.display = 'inline-block';
        document.body.classList.add('edit-mode');
        console.log('body class:', document.body.classList.toString());
      } else {
        console.log('邱ｨ髮・Δ繝ｼ繝峨ｒ邨ゆｺ・);
        if (editBtn) editBtn.style.display = 'inline-block';
        if (saveBtn) saveBtn.style.display = 'none';
        if (cancelBtn) cancelBtn.style.display = 'none';
        document.body.classList.remove('edit-mode');
        console.log('body class:', document.body.classList.toString());
      }
      
      // 陦ｨ遉ｺ迥ｶ諷九ｒ遒ｺ隱・
      setTimeout(() => {
        const readonlyElements = document.querySelectorAll('.readonly');
        const editableElements = document.querySelectorAll('.editable');
        
        console.log('readonly隕∫ｴ謨ｰ:', readonlyElements.length);
        console.log('editable隕∫ｴ謨ｰ:', editableElements.length);
        
        readonlyElements.forEach((el, index) => {
          const computedStyle = window.getComputedStyle(el);
          console.log(`readonly[${index}] display:`, computedStyle.display);
        });
        
        editableElements.forEach((el, index) => {
          const computedStyle = window.getComputedStyle(el);
          console.log(`editable[${index}] display:`, computedStyle.display);
        });
      }, 100);
    }
    
    function saveData() {
      console.log('菫晏ｭ伜・逅・ｮ溯｡・);
      // 邱ｨ髮・ｒ邨ゆｺ・
      toggleEditMode();
      alert('菫晏ｭ倥＆繧後∪縺励◆');
    }
    
    // 繝壹・繧ｸ隱ｭ縺ｿ霎ｼ縺ｿ譎・
    document.addEventListener('DOMContentLoaded', function() {
      console.log('繝壹・繧ｸ隱ｭ縺ｿ霎ｼ縺ｿ螳御ｺ・);
      console.log('readonly隕∫ｴ謨ｰ:', document.querySelectorAll('.readonly').length);
      console.log('editable隕∫ｴ謨ｰ:', document.querySelectorAll('.editable').length);
    });
  </script>
</body>
</html>
