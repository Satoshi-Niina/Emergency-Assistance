# 本番環境用設定ファイル（Azure App Service用）- 修正版
# Azure Portalの環境変数に設定してください

# 環境設定
NODE_ENV=production
PORT=8080

# セーフモード設定（一時的）
SAFE_MODE=true
BYPASS_DB_FOR_LOGIN=true

# データベース接続（Azure PostgreSQL用）- 段階的設定
# ステップ1: SSL無効でテスト
DATABASE_URL=postgresql://username:password@host:port/database?sslmode=disable
PG_SSL=disable

# ステップ2: 接続タイムアウト延長
DB_CONNECTION_TIMEOUT=60000
DB_QUERY_TIMEOUT=60000

# JWT設定（32文字以上のランダムな文字列に変更してください）
JWT_SECRET=your-production-jwt-secret-32-characters-minimum
SESSION_SECRET=your-production-session-secret-32-characters-minimum

# フロントエンドURL（Azure Static Web App用）
FRONTEND_URL=https://witty-river-012f39e00.1.azurestaticapps.net

# 信頼プロキシ（Azure App Service用）
TRUST_PROXY=1

# OpenAI API設定（実際のAPIキーに変更してください）
OPENAI_API_KEY=sk-your-actual-openai-api-key
OPENAI_DEBUG=true

# Azure Storage設定（オプション）
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=<account>;AccountKey=<key>;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=knowledge

# デバッグ設定
DEBUG=true
LOG_LEVEL=debug
