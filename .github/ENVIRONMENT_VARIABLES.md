# ç’°å¢ƒå¤‰æ•°è¨­å®šä¸€è¦§

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Azure App Serviceã«è¨­å®šã™ã‚‹ç’°å¢ƒå¤‰æ•°ã®å®Œå…¨ãªä¸€è¦§ã¨ã€Azure Portalã§ã®ç¢ºèªæ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## â‘  è¨­å®šã™ã‚‹ç’°å¢ƒå¤‰æ•°ã®ä¸€è¦§

### ğŸ”´ å¿…é ˆç’°å¢ƒå¤‰æ•°ï¼ˆæœ¬ç•ªç’°å¢ƒã§å¿…ãšè¨­å®šï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | ä¾‹ | GitHub Secretå |
|---------|------|-----|---------------|
| `DATABASE_URL` | PostgreSQLæ¥ç¶šæ–‡å­—åˆ— | `postgresql://user:password@host:5432/dbname` | `DATABASE_URL` |
| `JWT_SECRET` | JWTç½²åç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ | 32æ–‡å­—ä»¥ä¸Šã®ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ— | `JWT_SECRET` |
| `SESSION_SECRET` | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ | 32æ–‡å­—ä»¥ä¸Šã®ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ— | `SESSION_SECRET` |
| `FRONTEND_URL` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰URL | `https://your-static-web-app.azurestaticapps.net` | `FRONTEND_URL` |
| `FRONTEND_ORIGIN` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚ªãƒªã‚¸ãƒ³ï¼ˆCORSç”¨ï¼‰ | `https://your-static-web-app.azurestaticapps.net` | `FRONTEND_URL`ï¼ˆåŒã˜å€¤ï¼‰ |

### ğŸŸ¡ æ¨å¥¨ç’°å¢ƒå¤‰æ•°ï¼ˆæœ¬ç•ªç’°å¢ƒã§è¨­å®šæ¨å¥¨ï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | GitHub Secretå |
|---------|------|------------|---------------|
| `NODE_ENV` | å®Ÿè¡Œç’°å¢ƒ | `production` | è‡ªå‹•è¨­å®š |
| `PORT` | ã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒˆ | `8080` | `PORT`ï¼ˆé€šå¸¸ã¯è¨­å®šä¸è¦ï¼‰ |
| `PG_SSL` | PostgreSQL SSLè¨­å®š | `require` | `PG_SSL` |
| `CORS_ALLOW_ORIGINS` | CORSè¨±å¯ã‚ªãƒªã‚¸ãƒ³ | `*` | `CORS_ALLOW_ORIGINS` |

### ğŸŸ¢ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç’°å¢ƒå¤‰æ•°ï¼ˆæ©Ÿèƒ½åˆ¥ï¼‰

#### OpenAIæ©Ÿèƒ½ï¼ˆGPTæ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | GitHub Secretå |
|---------|------|---------------|
| `OPENAI_API_KEY` | OpenAI APIã‚­ãƒ¼ | `OPENAI_API_KEY` |
| `OPENAI_MODEL` | OpenAIãƒ¢ãƒ‡ãƒ«å | `OPENAI_MODEL`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `gpt-4o`ï¼‰ |

#### Azure Blob Storageï¼ˆBlob Storageã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | GitHub Secretå |
|---------|------|------------|---------------|
| `AZURE_STORAGE_CONNECTION_STRING` | Azure Blob Storageæ¥ç¶šæ–‡å­—åˆ— | - | `AZURE_STORAGE_CONNECTION_STRING` |
| `AZURE_STORAGE_CONTAINER_NAME` | Blob Storageã‚³ãƒ³ãƒ†ãƒŠå | `knowledge` | `AZURE_STORAGE_CONTAINER_NAME` |
| `STORAGE_BASE_PREFIX` | ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ™ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ | `knowledge-base` | `STORAGE_BASE_PREFIX` |

#### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | GitHub Secretå |
|---------|------|------------|---------------|
| `BACKUP_ENABLED` | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æœ‰åŠ¹åŒ– | `true` | `BACKUP_ENABLED` |
| `BACKUP_MAX_FILES` | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«æ•° | `3` | `BACKUP_MAX_FILES` |
| `BACKUP_FOLDER_NAME` | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚©ãƒ«ãƒ€å | `backups` | `BACKUP_FOLDER_NAME` |

#### é–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯é€šå¸¸ä¸è¦ï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | GitHub Secretå | å‚™è€ƒ |
|---------|------|------------|---------------|------|
| `ALLOW_DUMMY` | ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿è¨±å¯ãƒ•ãƒ©ã‚° | `false` | `ALLOW_DUMMY` | âš ï¸ æœ¬ç•ªç’°å¢ƒã§ã¯é€šå¸¸`false` |
| `BYPASS_DB_FOR_LOGIN` | DBãƒã‚¤ãƒ‘ã‚¹ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ©ã‚° | `false` | `BYPASS_DB_FOR_LOGIN` | âš ï¸ æœ¬ç•ªç’°å¢ƒã§ã¯é€šå¸¸`false` |

#### Dockerè¨­å®šï¼ˆè‡ªå‹•è¨­å®šï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | è¨­å®šæ–¹æ³• |
|---------|------|---------|
| `DOCKER_ENABLE_CI` | Docker CIæœ‰åŠ¹åŒ– | è‡ªå‹•è¨­å®šï¼ˆ`true`ï¼‰ |
| `DOCKER_REGISTRY_SERVER_URL` | Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªURL | è‡ªå‹•è¨­å®šï¼ˆ`https://ghcr.io`ï¼‰ |
| `DOCKER_REGISTRY_SERVER_USERNAME` | Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ¦ãƒ¼ã‚¶ãƒ¼å | è‡ªå‹•è¨­å®š |
| `DOCKER_REGISTRY_SERVER_PASSWORD` | Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | è‡ªå‹•è¨­å®šï¼ˆGitHub PATï¼‰ |

#### App Serviceè¨­å®šï¼ˆè‡ªå‹•è¨­å®šï¼‰

| ç’°å¢ƒå¤‰æ•°å | èª¬æ˜ | è¨­å®šæ–¹æ³• |
|---------|------|---------|
| `WEBSITE_NODE_DEFAULT_VERSION` | Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ | è‡ªå‹•è¨­å®šï¼ˆ`~20`ï¼‰ |
| `WEBSITE_RUN_FROM_PACKAGE` | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰å®Ÿè¡Œ | è‡ªå‹•è¨­å®šï¼ˆ`1`ï¼‰ |

## â‘¡ Azureå´ã§ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•

### æ–¹æ³•1: Azure Portalï¼ˆGUIï¼‰

1. **Azure Portalã«ãƒ­ã‚°ã‚¤ãƒ³**
   - https://portal.azure.com ã«ã‚¢ã‚¯ã‚»ã‚¹

2. **App Serviceãƒªã‚½ãƒ¼ã‚¹ã«ç§»å‹•**
   - å·¦å´ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ **App Services** ã‚’é¸æŠ
   - å¯¾è±¡ã®App Serviceåã‚’ã‚¯ãƒªãƒƒã‚¯

3. **Configurationã‚’é–‹ã**
   - å·¦å´ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ **Configuration** ã‚’é¸æŠ
   - **Application settings** ã‚¿ãƒ–ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

4. **ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª**
   - **Application settings** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã™ã¹ã¦ã®ç’°å¢ƒå¤‰æ•°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - ã‚­ãƒ¼åã¨å€¤ãŒä¸€è¦§è¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆå€¤ã¯ãƒã‚¹ã‚¯ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼‰

5. **ç·¨é›†ãƒ»è¿½åŠ ãƒ»å‰Šé™¤**
   - **+ New application setting** ã§æ–°è¦è¿½åŠ 
   - æ—¢å­˜ã®ç’°å¢ƒå¤‰æ•°ã®è¡Œã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†
   - ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’é¸æŠã—ã¦ **Delete** ã§å‰Šé™¤
   - å¤‰æ›´å¾Œã¯ **Save** ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆApp ServiceãŒå†èµ·å‹•ã—ã¾ã™ï¼‰

### æ–¹æ³•2: Azure CLIï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰

```bash
# Azureã«ãƒ­ã‚°ã‚¤ãƒ³
az login

# ã™ã¹ã¦ã®ç’°å¢ƒå¤‰æ•°ã‚’ä¸€è¦§è¡¨ç¤º
az webapp config appsettings list \
  --name YOUR_APP_SERVICE_NAME \
  --resource-group YOUR_RESOURCE_GROUP \
  --output table

# ç‰¹å®šã®ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
az webapp config appsettings show \
  --name YOUR_APP_SERVICE_NAME \
  --resource-group YOUR_RESOURCE_GROUP \
  --query "[?name=='DATABASE_URL'].value" \
  --output tsv

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
az webapp config appsettings set \
  --name YOUR_APP_SERVICE_NAME \
  --resource-group YOUR_RESOURCE_GROUP \
  --settings NEW_VAR="value"

# ç’°å¢ƒå¤‰æ•°ã‚’å‰Šé™¤
az webapp config appsettings delete \
  --name YOUR_APP_SERVICE_NAME \
  --resource-group YOUR_RESOURCE_GROUP \
  --setting-names VAR_TO_DELETE
```

### æ–¹æ³•3: App Serviceã®ãƒ­ã‚°ã‹ã‚‰ç¢ºèªï¼ˆå®Ÿè¡Œæ™‚ã®å€¤ï¼‰

1. **Azure Portal > App Service > Log stream** ã‹ã‚‰ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ã‚’ç¢ºèª
2. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«ç’°å¢ƒå¤‰æ•°ã®è¨­å®šçŠ¶æ³ãŒãƒ­ã‚°ã«å‡ºåŠ›ã•ã‚Œã¾ã™ï¼ˆä¸€éƒ¨ï¼‰

### æ–¹æ³•4: App Serviceã®SSH/ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ç¢ºèª

1. **Azure Portal > App Service > SSH** ã¾ãŸã¯ **Console**
2. ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèªï¼š

```bash
# ã™ã¹ã¦ã®ç’°å¢ƒå¤‰æ•°ã‚’è¡¨ç¤º
env

# ç‰¹å®šã®ç’°å¢ƒå¤‰æ•°ã‚’è¡¨ç¤º
echo $DATABASE_URL

# Node.jsã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
node -e "console.log(process.env.DATABASE_URL)"
```

## ç’°å¢ƒå¤‰æ•°ã®åˆ†é›¢ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ vs ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆStatic Web Appsï¼‰

**ãƒ“ãƒ«ãƒ‰æ™‚ã«åŸ‹ã‚è¾¼ã¾ã‚Œã‚‹ç’°å¢ƒå¤‰æ•°**ï¼ˆGitHub Secretsã‹ã‚‰è¨­å®šï¼‰ï¼š
- `VITE_API_BASE_URL`: APIãƒ™ãƒ¼ã‚¹URLï¼ˆãƒ“ãƒ«ãƒ‰æ™‚ã«JavaScriptã«åŸ‹ã‚è¾¼ã¾ã‚Œã‚‹ï¼‰

**æ³¨æ„**: Static Web Appsã§ã¯ã€å®Ÿè¡Œæ™‚ã®ç’°å¢ƒå¤‰æ•°ã¯è¨­å®šã§ãã¾ã›ã‚“ã€‚ã™ã¹ã¦ãƒ“ãƒ«ãƒ‰æ™‚ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¾ã™ã€‚

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆApp Serviceï¼‰

**å®Ÿè¡Œæ™‚ã«è¨­å®šã•ã‚Œã‚‹ç’°å¢ƒå¤‰æ•°**ï¼ˆGitHub Secretsã‹ã‚‰è‡ªå‹•è¨­å®šï¼‰ï¼š
- ã™ã¹ã¦ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°ã¯Azure App Serviceã®Configurationã«è¨­å®šã•ã‚Œã¾ã™
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒè‡ªå‹•çš„ã«GitHub Secretsã‹ã‚‰èª­ã¿è¾¼ã‚“ã§è¨­å®šã—ã¾ã™

## DBã¨BLOBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ç’°å¢ƒå¤‰æ•°åˆ‡ã‚Šæ›¿ãˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPostgreSQLï¼‰

**ç’°å¢ƒå¤‰æ•°**: `DATABASE_URL`

- **è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆ**: PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½¿ç”¨ã•ã‚Œã¾ã™
- **è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆ**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ©Ÿèƒ½ã¯ç„¡åŠ¹ã«ãªã‚Šã¾ã™ï¼ˆä¸€éƒ¨æ©Ÿèƒ½ãŒå‹•ä½œã—ãªã„å¯èƒ½æ€§ï¼‰

**ä¾‹**:
```
DATABASE_URL=postgresql://user:password@host:5432/dbname
```

### Blob Storageï¼ˆAzure Storageï¼‰

**ç’°å¢ƒå¤‰æ•°**: `AZURE_STORAGE_CONNECTION_STRING`

- **è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆ**: Azure Blob StorageãŒä½¿ç”¨ã•ã‚Œã¾ã™
- **è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆ**: Blob Storageæ©Ÿèƒ½ã¯ç„¡åŠ¹ã«ãªã‚Šã¾ã™ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ï¼‰

**é–¢é€£ç’°å¢ƒå¤‰æ•°**:
- `AZURE_STORAGE_CONTAINER_NAME`: ã‚³ãƒ³ãƒ†ãƒŠåï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `knowledge`ï¼‰
- `STORAGE_BASE_PREFIX`: ãƒ™ãƒ¼ã‚¹ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `knowledge-base`ï¼‰

**ä¾‹**:
```
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...
AZURE_STORAGE_CONTAINER_NAME=knowledge
STORAGE_BASE_PREFIX=knowledge-base
```

### ä¸¡æ–¹è¨­å®šã—ãŸå ´åˆ

- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQLãŒä½¿ç”¨ã•ã‚Œã¾ã™
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: Blob StorageãŒä½¿ç”¨ã•ã‚Œã¾ã™
- ä¸¡æ–¹ã®æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™

### ã©ã¡ã‚‰ã‚‚è¨­å®šã—ãªã„å ´åˆ

- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ©Ÿèƒ½ã¯ç„¡åŠ¹ï¼ˆä¸€éƒ¨æ©Ÿèƒ½ãŒå‹•ä½œã—ãªã„å¯èƒ½æ€§ï¼‰
- Blob Storageæ©Ÿèƒ½ã¯ç„¡åŠ¹ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ï¼‰

## â‘¢ `ALLOW_DUMMY`ã«ã¤ã„ã¦

### `ALLOW_DUMMY`ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ

**çµè«–ï¼šæœ¬ç•ªç’°å¢ƒã§ã¯é€šå¸¸ä¸è¦ã§ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤`false`ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ï¼‰**

### è©³ç´°èª¬æ˜

1. **ç”¨é€”**
   - é–‹ç™ºç’°å¢ƒã§ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¶å¾¡
   - æœ¬ç•ªç’°å¢ƒã§ã¯å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€é€šå¸¸ã¯ä¸è¦

2. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œ**
   - è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã‚„`false`ã®å ´åˆï¼šå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½¿ç”¨
   - `true`ã®å ´åˆï¼šãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼ˆé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨é€”ï¼‰

3. **æœ¬ç•ªç’°å¢ƒã§ã®æ¨å¥¨è¨­å®š**
   - GitHub Secretã¨ã—ã¦è¨­å®šã™ã‚‹å ´åˆï¼š`ALLOW_DUMMY=false` ã¾ãŸã¯è¨­å®šã—ãªã„
   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒ`false`ã®ãŸã‚ã€GitHub Secretã«è¨­å®šã—ãªã„å ´åˆã§ã‚‚å®‰å…¨

4. **è¨­å®šãŒå¿…è¦ãªå ´åˆ**
   - ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã®ã¿
   - æœ¬ç•ªç’°å¢ƒã§ã¯**çµ¶å¯¾ã«`true`ã«ã—ãªã„ã“ã¨**

### æ¨å¥¨è¨­å®š

æœ¬ç•ªç’°å¢ƒã§ã¯ä»¥ä¸‹ã®ã„ãšã‚Œã‹ï¼š

1. **GitHub Secretã«è¨­å®šã—ãªã„**ï¼ˆæ¨å¥¨ï¼‰
   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤`false`ãŒä½¿ç”¨ã•ã‚Œã¾ã™
   - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§`ALLOW_DUMMY="${{ secrets.ALLOW_DUMMY || 'false' }}"`ã¨ãªã£ã¦ã„ã‚‹ãŸã‚

2. **æ˜ç¤ºçš„ã«`false`ã‚’è¨­å®š**
   - å¿µã®ãŸã‚æ˜ç¤ºçš„ã«è¨­å®šã—ãŸã„å ´åˆ

```bash
# GitHub Secretã¨ã—ã¦è¨­å®šã™ã‚‹å ´åˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
ALLOW_DUMMY=false
```

## ç’°å¢ƒå¤‰æ•°ã®è¨­å®šå„ªå…ˆé †ä½

1. **Azure Portalã§ç›´æ¥è¨­å®š**ï¼ˆæœ€å„ªå…ˆï¼‰
2. **GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§è¨­å®š**
3. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰å†…ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …

âš ï¸ **æ©Ÿå¯†æƒ…å ±ã‚’å«ã‚€ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€APIã‚­ãƒ¼ãªã©ï¼‰ã¯ï¼š**
- GitHub Secretsã«è¨­å®šã—ã¦ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµŒç”±ã§è¨­å®š
- Azure Portalã® **Configuration > Application settings** ã§ç›´æ¥è¨­å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½
- å€¤ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯å¿…ãš **Save** ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆApp ServiceãŒå†èµ·å‹•ã—ã¾ã™ï¼‰

## å‚è€ƒãƒªãƒ³ã‚¯

- [Azure App Service - ã‚¢ãƒ—ãƒªè¨­å®šã®ç®¡ç†](https://learn.microsoft.com/ja-jp/azure/app-service/configure-common)
- [Azure CLI - webapp config appsettings](https://learn.microsoft.com/ja-jp/cli/azure/webapp/config/appsettings)

