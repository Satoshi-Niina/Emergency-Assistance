# Root environment template for Emergency-Assistance
# This file documents all environment variables used by the server and the client.
# Do NOT put real secrets here. Copy to `.env` (which is gitignored) and fill in secrets.

# General
NODE_ENV=development            # development | production
PORT=8080                       # server port (server only)

# Server / API
DATABASE_URL=                    # PostgreSQL connection string (server only)
PG_SSL=disable                   # postgres ssl mode (disable/require)

JWT_SECRET=                      # JWT secret (server only)
SESSION_SECRET=                  # Session secret (server only)
BYPASS_DB_FOR_LOGIN=false        # Development-only: bypass DB for login (server only)

OPENAI_API_KEY=                  # OpenAI API key (server only)

# Storage / Azure
AZURE_STORAGE_CONNECTION_STRING= # Azure Blob Storage connection string (server only)
AZURE_STORAGE_CONTAINER_NAME=knowledge
BLOB_PREFIX=Azure-knowledge/knowledge-base/

# Frontend / Vite (prefix VITE_ so Vite exposes them to client code)
# These will be read by Vite as import.meta.env.VITE_*
VITE_API_BASE_URL=http://localhost:8080  # base URL used by client to reach API (no trailing /)
VITE_API_BASE=                         # legacy / alternate API base
VITE_AUTH_BYPASS=false                 # enable auth bypass in client (dev only)

# CORS / Origins
FRONTEND_URL=http://localhost:5173    # used by server for redirects and CORS
CORS_ALLOW_ORIGINS=http://localhost:5173,http://localhost:5174

# Local development flags / paths
LOCAL_DEV=true
KNOWLEDGE_BASE_PATH=./knowledge-base
IMAGES_BASE_PATH=./knowledge-base/images

# Optional: local directories used by server for exports / history
LOCAL_HISTORY_DIR=./app-logs/history
LOCAL_EXPORT_DIR=./app-logs/exports

# Misc / CI
WEBSITE_RUN_FROM_PACKAGE=1
GITHUB_SHA=
GITHUB_REF=

# Locale
LANG=ja_JP.UTF-8
LC_ALL=ja_JP.UTF-8

# Emergency Assistance System Environment Template
# 実値は記入せず、変数名と用途コメントのみ記載

# =============================
# DB・API・セッション
# =============================
DATABASE_URL=                # PostgreSQL接続情報
SESSION_SECRET=              # セッション暗号化キー

# =============================
# フロント/バック連携
# =============================
FRONTEND_URL=                # フロントURL（CORS/リダイレクト用）
VITE_API_BASE_URL=           # APIベースURL（Vite用）
VITE_CLIENT_ID=              # OAuth/認証用クライアントID（必要時）
VITE_CLIENT_SECRET=          # OAuth/認証用クライアントシークレット（必要時）
VITE_STORAGE_URL=            # 画像/ファイルストレージURL（必要時）

# =============================
# サーバー運用
# =============================
NODE_ENV=development         # 環境（development/production）
PORT=3001                    # サーバーポート
LOG_LEVEL=info               # ログ出力レベル
AZURE_REGION=                # Azureリージョン（本番用）
AZURE_APP_NAME=              # Azure App Service名（本番用）
AZURE_STORAGE_CONNECTION_STRING= # Azureストレージ接続文字列

# =============================
# CI/CD・デプロイ
# =============================
GITHUB_SHA=                  # GitHub Actions用コミットSHA
GITHUB_REF=                  # GitHub Actions用ブランチ名
WEBSITE_RUN_FROM_PACKAGE=1   # Azure App Service用（Run-From-Package運用）

# =============================
# 文字エンコーディング
# =============================
LANG=ja_JP.UTF-8
LC_ALL=ja_JP.UTF-8
