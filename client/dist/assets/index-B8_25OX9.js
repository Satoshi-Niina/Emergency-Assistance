var uL=Object.defineProperty;var S0=e=>{throw TypeError(e)};var dL=(e,t,r)=>t in e?uL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var M=(e,t,r)=>dL(e,typeof t!="symbol"?t+"":t,r),mh=(e,t,r)=>t.has(e)||S0("Cannot "+r);var R=(e,t,r)=>(mh(e,t,"read from private field"),r?r.call(e):t.get(e)),ve=(e,t,r)=>t.has(e)?S0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(mh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pe=(e,t,r)=>(mh(e,t,"access private method"),r);var Ou=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return R(e,t,n)}});function fL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var aJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var hj={exports:{}},ep={},mj={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=Symbol.for("react.element"),pL=Symbol.for("react.portal"),hL=Symbol.for("react.fragment"),mL=Symbol.for("react.strict_mode"),gL=Symbol.for("react.profiler"),vL=Symbol.for("react.provider"),yL=Symbol.for("react.context"),xL=Symbol.for("react.forward_ref"),wL=Symbol.for("react.suspense"),bL=Symbol.for("react.memo"),SL=Symbol.for("react.lazy"),C0=Symbol.iterator;function CL(e){return e===null||typeof e!="object"?null:(e=C0&&e[C0]||e["@@iterator"],typeof e=="function"?e:null)}var gj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vj=Object.assign,yj={};function tl(e,t,r){this.props=e,this.context=t,this.refs=yj,this.updater=r||gj}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xj(){}xj.prototype=tl.prototype;function Ov(e,t,r){this.props=e,this.context=t,this.refs=yj,this.updater=r||gj}var Mv=Ov.prototype=new xj;Mv.constructor=Ov;vj(Mv,tl.prototype);Mv.isPureReactComponent=!0;var E0=Array.isArray,wj=Object.prototype.hasOwnProperty,Lv={current:null},bj={key:!0,ref:!0,__self:!0,__source:!0};function Sj(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)wj.call(t,n)&&!bj.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Xc,type:e,key:o,ref:i,props:s,_owner:Lv.current}}function EL(e,t){return{$$typeof:Xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xc}function NL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var N0=/\/+/g;function gh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NL(""+e.key):t.toString(36)}function yd(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xc:case pL:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+gh(i,0):n,E0(s)?(r="",e!=null&&(r=e.replace(N0,"$&/")+"/"),yd(s,t,r,"",function(u){return u})):s!=null&&(Fv(s)&&(s=EL(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(N0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",E0(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+gh(o,a);i+=yd(o,t,r,c,s)}else if(c=CL(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+gh(o,a++),i+=yd(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mu(e,t,r){if(e==null)return e;var n=[],s=0;return yd(e,n,"","",function(o){return t.call(r,o,s++)}),n}function jL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},xd={transition:null},PL={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:xd,ReactCurrentOwner:Lv};function Cj(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Mu,forEach:function(e,t,r){Mu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mu(e,function(){t++}),t},toArray:function(e){return Mu(e,function(t){return t})||[]},only:function(e){if(!Fv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=tl;Ae.Fragment=hL;Ae.Profiler=gL;Ae.PureComponent=Ov;Ae.StrictMode=mL;Ae.Suspense=wL;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;Ae.act=Cj;Ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vj({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Lv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)wj.call(t,c)&&!bj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Xc,type:e.type,key:s,ref:o,props:n,_owner:i}};Ae.createContext=function(e){return e={$$typeof:yL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vL,_context:e},e.Consumer=e};Ae.createElement=Sj;Ae.createFactory=function(e){var t=Sj.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:xL,render:e}};Ae.isValidElement=Fv;Ae.lazy=function(e){return{$$typeof:SL,_payload:{_status:-1,_result:e},_init:jL}};Ae.memo=function(e,t){return{$$typeof:bL,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=xd.transition;xd.transition={};try{e()}finally{xd.transition=t}};Ae.unstable_act=Cj;Ae.useCallback=function(e,t){return br.current.useCallback(e,t)};Ae.useContext=function(e){return br.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return br.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return br.current.useEffect(e,t)};Ae.useId=function(){return br.current.useId()};Ae.useImperativeHandle=function(e,t,r){return br.current.useImperativeHandle(e,t,r)};Ae.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return br.current.useMemo(e,t)};Ae.useReducer=function(e,t,r){return br.current.useReducer(e,t,r)};Ae.useRef=function(e){return br.current.useRef(e)};Ae.useState=function(e){return br.current.useState(e)};Ae.useSyncExternalStore=function(e,t,r){return br.current.useSyncExternalStore(e,t,r)};Ae.useTransition=function(){return br.current.useTransition()};Ae.version="18.3.1";mj.exports=Ae;var h=mj.exports;const oe=Oi(h),$v=fL({__proto__:null,default:oe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL=h,kL=Symbol.for("react.element"),AL=Symbol.for("react.fragment"),DL=Object.prototype.hasOwnProperty,RL=TL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IL={key:!0,ref:!0,__self:!0,__source:!0};function Ej(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)DL.call(t,n)&&!IL.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:kL,type:e,key:o,ref:i,props:s,_owner:RL.current}}ep.Fragment=AL;ep.jsx=Ej;ep.jsxs=Ej;hj.exports=ep;var l=hj.exports,Nj={exports:{}},Xr={},jj={exports:{}},Pj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var q=L.length;L.push(B);e:for(;0<q;){var ie=q-1>>>1,fe=L[ie];if(0<s(fe,B))L[ie]=B,L[q]=fe,q=ie;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],q=L.pop();if(q!==B){L[0]=q;e:for(var ie=0,fe=L.length,qe=fe>>>1;ie<qe;){var Oe=2*(ie+1)-1,Je=L[Oe],Ke=Oe+1,ae=L[Ke];if(0>s(Je,q))Ke<fe&&0>s(ae,Je)?(L[ie]=ae,L[Ke]=q,ie=Ke):(L[ie]=Je,L[Oe]=q,ie=Oe);else if(Ke<fe&&0>s(ae,q))L[ie]=ae,L[Ke]=q,ie=Ke;else break e}}return B}function s(L,B){var q=L.sortIndex-B.sortIndex;return q!==0?q:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function S(L){if(y=!1,b(L),!v)if(r(c)!==null)v=!0,I(C);else{var B=r(u);B!==null&&U(S,B.startTime-L)}}function C(L,B){v=!1,y&&(y=!1,x(j),j=-1),m=!0;var q=p;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||L&&!O());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var fe=ie(f.expirationTime<=B);B=e.unstable_now(),typeof fe=="function"?f.callback=fe:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var qe=!0;else{var Oe=r(u);Oe!==null&&U(S,Oe.startTime-B),qe=!1}return qe}finally{f=null,p=q,m=!1}}var E=!1,N=null,j=-1,T=5,P=-1;function O(){return!(e.unstable_now()-P<T)}function D(){if(N!==null){var L=e.unstable_now();P=L;var B=!0;try{B=N(!0,L)}finally{B?_():(E=!1,N=null)}}else E=!1}var _;if(typeof g=="function")_=function(){g(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,F=k.port2;k.port1.onmessage=D,_=function(){F.postMessage(null)}}else _=function(){w(D,0)};function I(L){N=L,E||(E=!0,_())}function U(L,B){j=w(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,I(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var q=p;p=B;try{return L()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=p;p=L;try{return B()}finally{p=q}},e.unstable_scheduleCallback=function(L,B,q){var ie=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=q+fe,L={id:d++,callback:B,priorityLevel:L,startTime:q,expirationTime:fe,sortIndex:-1},q>ie?(L.sortIndex=q,t(u,L),r(c)===null&&L===r(u)&&(y?(x(j),j=-1):y=!0,U(S,q-ie))):(L.sortIndex=fe,t(c,L),v||m||(v=!0,I(C))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var B=p;return function(){var q=p;p=B;try{return L.apply(this,arguments)}finally{p=q}}}})(Pj);jj.exports=Pj;var _L=jj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OL=h,Qr=_L;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tj=new Set,lc={};function Mi(e,t){Ma(e,t),Ma(e+"Capture",t)}function Ma(e,t){for(lc[e]=t,e=0;e<t.length;e++)Tj.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,ML=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0={},P0={};function LL(e){return Pm.call(P0,e)?!0:Pm.call(j0,e)?!1:ML.test(e)?P0[e]=!0:(j0[e]=!0,!1)}function FL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $L(e,t,r,n){if(t===null||typeof t>"u"||FL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sr(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new Sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new Sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new Sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new Sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new Sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new Sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new Sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new Sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new Sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bv=/[\-:]([a-z])/g;function zv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bv,zv);rr[t]=new Sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bv,zv);rr[t]=new Sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bv,zv);rr[t]=new Sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new Sr(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new Sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vv(e,t,r,n){var s=rr.hasOwnProperty(t)?rr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($L(t,r,s,n)&&(r=null),n||s===null?LL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ls=OL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),kj=Symbol.for("react.provider"),Aj=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),Hv=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),Dj=Symbol.for("react.offscreen"),T0=Symbol.iterator;function wl(e){return e===null||typeof e!="object"?null:(e=T0&&e[T0]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,vh;function Fl(e){if(vh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vh=t&&t[1]||""}return`
`+vh+e}var yh=!1;function xh(e,t){if(!e||yh)return"";yh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{yh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fl(e):""}function BL(e){switch(e.tag){case 5:return Fl(e.type);case 16:return Fl("Lazy");case 13:return Fl("Suspense");case 19:return Fl("SuspenseList");case 0:case 2:case 15:return e=xh(e.type,!1),e;case 11:return e=xh(e.type.render,!1),e;case 1:return e=xh(e.type,!0),e;default:return""}}function Dm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ji:return"Fragment";case Zi:return"Portal";case Tm:return"Profiler";case Uv:return"StrictMode";case km:return"Suspense";case Am:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Aj:return(e.displayName||"Context")+".Consumer";case kj:return(e._context.displayName||"Context")+".Provider";case Wv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hv:return t=e.displayName||null,t!==null?t:Dm(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return Dm(e(t))}catch{}}return null}function zL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(t);case 8:return t===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VL(e){var t=Rj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fu(e){e._valueTracker||(e._valueTracker=VL(e))}function Ij(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Rj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rm(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function k0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ro(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _j(e,t){t=t.checked,t!=null&&Vv(e,"checked",t,!1)}function Im(e,t){_j(e,t);var r=Ro(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_m(e,t.type,r):t.hasOwnProperty("defaultValue")&&_m(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function A0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _m(e,t,r){(t!=="number"||zd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $l=Array.isArray;function ua(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ro(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Om(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function D0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if($l(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ro(r)}}function Oj(e,t){var r=Ro(t.value),n=Ro(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function R0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $u,Lj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($u=$u||document.createElement("div"),$u.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$u.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UL=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(e){UL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ql[t]=ql[e]})});function Fj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ql.hasOwnProperty(e)&&ql[e]?(""+t).trim():t+"px"}function $j(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Fj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var WL=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(e,t){if(t){if(WL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Fm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=null;function Gv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bm=null,da=null,fa=null;function I0(e){if(e=eu(e)){if(typeof Bm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=op(t),Bm(e.stateNode,e.type,t))}}function Bj(e){da?fa?fa.push(e):fa=[e]:da=e}function zj(){if(da){var e=da,t=fa;if(fa=da=null,I0(e),t)for(e=0;e<t.length;e++)I0(t[e])}}function Vj(e,t){return e(t)}function Uj(){}var wh=!1;function Wj(e,t,r){if(wh)return e(t,r);wh=!0;try{return Vj(e,t,r)}finally{wh=!1,(da!==null||fa!==null)&&(Uj(),zj())}}function uc(e,t){var r=e.stateNode;if(r===null)return null;var n=op(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var zm=!1;if(Ts)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){zm=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{zm=!1}function HL(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Kl=!1,Vd=null,Ud=!1,Vm=null,GL={onError:function(e){Kl=!0,Vd=e}};function qL(e,t,r,n,s,o,i,a,c){Kl=!1,Vd=null,HL.apply(GL,arguments)}function KL(e,t,r,n,s,o,i,a,c){if(qL.apply(this,arguments),Kl){if(Kl){var u=Vd;Kl=!1,Vd=null}else throw Error(G(198));Ud||(Ud=!0,Vm=u)}}function Li(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _0(e){if(Li(e)!==e)throw Error(G(188))}function QL(e){var t=e.alternate;if(!t){if(t=Li(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return _0(s),e;if(o===n)return _0(s),t;o=o.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function Gj(e){return e=QL(e),e!==null?qj(e):null}function qj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qj(e);if(t!==null)return t;e=e.sibling}return null}var Kj=Qr.unstable_scheduleCallback,O0=Qr.unstable_cancelCallback,YL=Qr.unstable_shouldYield,XL=Qr.unstable_requestPaint,Nt=Qr.unstable_now,ZL=Qr.unstable_getCurrentPriorityLevel,qv=Qr.unstable_ImmediatePriority,Qj=Qr.unstable_UserBlockingPriority,Wd=Qr.unstable_NormalPriority,JL=Qr.unstable_LowPriority,Yj=Qr.unstable_IdlePriority,tp=null,ts=null;function eF(e){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(tp,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:nF,tF=Math.log,rF=Math.LN2;function nF(e){return e>>>=0,e===0?32:31-(tF(e)/rF|0)|0}var Bu=64,zu=4194304;function Bl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=Bl(a):(o&=i,o!==0&&(n=Bl(o)))}else i=r&~s,i!==0?n=Bl(i):o!==0&&(n=Bl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),s=1<<r,n|=e[r],t&=~s;return n}function sF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oF(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-In(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=sF(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Um(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xj(){var e=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),e}function bh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=r}function iF(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-In(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Kv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-In(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ye=0;function Zj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jj,Qv,eP,tP,rP,Wm=!1,Vu=[],ho=null,mo=null,go=null,dc=new Map,fc=new Map,Ys=[],aF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M0(e,t){switch(e){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(t.pointerId)}}function Sl(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=eu(t),t!==null&&Qv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lF(e,t,r,n,s){switch(t){case"focusin":return ho=Sl(ho,e,t,r,n,s),!0;case"dragenter":return mo=Sl(mo,e,t,r,n,s),!0;case"mouseover":return go=Sl(go,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return dc.set(o,Sl(dc.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,fc.set(o,Sl(fc.get(o)||null,e,t,r,n,s)),!0}return!1}function nP(e){var t=ni(e.target);if(t!==null){var r=Li(t);if(r!==null){if(t=r.tag,t===13){if(t=Hj(r),t!==null){e.blockedOn=t,rP(e.priority,function(){eP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$m=n,r.target.dispatchEvent(n),$m=null}else return t=eu(r),t!==null&&Qv(t),e.blockedOn=r,!1;t.shift()}return!0}function L0(e,t,r){wd(e)&&r.delete(t)}function cF(){Wm=!1,ho!==null&&wd(ho)&&(ho=null),mo!==null&&wd(mo)&&(mo=null),go!==null&&wd(go)&&(go=null),dc.forEach(L0),fc.forEach(L0)}function Cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wm||(Wm=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,cF)))}function pc(e){function t(s){return Cl(s,e)}if(0<Vu.length){Cl(Vu[0],e);for(var r=1;r<Vu.length;r++){var n=Vu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ho!==null&&Cl(ho,e),mo!==null&&Cl(mo,e),go!==null&&Cl(go,e),dc.forEach(t),fc.forEach(t),r=0;r<Ys.length;r++)n=Ys[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ys.length&&(r=Ys[0],r.blockedOn===null);)nP(r),r.blockedOn===null&&Ys.shift()}var pa=Ls.ReactCurrentBatchConfig,Gd=!0;function uF(e,t,r,n){var s=Ye,o=pa.transition;pa.transition=null;try{Ye=1,Yv(e,t,r,n)}finally{Ye=s,pa.transition=o}}function dF(e,t,r,n){var s=Ye,o=pa.transition;pa.transition=null;try{Ye=4,Yv(e,t,r,n)}finally{Ye=s,pa.transition=o}}function Yv(e,t,r,n){if(Gd){var s=Hm(e,t,r,n);if(s===null)Dh(e,t,n,qd,r),M0(e,n);else if(lF(s,e,t,r,n))n.stopPropagation();else if(M0(e,n),t&4&&-1<aF.indexOf(e)){for(;s!==null;){var o=eu(s);if(o!==null&&Jj(o),o=Hm(e,t,r,n),o===null&&Dh(e,t,n,qd,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Dh(e,t,n,null,r)}}var qd=null;function Hm(e,t,r,n){if(qd=null,e=Gv(n),e=ni(e),e!==null)if(t=Li(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qd=e,null}function sP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZL()){case qv:return 1;case Qj:return 4;case Wd:case JL:return 16;case Yj:return 536870912;default:return 16}default:return 16}}var co=null,Xv=null,bd=null;function oP(){if(bd)return bd;var e,t=Xv,r=t.length,n,s="value"in co?co.value:co.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return bd=s.slice(e,1<n?1-n:void 0)}function Sd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uu(){return!0}function F0(){return!1}function Zr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uu:F0,this.isPropagationStopped=F0,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),t}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zv=Zr(rl),Jc=mt({},rl,{view:0,detail:0}),fF=Zr(Jc),Sh,Ch,El,rp=mt({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==El&&(El&&e.type==="mousemove"?(Sh=e.screenX-El.screenX,Ch=e.screenY-El.screenY):Ch=Sh=0,El=e),Sh)},movementY:function(e){return"movementY"in e?e.movementY:Ch}}),$0=Zr(rp),pF=mt({},rp,{dataTransfer:0}),hF=Zr(pF),mF=mt({},Jc,{relatedTarget:0}),Eh=Zr(mF),gF=mt({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),vF=Zr(gF),yF=mt({},rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xF=Zr(yF),wF=mt({},rl,{data:0}),B0=Zr(wF),bF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CF[e])?!!t[e]:!1}function Jv(){return EF}var NF=mt({},Jc,{key:function(e){if(e.key){var t=bF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jv,charCode:function(e){return e.type==="keypress"?Sd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jF=Zr(NF),PF=mt({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=Zr(PF),TF=mt({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jv}),kF=Zr(TF),AF=mt({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DF=Zr(AF),RF=mt({},rp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IF=Zr(RF),_F=[9,13,27,32],ey=Ts&&"CompositionEvent"in window,Ql=null;Ts&&"documentMode"in document&&(Ql=document.documentMode);var OF=Ts&&"TextEvent"in window&&!Ql,iP=Ts&&(!ey||Ql&&8<Ql&&11>=Ql),V0=" ",U0=!1;function aP(e,t){switch(e){case"keyup":return _F.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function MF(e,t){switch(e){case"compositionend":return lP(t);case"keypress":return t.which!==32?null:(U0=!0,V0);case"textInput":return e=t.data,e===V0&&U0?null:e;default:return null}}function LF(e,t){if(ea)return e==="compositionend"||!ey&&aP(e,t)?(e=oP(),bd=Xv=co=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iP&&t.locale!=="ko"?null:t.data;default:return null}}var FF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FF[e.type]:t==="textarea"}function cP(e,t,r,n){Bj(n),t=Kd(t,"onChange"),0<t.length&&(r=new Zv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yl=null,hc=null;function $F(e){wP(e,0)}function np(e){var t=na(e);if(Ij(t))return e}function BF(e,t){if(e==="change")return t}var uP=!1;if(Ts){var Nh;if(Ts){var jh="oninput"in document;if(!jh){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),jh=typeof H0.oninput=="function"}Nh=jh}else Nh=!1;uP=Nh&&(!document.documentMode||9<document.documentMode)}function G0(){Yl&&(Yl.detachEvent("onpropertychange",dP),hc=Yl=null)}function dP(e){if(e.propertyName==="value"&&np(hc)){var t=[];cP(t,hc,e,Gv(e)),Wj($F,t)}}function zF(e,t,r){e==="focusin"?(G0(),Yl=t,hc=r,Yl.attachEvent("onpropertychange",dP)):e==="focusout"&&G0()}function VF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return np(hc)}function UF(e,t){if(e==="click")return np(t)}function WF(e,t){if(e==="input"||e==="change")return np(t)}function HF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:HF;function mc(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pm.call(t,s)||!Mn(e[s],t[s]))return!1}return!0}function q0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function K0(e,t){var r=q0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=q0(r)}}function fP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pP(){for(var e=window,t=zd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zd(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GF(e){var t=pP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fP(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=K0(r,o);var i=K0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qF=Ts&&"documentMode"in document&&11>=document.documentMode,ta=null,Gm=null,Xl=null,qm=!1;function Q0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qm||ta==null||ta!==zd(n)||(n=ta,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xl&&mc(Xl,n)||(Xl=n,n=Kd(Gm,"onSelect"),0<n.length&&(t=new Zv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ta)))}function Wu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ra={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},Ph={},hP={};Ts&&(hP=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function sp(e){if(Ph[e])return Ph[e];if(!ra[e])return e;var t=ra[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hP)return Ph[e]=t[r];return e}var mP=sp("animationend"),gP=sp("animationiteration"),vP=sp("animationstart"),yP=sp("transitionend"),xP=new Map,Y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){xP.set(e,t),Mi(t,[e])}for(var Th=0;Th<Y0.length;Th++){var kh=Y0[Th],KF=kh.toLowerCase(),QF=kh[0].toUpperCase()+kh.slice(1);zo(KF,"on"+QF)}zo(mP,"onAnimationEnd");zo(gP,"onAnimationIteration");zo(vP,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(yP,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YF=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function X0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,KL(n,t,void 0,e),e.currentTarget=null}function wP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;X0(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;X0(s,a,u),o=c}}}if(Ud)throw e=Vm,Ud=!1,Vm=null,e}function ot(e,t){var r=t[Zm];r===void 0&&(r=t[Zm]=new Set);var n=e+"__bubble";r.has(n)||(bP(t,e,2,!1),r.add(n))}function Ah(e,t,r){var n=0;t&&(n|=4),bP(r,e,n,t)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Hu]){e[Hu]=!0,Tj.forEach(function(r){r!=="selectionchange"&&(YF.has(r)||Ah(r,!1,e),Ah(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hu]||(t[Hu]=!0,Ah("selectionchange",!1,t))}}function bP(e,t,r,n){switch(sP(t)){case 1:var s=uF;break;case 4:s=dF;break;default:s=Yv}r=s.bind(null,t,r,e),s=void 0,!zm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Dh(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ni(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Wj(function(){var u=o,d=Gv(r),f=[];e:{var p=xP.get(e);if(p!==void 0){var m=Zv,v=e;switch(e){case"keypress":if(Sd(r)===0)break e;case"keydown":case"keyup":m=jF;break;case"focusin":v="focus",m=Eh;break;case"focusout":v="blur",m=Eh;break;case"beforeblur":case"afterblur":m=Eh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kF;break;case mP:case gP:case vP:m=vF;break;case yP:m=DF;break;case"scroll":m=fF;break;case"wheel":m=IF;break;case"copy":case"cut":case"paste":m=xF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=z0}var y=(t&4)!==0,w=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=uc(g,x),S!=null&&y.push(vc(g,S,b)))),w)break;g=g.return}0<y.length&&(p=new m(p,v,null,r,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==$m&&(v=r.relatedTarget||r.fromElement)&&(ni(v)||v[ks]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?ni(v):null,v!==null&&(w=Li(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=$0,S="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=z0,S="onPointerLeave",x="onPointerEnter",g="pointer"),w=m==null?p:na(m),b=v==null?p:na(v),p=new y(S,g+"leave",m,r,d),p.target=w,p.relatedTarget=b,S=null,ni(d)===u&&(y=new y(x,g+"enter",v,r,d),y.target=b,y.relatedTarget=w,S=y),w=S,m&&v)t:{for(y=m,x=v,g=0,b=y;b;b=Vi(b))g++;for(b=0,S=x;S;S=Vi(S))b++;for(;0<g-b;)y=Vi(y),g--;for(;0<b-g;)x=Vi(x),b--;for(;g--;){if(y===x||x!==null&&y===x.alternate)break t;y=Vi(y),x=Vi(x)}y=null}else y=null;m!==null&&Z0(f,p,m,y,!1),v!==null&&w!==null&&Z0(f,w,v,y,!0)}}e:{if(p=u?na(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=BF;else if(W0(p))if(uP)C=WF;else{C=VF;var E=zF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=UF);if(C&&(C=C(e,u))){cP(f,C,r,d);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&_m(p,"number",p.value)}switch(E=u?na(u):window,e){case"focusin":(W0(E)||E.contentEditable==="true")&&(ta=E,Gm=u,Xl=null);break;case"focusout":Xl=Gm=ta=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,Q0(f,r,d);break;case"selectionchange":if(qF)break;case"keydown":case"keyup":Q0(f,r,d)}var N;if(ey)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ea?aP(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(iP&&r.locale!=="ko"&&(ea||j!=="onCompositionStart"?j==="onCompositionEnd"&&ea&&(N=oP()):(co=d,Xv="value"in co?co.value:co.textContent,ea=!0)),E=Kd(u,j),0<E.length&&(j=new B0(j,e,null,r,d),f.push({event:j,listeners:E}),N?j.data=N:(N=lP(r),N!==null&&(j.data=N)))),(N=OF?MF(e,r):LF(e,r))&&(u=Kd(u,"onBeforeInput"),0<u.length&&(d=new B0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}wP(f,t)})}function vc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=uc(e,r),o!=null&&n.unshift(vc(e,o,s)),o=uc(e,t),o!=null&&n.push(vc(e,o,s))),e=e.return}return n}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=uc(r,o),c!=null&&i.unshift(vc(r,c,a))):s||(c=uc(r,o),c!=null&&i.push(vc(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var XF=/\r\n?/g,ZF=/\u0000|\uFFFD/g;function J0(e){return(typeof e=="string"?e:""+e).replace(XF,`
`).replace(ZF,"")}function Gu(e,t,r){if(t=J0(t),J0(e)!==t&&r)throw Error(G(425))}function Qd(){}var Km=null,Qm=null;function Ym(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,JF=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(e){return ew.resolve(null).then(e).catch(t4)}:Xm;function t4(e){setTimeout(function(){throw e})}function Rh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),pc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);pc(t)}function vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Kn="__reactFiber$"+nl,yc="__reactProps$"+nl,ks="__reactContainer$"+nl,Zm="__reactEvents$"+nl,r4="__reactListeners$"+nl,n4="__reactHandles$"+nl;function ni(e){var t=e[Kn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ks]||r[Kn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tw(e);e!==null;){if(r=e[Kn])return r;e=tw(e)}return t}e=r,r=e.parentNode}return null}function eu(e){return e=e[Kn]||e[ks],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function op(e){return e[yc]||null}var Jm=[],sa=-1;function Vo(e){return{current:e}}function it(e){0>sa||(e.current=Jm[sa],Jm[sa]=null,sa--)}function tt(e,t){sa++,Jm[sa]=e.current,e.current=t}var Io={},cr=Vo(Io),Or=Vo(!1),bi=Io;function La(e,t){var r=e.type.contextTypes;if(!r)return Io;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(e){return e=e.childContextTypes,e!=null}function Yd(){it(Or),it(cr)}function rw(e,t,r){if(cr.current!==Io)throw Error(G(168));tt(cr,t),tt(Or,r)}function SP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,zL(e)||"Unknown",s));return mt({},r,n)}function Xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,bi=cr.current,tt(cr,e),tt(Or,Or.current),!0}function nw(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=SP(e,t,bi),n.__reactInternalMemoizedMergedChildContext=e,it(Or),it(cr),tt(cr,e)):it(Or),tt(Or,r)}var ys=null,ip=!1,Ih=!1;function CP(e){ys===null?ys=[e]:ys.push(e)}function s4(e){ip=!0,CP(e)}function Uo(){if(!Ih&&ys!==null){Ih=!0;var e=0,t=Ye;try{var r=ys;for(Ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ys=null,ip=!1}catch(s){throw ys!==null&&(ys=ys.slice(e+1)),Kj(qv,Uo),s}finally{Ye=t,Ih=!1}}return null}var oa=[],ia=0,Zd=null,Jd=0,nn=[],sn=0,Si=null,bs=1,Ss="";function Xo(e,t){oa[ia++]=Jd,oa[ia++]=Zd,Zd=e,Jd=t}function EP(e,t,r){nn[sn++]=bs,nn[sn++]=Ss,nn[sn++]=Si,Si=e;var n=bs;e=Ss;var s=32-In(n)-1;n&=~(1<<s),r+=1;var o=32-In(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,bs=1<<32-In(t)+s|r<<s|n,Ss=o+e}else bs=1<<o|r<<s|n,Ss=e}function ry(e){e.return!==null&&(Xo(e,1),EP(e,1,0))}function ny(e){for(;e===Zd;)Zd=oa[--ia],oa[ia]=null,Jd=oa[--ia],oa[ia]=null;for(;e===Si;)Si=nn[--sn],nn[sn]=null,Ss=nn[--sn],nn[sn]=null,bs=nn[--sn],nn[sn]=null}var Hr=null,Ur=null,ct=!1,jn=null;function NP(e,t){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hr=e,Ur=vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hr=e,Ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Si!==null?{id:bs,overflow:Ss}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Hr=e,Ur=null,!0):!1;default:return!1}}function eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tg(e){if(ct){var t=Ur;if(t){var r=t;if(!sw(e,t)){if(eg(e))throw Error(G(418));t=vo(r.nextSibling);var n=Hr;t&&sw(e,t)?NP(n,r):(e.flags=e.flags&-4097|2,ct=!1,Hr=e)}}else{if(eg(e))throw Error(G(418));e.flags=e.flags&-4097|2,ct=!1,Hr=e}}}function ow(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hr=e}function qu(e){if(e!==Hr)return!1;if(!ct)return ow(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ym(e.type,e.memoizedProps)),t&&(t=Ur)){if(eg(e))throw jP(),Error(G(418));for(;t;)NP(e,t),t=vo(t.nextSibling)}if(ow(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ur=vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ur=null}}else Ur=Hr?vo(e.stateNode.nextSibling):null;return!0}function jP(){for(var e=Ur;e;)e=vo(e.nextSibling)}function Fa(){Ur=Hr=null,ct=!1}function sy(e){jn===null?jn=[e]:jn.push(e)}var o4=Ls.ReactCurrentBatchConfig;function Nl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Ku(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iw(e){var t=e._init;return t(e._payload)}function PP(e){function t(x,g){if(e){var b=x.deletions;b===null?(x.deletions=[g],x.flags|=16):b.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=bo(x,g),x.index=0,x.sibling=null,x}function o(x,g,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<g?(x.flags|=2,g):b):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,g,b,S){return g===null||g.tag!==6?(g=Bh(b,x.mode,S),g.return=x,g):(g=s(g,b),g.return=x,g)}function c(x,g,b,S){var C=b.type;return C===Ji?d(x,g,b.props.children,S,b.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&iw(C)===g.type)?(S=s(g,b.props),S.ref=Nl(x,g,b),S.return=x,S):(S=kd(b.type,b.key,b.props,null,x.mode,S),S.ref=Nl(x,g,b),S.return=x,S)}function u(x,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=zh(b,x.mode,S),g.return=x,g):(g=s(g,b.children||[]),g.return=x,g)}function d(x,g,b,S,C){return g===null||g.tag!==7?(g=vi(b,x.mode,S,C),g.return=x,g):(g=s(g,b),g.return=x,g)}function f(x,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Bh(""+g,x.mode,b),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lu:return b=kd(g.type,g.key,g.props,null,x.mode,b),b.ref=Nl(x,null,g),b.return=x,b;case Zi:return g=zh(g,x.mode,b),g.return=x,g;case Gs:var S=g._init;return f(x,S(g._payload),b)}if($l(g)||wl(g))return g=vi(g,x.mode,b,null),g.return=x,g;Ku(x,g)}return null}function p(x,g,b,S){var C=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(x,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lu:return b.key===C?c(x,g,b,S):null;case Zi:return b.key===C?u(x,g,b,S):null;case Gs:return C=b._init,p(x,g,C(b._payload),S)}if($l(b)||wl(b))return C!==null?null:d(x,g,b,S,null);Ku(x,b)}return null}function m(x,g,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,a(g,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:return x=x.get(S.key===null?b:S.key)||null,c(g,x,S,C);case Zi:return x=x.get(S.key===null?b:S.key)||null,u(g,x,S,C);case Gs:var E=S._init;return m(x,g,b,E(S._payload),C)}if($l(S)||wl(S))return x=x.get(b)||null,d(g,x,S,C,null);Ku(g,S)}return null}function v(x,g,b,S){for(var C=null,E=null,N=g,j=g=0,T=null;N!==null&&j<b.length;j++){N.index>j?(T=N,N=null):T=N.sibling;var P=p(x,N,b[j],S);if(P===null){N===null&&(N=T);break}e&&N&&P.alternate===null&&t(x,N),g=o(P,g,j),E===null?C=P:E.sibling=P,E=P,N=T}if(j===b.length)return r(x,N),ct&&Xo(x,j),C;if(N===null){for(;j<b.length;j++)N=f(x,b[j],S),N!==null&&(g=o(N,g,j),E===null?C=N:E.sibling=N,E=N);return ct&&Xo(x,j),C}for(N=n(x,N);j<b.length;j++)T=m(N,x,j,b[j],S),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?j:T.key),g=o(T,g,j),E===null?C=T:E.sibling=T,E=T);return e&&N.forEach(function(O){return t(x,O)}),ct&&Xo(x,j),C}function y(x,g,b,S){var C=wl(b);if(typeof C!="function")throw Error(G(150));if(b=C.call(b),b==null)throw Error(G(151));for(var E=C=null,N=g,j=g=0,T=null,P=b.next();N!==null&&!P.done;j++,P=b.next()){N.index>j?(T=N,N=null):T=N.sibling;var O=p(x,N,P.value,S);if(O===null){N===null&&(N=T);break}e&&N&&O.alternate===null&&t(x,N),g=o(O,g,j),E===null?C=O:E.sibling=O,E=O,N=T}if(P.done)return r(x,N),ct&&Xo(x,j),C;if(N===null){for(;!P.done;j++,P=b.next())P=f(x,P.value,S),P!==null&&(g=o(P,g,j),E===null?C=P:E.sibling=P,E=P);return ct&&Xo(x,j),C}for(N=n(x,N);!P.done;j++,P=b.next())P=m(N,x,j,P.value,S),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?j:P.key),g=o(P,g,j),E===null?C=P:E.sibling=P,E=P);return e&&N.forEach(function(D){return t(x,D)}),ct&&Xo(x,j),C}function w(x,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Ji&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lu:e:{for(var C=b.key,E=g;E!==null;){if(E.key===C){if(C=b.type,C===Ji){if(E.tag===7){r(x,E.sibling),g=s(E,b.props.children),g.return=x,x=g;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&iw(C)===E.type){r(x,E.sibling),g=s(E,b.props),g.ref=Nl(x,E,b),g.return=x,x=g;break e}r(x,E);break}else t(x,E);E=E.sibling}b.type===Ji?(g=vi(b.props.children,x.mode,S,b.key),g.return=x,x=g):(S=kd(b.type,b.key,b.props,null,x.mode,S),S.ref=Nl(x,g,b),S.return=x,x=S)}return i(x);case Zi:e:{for(E=b.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(x,g.sibling),g=s(g,b.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=zh(b,x.mode,S),g.return=x,x=g}return i(x);case Gs:return E=b._init,w(x,g,E(b._payload),S)}if($l(b))return v(x,g,b,S);if(wl(b))return y(x,g,b,S);Ku(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(x,g.sibling),g=s(g,b),g.return=x,x=g):(r(x,g),g=Bh(b,x.mode,S),g.return=x,x=g),i(x)):r(x,g)}return w}var $a=PP(!0),TP=PP(!1),ef=Vo(null),tf=null,aa=null,oy=null;function iy(){oy=aa=tf=null}function ay(e){var t=ef.current;it(ef),e._currentValue=t}function rg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ha(e,t){tf=e,oy=aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_r=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(oy!==e)if(e={context:e,memoizedValue:t,next:null},aa===null){if(tf===null)throw Error(G(308));aa=e,tf.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var si=null;function ly(e){si===null?si=[e]:si.push(e)}function kP(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ly(t)):(r.next=s.next,s.next=r),t.interleaved=r,As(e,n)}function As(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qs=!1;function cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,As(e,r)}return s=n.interleaved,s===null?(t.next=t,ly(n)):(t.next=s.next,s.next=t),n.interleaved=t,As(e,r)}function Cd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kv(e,r)}}function aw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rf(e,t,r,n){var s=e.updateQueue;qs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var p=a.lane,m=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(p=t,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=mt({},f,p);break e;case 2:qs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ei|=i,e.lanes=i,e.memoizedState=f}}function lw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var tu={},rs=Vo(tu),xc=Vo(tu),wc=Vo(tu);function oi(e){if(e===tu)throw Error(G(174));return e}function uy(e,t){switch(tt(wc,t),tt(xc,e),tt(rs,tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mm(t,e)}it(rs),tt(rs,t)}function Ba(){it(rs),it(xc),it(wc)}function DP(e){oi(wc.current);var t=oi(rs.current),r=Mm(t,e.type);t!==r&&(tt(xc,e),tt(rs,r))}function dy(e){xc.current===e&&(it(rs),it(xc))}var pt=Vo(0);function nf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _h=[];function fy(){for(var e=0;e<_h.length;e++)_h[e]._workInProgressVersionPrimary=null;_h.length=0}var Ed=Ls.ReactCurrentDispatcher,Oh=Ls.ReactCurrentBatchConfig,Ci=0,ht=null,_t=null,Bt=null,sf=!1,Zl=!1,bc=0,i4=0;function nr(){throw Error(G(321))}function py(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mn(e[r],t[r]))return!1;return!0}function hy(e,t,r,n,s,o){if(Ci=o,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ed.current=e===null||e.memoizedState===null?u4:d4,e=r(n,s),Zl){o=0;do{if(Zl=!1,bc=0,25<=o)throw Error(G(301));o+=1,Bt=_t=null,t.updateQueue=null,Ed.current=f4,e=r(n,s)}while(Zl)}if(Ed.current=of,t=_t!==null&&_t.next!==null,Ci=0,Bt=_t=ht=null,sf=!1,t)throw Error(G(300));return e}function my(){var e=bc!==0;return bc=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ht.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function hn(){if(_t===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Bt===null?ht.memoizedState:Bt.next;if(t!==null)Bt=t,_t=e;else{if(e===null)throw Error(G(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Bt===null?ht.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Sc(e,t){return typeof t=="function"?t(e):t}function Mh(e){var t=hn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=_t,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Ci&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,ht.lanes|=d,Ei|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,Mn(n,t.memoizedState)||(_r=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,ht.lanes|=o,Ei|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lh(e){var t=hn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Mn(o,t.memoizedState)||(_r=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function RP(){}function IP(e,t){var r=ht,n=hn(),s=t(),o=!Mn(n.memoizedState,s);if(o&&(n.memoizedState=s,_r=!0),n=n.queue,gy(MP.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,Cc(9,OP.bind(null,r,n,s,t),void 0,null),Vt===null)throw Error(G(349));Ci&30||_P(r,t,s)}return s}function _P(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OP(e,t,r,n){t.value=r,t.getSnapshot=n,LP(t)&&FP(e)}function MP(e,t,r){return r(function(){LP(t)&&FP(e)})}function LP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mn(e,r)}catch{return!0}}function FP(e){var t=As(e,1);t!==null&&_n(t,e,1,-1)}function cw(e){var t=Wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:e},t.queue=e,e=e.dispatch=c4.bind(null,ht,e),[t.memoizedState,e]}function Cc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $P(){return hn().memoizedState}function Nd(e,t,r,n){var s=Wn();ht.flags|=e,s.memoizedState=Cc(1|t,r,void 0,n===void 0?null:n)}function ap(e,t,r,n){var s=hn();n=n===void 0?null:n;var o=void 0;if(_t!==null){var i=_t.memoizedState;if(o=i.destroy,n!==null&&py(n,i.deps)){s.memoizedState=Cc(t,r,o,n);return}}ht.flags|=e,s.memoizedState=Cc(1|t,r,o,n)}function uw(e,t){return Nd(8390656,8,e,t)}function gy(e,t){return ap(2048,8,e,t)}function BP(e,t){return ap(4,2,e,t)}function zP(e,t){return ap(4,4,e,t)}function VP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UP(e,t,r){return r=r!=null?r.concat([e]):null,ap(4,4,VP.bind(null,t,e),r)}function vy(){}function WP(e,t){var r=hn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&py(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HP(e,t){var r=hn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&py(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function GP(e,t,r){return Ci&21?(Mn(r,t)||(r=Xj(),ht.lanes|=r,Ei|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_r=!0),e.memoizedState=r)}function a4(e,t){var r=Ye;Ye=r!==0&&4>r?r:4,e(!0);var n=Oh.transition;Oh.transition={};try{e(!1),t()}finally{Ye=r,Oh.transition=n}}function qP(){return hn().memoizedState}function l4(e,t,r){var n=wo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KP(e))QP(t,r);else if(r=kP(e,t,r,n),r!==null){var s=wr();_n(r,e,n,s),YP(r,t,n)}}function c4(e,t,r){var n=wo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KP(e))QP(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,Mn(a,i)){var c=t.interleaved;c===null?(s.next=s,ly(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=kP(e,t,s,n),r!==null&&(s=wr(),_n(r,e,n,s),YP(r,t,n))}}function KP(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function QP(e,t){Zl=sf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function YP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kv(e,r)}}var of={readContext:pn,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},u4={readContext:pn,useCallback:function(e,t){return Wn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:uw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nd(4194308,4,VP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nd(4,2,e,t)},useMemo:function(e,t){var r=Wn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=l4.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=Wn();return e={current:e},t.memoizedState=e},useState:cw,useDebugValue:vy,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=cw(!1),t=e[0];return e=a4.bind(null,e[1]),Wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,s=Wn();if(ct){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Vt===null)throw Error(G(349));Ci&30||_P(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,uw(MP.bind(null,n,o,e),[e]),n.flags|=2048,Cc(9,OP.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Wn(),t=Vt.identifierPrefix;if(ct){var r=Ss,n=bs;r=(n&~(1<<32-In(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=i4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d4={readContext:pn,useCallback:WP,useContext:pn,useEffect:gy,useImperativeHandle:UP,useInsertionEffect:BP,useLayoutEffect:zP,useMemo:HP,useReducer:Mh,useRef:$P,useState:function(){return Mh(Sc)},useDebugValue:vy,useDeferredValue:function(e){var t=hn();return GP(t,_t.memoizedState,e)},useTransition:function(){var e=Mh(Sc)[0],t=hn().memoizedState;return[e,t]},useMutableSource:RP,useSyncExternalStore:IP,useId:qP,unstable_isNewReconciler:!1},f4={readContext:pn,useCallback:WP,useContext:pn,useEffect:gy,useImperativeHandle:UP,useInsertionEffect:BP,useLayoutEffect:zP,useMemo:HP,useReducer:Lh,useRef:$P,useState:function(){return Lh(Sc)},useDebugValue:vy,useDeferredValue:function(e){var t=hn();return _t===null?t.memoizedState=e:GP(t,_t.memoizedState,e)},useTransition:function(){var e=Lh(Sc)[0],t=hn().memoizedState;return[e,t]},useMutableSource:RP,useSyncExternalStore:IP,useId:qP,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ng(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lp={isMounted:function(e){return(e=e._reactInternals)?Li(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=wr(),s=wo(e),o=Es(n,s);o.payload=t,r!=null&&(o.callback=r),t=yo(e,o,s),t!==null&&(_n(t,e,s,n),Cd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=wr(),s=wo(e),o=Es(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=yo(e,o,s),t!==null&&(_n(t,e,s,n),Cd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wr(),n=wo(e),s=Es(r,n);s.tag=2,t!=null&&(s.callback=t),t=yo(e,s,n),t!==null&&(_n(t,e,n,r),Cd(t,e,n))}};function dw(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!mc(r,n)||!mc(s,o):!0}function XP(e,t,r){var n=!1,s=Io,o=t.contextType;return typeof o=="object"&&o!==null?o=pn(o):(s=Mr(t)?bi:cr.current,n=t.contextTypes,o=(n=n!=null)?La(e,s):Io),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function fw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lp.enqueueReplaceState(t,t.state,null)}function sg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cy(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=pn(o):(o=Mr(t)?bi:cr.current,s.context=La(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ng(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lp.enqueueReplaceState(s,s.state,null),rf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function za(e,t){try{var r="",n=t;do r+=BL(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Fh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function og(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var p4=typeof WeakMap=="function"?WeakMap:Map;function ZP(e,t,r){r=Es(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lf||(lf=!0,mg=n),og(e,t)},r}function JP(e,t,r){r=Es(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){og(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){og(e,t),typeof n!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function pw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new p4;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=P4.bind(null,e,t,r),t.then(e,e))}function hw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mw(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Es(-1,1),t.tag=2,yo(r,t,1))),r.lanes|=1),e)}var h4=Ls.ReactCurrentOwner,_r=!1;function gr(e,t,r,n){t.child=e===null?TP(t,null,r,n):$a(t,e.child,r,n)}function gw(e,t,r,n,s){r=r.render;var o=t.ref;return ha(t,s),n=hy(e,t,r,n,o,s),r=my(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(ct&&r&&ry(t),t.flags|=1,gr(e,t,n,s),t.child)}function vw(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Ny(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,eT(e,t,o,n,s)):(e=kd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:mc,r(i,n)&&e.ref===t.ref)return Ds(e,t,s)}return t.flags|=1,e=bo(o,n),e.ref=t.ref,e.return=t,t.child=e}function eT(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(mc(o,n)&&e.ref===t.ref)if(_r=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(_r=!0);else return t.lanes=e.lanes,Ds(e,t,s)}return ig(e,t,r,n,s)}function tT(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ca,$r),$r|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(ca,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,tt(ca,$r),$r|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,tt(ca,$r),$r|=n;return gr(e,t,s,r),t.child}function rT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ig(e,t,r,n,s){var o=Mr(r)?bi:cr.current;return o=La(t,o),ha(t,s),r=hy(e,t,r,n,o,s),n=my(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(ct&&n&&ry(t),t.flags|=1,gr(e,t,r,s),t.child)}function yw(e,t,r,n,s){if(Mr(r)){var o=!0;Xd(t)}else o=!1;if(ha(t,s),t.stateNode===null)jd(e,t),XP(t,r,n),sg(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Mr(r)?bi:cr.current,u=La(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&fw(t,i,n,u),qs=!1;var p=t.memoizedState;i.state=p,rf(t,n,i,s),c=t.memoizedState,a!==n||p!==c||Or.current||qs?(typeof d=="function"&&(ng(t,r,d,n),c=t.memoizedState),(a=qs||dw(t,r,a,n,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,AP(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Sn(t.type,a),i.props=u,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Mr(r)?bi:cr.current,c=La(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==c)&&fw(t,i,n,c),qs=!1,p=t.memoizedState,i.state=p,rf(t,n,i,s);var v=t.memoizedState;a!==f||p!==v||Or.current||qs?(typeof m=="function"&&(ng(t,r,m,n),v=t.memoizedState),(u=qs||dw(t,r,u,n,p,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ag(e,t,r,n,o,s)}function ag(e,t,r,n,s,o){rT(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&nw(t,r,!1),Ds(e,t,o);n=t.stateNode,h4.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$a(t,e.child,null,o),t.child=$a(t,null,a,o)):gr(e,t,a,o),t.memoizedState=n.state,s&&nw(t,r,!0),t.child}function nT(e){var t=e.stateNode;t.pendingContext?rw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rw(e,t.context,!1),uy(e,t.containerInfo)}function xw(e,t,r,n,s){return Fa(),sy(s),t.flags|=256,gr(e,t,r,n),t.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function sT(e,t,r){var n=t.pendingProps,s=pt.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(pt,s&1),e===null)return tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=dp(i,n,0,null),e=vi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cg(r),t.memoizedState=lg,e):yy(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m4(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=bo(a,o):(o=vi(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?cg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=lg,n}return o=e.child,e=o.sibling,n=bo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yy(e,t){return t=dp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qu(e,t,r,n){return n!==null&&sy(n),$a(t,e.child,null,r),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m4(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Fh(Error(G(422))),Qu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=dp({mode:"visible",children:n.children},s,0,null),o=vi(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&$a(t,e.child,null,i),t.child.memoizedState=cg(i),t.memoizedState=lg,o);if(!(t.mode&1))return Qu(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(G(419)),n=Fh(o,n,void 0),Qu(e,t,i,n)}if(a=(i&e.childLanes)!==0,_r||a){if(n=Vt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,As(e,s),_n(n,e,s,-1))}return Ey(),n=Fh(Error(G(421))),Qu(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=T4.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ur=vo(s.nextSibling),Hr=t,ct=!0,jn=null,e!==null&&(nn[sn++]=bs,nn[sn++]=Ss,nn[sn++]=Si,bs=e.id,Ss=e.overflow,Si=t),t=yy(t,n.children),t.flags|=4096,t)}function ww(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rg(e.return,t,r)}function $h(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function oT(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(gr(e,t,n.children,r),n=pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ww(e,r,t);else if(e.tag===19)ww(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(pt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&nf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$h(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$h(t,!0,r,null,o);break;case"together":$h(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ei|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=bo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function g4(e,t,r){switch(t.tag){case 3:nT(t),Fa();break;case 5:DP(t);break;case 1:Mr(t.type)&&Xd(t);break;case 4:uy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;tt(ef,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(pt,pt.current&1),t.flags|=128,null):r&t.child.childLanes?sT(e,t,r):(tt(pt,pt.current&1),e=Ds(e,t,r),e!==null?e.sibling:null);tt(pt,pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return oT(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(pt,pt.current),n)break;return null;case 22:case 23:return t.lanes=0,tT(e,t,r)}return Ds(e,t,r)}var iT,ug,aT,lT;iT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ug=function(){};aT=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,oi(rs.current);var o=null;switch(r){case"input":s=Rm(e,s),n=Rm(e,n),o=[];break;case"select":s=mt({},s,{value:void 0}),n=mt({},n,{value:void 0}),o=[];break;case"textarea":s=Om(e,s),n=Om(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qd)}Lm(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};lT=function(e,t,r,n){r!==n&&(t.flags|=4)};function jl(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v4(e,t,r){var n=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Mr(t.type)&&Yd(),sr(t),null;case 3:return n=t.stateNode,Ba(),it(Or),it(cr),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(yg(jn),jn=null))),ug(e,t),sr(t),null;case 5:dy(t);var s=oi(wc.current);if(r=t.type,e!==null&&t.stateNode!=null)aT(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return sr(t),null}if(e=oi(rs.current),qu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Kn]=t,n[yc]=o,e=(t.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(s=0;s<zl.length;s++)ot(zl[s],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":k0(n,o),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ot("invalid",n);break;case"textarea":D0(n,o),ot("invalid",n)}Lm(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Gu(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Gu(n.textContent,a,e),s=["children",""+a]):lc.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ot("scroll",n)}switch(r){case"input":Fu(n),A0(n,o,!0);break;case"textarea":Fu(n),R0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Kn]=t,e[yc]=n,iT(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fm(r,n),r){case"dialog":ot("cancel",e),ot("close",e),s=n;break;case"iframe":case"object":case"embed":ot("load",e),s=n;break;case"video":case"audio":for(s=0;s<zl.length;s++)ot(zl[s],e);s=n;break;case"source":ot("error",e),s=n;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=n;break;case"details":ot("toggle",e),s=n;break;case"input":k0(e,n),s=Rm(e,n),ot("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=mt({},n,{value:void 0}),ot("invalid",e);break;case"textarea":D0(e,n),s=Om(e,n),ot("invalid",e);break;default:s=n}Lm(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?$j(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lj(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cc(e,c):typeof c=="number"&&cc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ot("scroll",e):c!=null&&Vv(e,o,c,i))}switch(r){case"input":Fu(e),A0(e,n,!1);break;case"textarea":Fu(e),R0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ro(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ua(e,!!n.multiple,o,!1):n.defaultValue!=null&&ua(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)lT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=oi(wc.current),oi(rs.current),qu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kn]=t,(o=n.nodeValue!==r)&&(e=Hr,e!==null))switch(e.tag){case 3:Gu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kn]=t,t.stateNode=n}return sr(t),null;case 13:if(it(pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&Ur!==null&&t.mode&1&&!(t.flags&128))jP(),Fa(),t.flags|=98560,o=!1;else if(o=qu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[Kn]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),o=!1}else jn!==null&&(yg(jn),jn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Mt===0&&(Mt=3):Ey())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return Ba(),ug(e,t),e===null&&gc(t.stateNode.containerInfo),sr(t),null;case 10:return ay(t.type._context),sr(t),null;case 17:return Mr(t.type)&&Yd(),sr(t),null;case 19:if(it(pt),o=t.memoizedState,o===null)return sr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)jl(o,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=nf(e),i!==null){for(t.flags|=128,jl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(pt,pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Nt()>Va&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304)}else{if(!n)if(e=nf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ct)return sr(t),null}else 2*Nt()-o.renderingStartTime>Va&&r!==1073741824&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Nt(),t.sibling=null,r=pt.current,tt(pt,n?r&1|2:r&1),t):(sr(t),null);case 22:case 23:return Cy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$r&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function y4(e,t){switch(ny(t),t.tag){case 1:return Mr(t.type)&&Yd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ba(),it(Or),it(cr),fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dy(t),null;case 13:if(it(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(pt),null;case 4:return Ba(),null;case 10:return ay(t.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var Yu=!1,ir=!1,x4=typeof WeakSet=="function"?WeakSet:Set,le=null;function la(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){wt(e,t,n)}}var bw=!1;function w4(e,t){if(Km=Gd,e=pP(),ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===s&&(a=i),p===o&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qm={focusedElem:e,selectionRange:r},Gd=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Sn(t.type,y),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){wt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return v=bw,bw=!1,v}function Jl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&dg(t,r,o)}s=s.next}while(s!==n)}}function cp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cT(e){var t=e.alternate;t!==null&&(e.alternate=null,cT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[yc],delete t[Zm],delete t[r4],delete t[n4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uT(e){return e.tag===5||e.tag===3||e.tag===4}function Sw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qd));else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}function hg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hg(e,t,r),e=e.sibling;e!==null;)hg(e,t,r),e=e.sibling}var Zt=null,Nn=!1;function Bs(e,t,r){for(r=r.child;r!==null;)dT(e,t,r),r=r.sibling}function dT(e,t,r){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(tp,r)}catch{}switch(r.tag){case 5:ir||la(r,t);case 6:var n=Zt,s=Nn;Zt=null,Bs(e,t,r),Zt=n,Nn=s,Zt!==null&&(Nn?(e=Zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(Nn?(e=Zt,r=r.stateNode,e.nodeType===8?Rh(e.parentNode,r):e.nodeType===1&&Rh(e,r),pc(e)):Rh(Zt,r.stateNode));break;case 4:n=Zt,s=Nn,Zt=r.stateNode.containerInfo,Nn=!0,Bs(e,t,r),Zt=n,Nn=s;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&dg(r,t,i),s=s.next}while(s!==n)}Bs(e,t,r);break;case 1:if(!ir&&(la(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){wt(r,t,a)}Bs(e,t,r);break;case 21:Bs(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Bs(e,t,r),ir=n):Bs(e,t,r);break;default:Bs(e,t,r)}}function Cw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new x4),t.forEach(function(n){var s=k4.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Zt=a.stateNode,Nn=!1;break e;case 3:Zt=a.stateNode.containerInfo,Nn=!0;break e;case 4:Zt=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(Zt===null)throw Error(G(160));dT(o,i,s),Zt=null,Nn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){wt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fT(t,e),t=t.sibling}function fT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xn(t,e),Un(e),n&4){try{Jl(3,e,e.return),cp(3,e)}catch(y){wt(e,e.return,y)}try{Jl(5,e,e.return)}catch(y){wt(e,e.return,y)}}break;case 1:xn(t,e),Un(e),n&512&&r!==null&&la(r,r.return);break;case 5:if(xn(t,e),Un(e),n&512&&r!==null&&la(r,r.return),e.flags&32){var s=e.stateNode;try{cc(s,"")}catch(y){wt(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&_j(s,o),Fm(a,i);var u=Fm(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?$j(s,f):d==="dangerouslySetInnerHTML"?Lj(s,f):d==="children"?cc(s,f):Vv(s,d,f,u)}switch(a){case"input":Im(s,o);break;case"textarea":Oj(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ua(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?ua(s,!!o.multiple,o.defaultValue,!0):ua(s,!!o.multiple,o.multiple?[]:"",!1))}s[yc]=o}catch(y){wt(e,e.return,y)}}break;case 6:if(xn(t,e),Un(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){wt(e,e.return,y)}}break;case 3:if(xn(t,e),Un(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pc(t.containerInfo)}catch(y){wt(e,e.return,y)}break;case 4:xn(t,e),Un(e);break;case 13:xn(t,e),Un(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(by=Nt())),n&4&&Cw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(u=ir)||d,xn(t,e),ir=u):xn(t,e),Un(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(le=e,d=e.child;d!==null;){for(f=le=d;le!==null;){switch(p=le,m=p.child,p.tag){case 0:case 11:case 14:case 15:Jl(4,p,p.return);break;case 1:la(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){wt(n,r,y)}}break;case 5:la(p,p.return);break;case 22:if(p.memoizedState!==null){Nw(f);continue}}m!==null?(m.return=p,le=m):Nw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Fj("display",i))}catch(y){wt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){wt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(t,e),Un(e),n&4&&Cw(e);break;case 21:break;default:xn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uT(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(cc(s,""),n.flags&=-33);var o=Sw(e);hg(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Sw(e);pg(e,a,i);break;default:throw Error(G(161))}}catch(c){wt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b4(e,t,r){le=e,pT(e)}function pT(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var s=le,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Yu;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ir;a=Yu;var u=ir;if(Yu=i,(ir=c)&&!u)for(le=s;le!==null;)i=le,c=i.child,i.tag===22&&i.memoizedState!==null?jw(s):c!==null?(c.return=i,le=c):jw(s);for(;o!==null;)le=o,pT(o),o=o.sibling;le=s,Yu=a,ir=u}Ew(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,le=o):Ew(e)}}function Ew(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||cp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Sn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lw(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lw(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}ir||t.flags&512&&fg(t)}catch(p){wt(t,t.return,p)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function Nw(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function jw(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cp(4,t)}catch(c){wt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){wt(t,s,c)}}var o=t.return;try{fg(t)}catch(c){wt(t,o,c)}break;case 5:var i=t.return;try{fg(t)}catch(c){wt(t,i,c)}}}catch(c){wt(t,t.return,c)}if(t===e){le=null;break}var a=t.sibling;if(a!==null){a.return=t.return,le=a;break}le=t.return}}var S4=Math.ceil,af=Ls.ReactCurrentDispatcher,xy=Ls.ReactCurrentOwner,cn=Ls.ReactCurrentBatchConfig,$e=0,Vt=null,Dt=null,tr=0,$r=0,ca=Vo(0),Mt=0,Ec=null,Ei=0,up=0,wy=0,ec=null,Ir=null,by=0,Va=1/0,vs=null,lf=!1,mg=null,xo=null,Xu=!1,uo=null,cf=0,tc=0,gg=null,Pd=-1,Td=0;function wr(){return $e&6?Nt():Pd!==-1?Pd:Pd=Nt()}function wo(e){return e.mode&1?$e&2&&tr!==0?tr&-tr:o4.transition!==null?(Td===0&&(Td=Xj()),Td):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:sP(e.type)),e):1}function _n(e,t,r,n){if(50<tc)throw tc=0,gg=null,Error(G(185));Zc(e,r,n),(!($e&2)||e!==Vt)&&(e===Vt&&(!($e&2)&&(up|=r),Mt===4&&Xs(e,tr)),Lr(e,n),r===1&&$e===0&&!(t.mode&1)&&(Va=Nt()+500,ip&&Uo()))}function Lr(e,t){var r=e.callbackNode;oF(e,t);var n=Hd(e,e===Vt?tr:0);if(n===0)r!==null&&O0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&O0(r),t===1)e.tag===0?s4(Pw.bind(null,e)):CP(Pw.bind(null,e)),e4(function(){!($e&6)&&Uo()}),r=null;else{switch(Zj(n)){case 1:r=qv;break;case 4:r=Qj;break;case 16:r=Wd;break;case 536870912:r=Yj;break;default:r=Wd}r=bT(r,hT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hT(e,t){if(Pd=-1,Td=0,$e&6)throw Error(G(327));var r=e.callbackNode;if(ma()&&e.callbackNode!==r)return null;var n=Hd(e,e===Vt?tr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=uf(e,n);else{t=n;var s=$e;$e|=2;var o=gT();(Vt!==e||tr!==t)&&(vs=null,Va=Nt()+500,gi(e,t));do try{N4();break}catch(a){mT(e,a)}while(!0);iy(),af.current=o,$e=s,Dt!==null?t=0:(Vt=null,tr=0,t=Mt)}if(t!==0){if(t===2&&(s=Um(e),s!==0&&(n=s,t=vg(e,s))),t===1)throw r=Ec,gi(e,0),Xs(e,n),Lr(e,Nt()),r;if(t===6)Xs(e,n);else{if(s=e.current.alternate,!(n&30)&&!C4(s)&&(t=uf(e,n),t===2&&(o=Um(e),o!==0&&(n=o,t=vg(e,o))),t===1))throw r=Ec,gi(e,0),Xs(e,n),Lr(e,Nt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Zo(e,Ir,vs);break;case 3:if(Xs(e,n),(n&130023424)===n&&(t=by+500-Nt(),10<t)){if(Hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){wr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xm(Zo.bind(null,e,Ir,vs),t);break}Zo(e,Ir,vs);break;case 4:if(Xs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-In(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*S4(n/1960))-n,10<n){e.timeoutHandle=Xm(Zo.bind(null,e,Ir,vs),n);break}Zo(e,Ir,vs);break;case 5:Zo(e,Ir,vs);break;default:throw Error(G(329))}}}return Lr(e,Nt()),e.callbackNode===r?hT.bind(null,e):null}function vg(e,t){var r=ec;return e.current.memoizedState.isDehydrated&&(gi(e,t).flags|=256),e=uf(e,t),e!==2&&(t=Ir,Ir=r,t!==null&&yg(t)),e}function yg(e){Ir===null?Ir=e:Ir.push.apply(Ir,e)}function C4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Mn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~wy,t&=~up,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function Pw(e){if($e&6)throw Error(G(327));ma();var t=Hd(e,0);if(!(t&1))return Lr(e,Nt()),null;var r=uf(e,t);if(e.tag!==0&&r===2){var n=Um(e);n!==0&&(t=n,r=vg(e,n))}if(r===1)throw r=Ec,gi(e,0),Xs(e,t),Lr(e,Nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zo(e,Ir,vs),Lr(e,Nt()),null}function Sy(e,t){var r=$e;$e|=1;try{return e(t)}finally{$e=r,$e===0&&(Va=Nt()+500,ip&&Uo())}}function Ni(e){uo!==null&&uo.tag===0&&!($e&6)&&ma();var t=$e;$e|=1;var r=cn.transition,n=Ye;try{if(cn.transition=null,Ye=1,e)return e()}finally{Ye=n,cn.transition=r,$e=t,!($e&6)&&Uo()}}function Cy(){$r=ca.current,it(ca)}function gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,JF(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yd();break;case 3:Ba(),it(Or),it(cr),fy();break;case 5:dy(n);break;case 4:Ba();break;case 13:it(pt);break;case 19:it(pt);break;case 10:ay(n.type._context);break;case 22:case 23:Cy()}r=r.return}if(Vt=e,Dt=e=bo(e.current,null),tr=$r=t,Mt=0,Ec=null,wy=up=Ei=0,Ir=ec=null,si!==null){for(t=0;t<si.length;t++)if(r=si[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}si=null}return e}function mT(e,t){do{var r=Dt;try{if(iy(),Ed.current=of,sf){for(var n=ht.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sf=!1}if(Ci=0,Bt=_t=ht=null,Zl=!1,bc=0,xy.current=null,r===null||r.return===null){Mt=1,Ec=t,Dt=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=tr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hw(i);if(m!==null){m.flags&=-257,mw(m,i,a,o,t),m.mode&1&&pw(o,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){pw(o,u,t),Ey();break e}c=Error(G(426))}}else if(ct&&a.mode&1){var w=hw(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mw(w,i,a,o,t),sy(za(c,a));break e}}o=c=za(c,a),Mt!==4&&(Mt=2),ec===null?ec=[o]:ec.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=ZP(o,c,t);aw(o,x);break e;case 1:a=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xo===null||!xo.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=JP(o,a,t);aw(o,S);break e}}o=o.return}while(o!==null)}yT(r)}catch(C){t=C,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(!0)}function gT(){var e=af.current;return af.current=of,e===null?of:e}function Ey(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Vt===null||!(Ei&268435455)&&!(up&268435455)||Xs(Vt,tr)}function uf(e,t){var r=$e;$e|=2;var n=gT();(Vt!==e||tr!==t)&&(vs=null,gi(e,t));do try{E4();break}catch(s){mT(e,s)}while(!0);if(iy(),$e=r,af.current=n,Dt!==null)throw Error(G(261));return Vt=null,tr=0,Mt}function E4(){for(;Dt!==null;)vT(Dt)}function N4(){for(;Dt!==null&&!YL();)vT(Dt)}function vT(e){var t=wT(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?yT(e):Dt=t,xy.current=null}function yT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y4(r,t),r!==null){r.flags&=32767,Dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Dt=null;return}}else if(r=v4(r,t,$r),r!==null){Dt=r;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);Mt===0&&(Mt=5)}function Zo(e,t,r){var n=Ye,s=cn.transition;try{cn.transition=null,Ye=1,j4(e,t,r,n)}finally{cn.transition=s,Ye=n}return null}function j4(e,t,r,n){do ma();while(uo!==null);if($e&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(iF(e,o),e===Vt&&(Dt=Vt=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xu||(Xu=!0,bT(Wd,function(){return ma(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var i=Ye;Ye=1;var a=$e;$e|=4,xy.current=null,w4(e,r),fT(r,e),GF(Qm),Gd=!!Km,Qm=Km=null,e.current=r,b4(r),XL(),$e=a,Ye=i,cn.transition=o}else e.current=r;if(Xu&&(Xu=!1,uo=e,cf=s),o=e.pendingLanes,o===0&&(xo=null),eF(r.stateNode),Lr(e,Nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(lf)throw lf=!1,e=mg,mg=null,e;return cf&1&&e.tag!==0&&ma(),o=e.pendingLanes,o&1?e===gg?tc++:(tc=0,gg=e):tc=0,Uo(),null}function ma(){if(uo!==null){var e=Zj(cf),t=cn.transition,r=Ye;try{if(cn.transition=null,Ye=16>e?16:e,uo===null)var n=!1;else{if(e=uo,uo=null,cf=0,$e&6)throw Error(G(331));var s=$e;for($e|=4,le=e.current;le!==null;){var o=le,i=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Jl(8,d,o)}var f=d.child;if(f!==null)f.return=d,le=f;else for(;le!==null;){d=le;var p=d.sibling,m=d.return;if(cT(d),d===u){le=null;break}if(p!==null){p.return=m,le=p;break}le=m}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}le=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,le=i;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,le=x;break e}le=o.return}}var g=e.current;for(le=g;le!==null;){i=le;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,le=b;else e:for(i=g;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cp(9,a)}}catch(C){wt(a,a.return,C)}if(a===i){le=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,le=S;break e}le=a.return}}if($e=s,Uo(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(tp,e)}catch{}n=!0}return n}finally{Ye=r,cn.transition=t}}return!1}function Tw(e,t,r){t=za(r,t),t=ZP(e,t,1),e=yo(e,t,1),t=wr(),e!==null&&(Zc(e,1,t),Lr(e,t))}function wt(e,t,r){if(e.tag===3)Tw(e,e,r);else for(;t!==null;){if(t.tag===3){Tw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xo===null||!xo.has(n))){e=za(r,e),e=JP(t,e,1),t=yo(t,e,1),e=wr(),t!==null&&(Zc(t,1,e),Lr(t,e));break}}t=t.return}}function P4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=wr(),e.pingedLanes|=e.suspendedLanes&r,Vt===e&&(tr&r)===r&&(Mt===4||Mt===3&&(tr&130023424)===tr&&500>Nt()-by?gi(e,0):wy|=r),Lr(e,t)}function xT(e,t){t===0&&(e.mode&1?(t=zu,zu<<=1,!(zu&130023424)&&(zu=4194304)):t=1);var r=wr();e=As(e,t),e!==null&&(Zc(e,t,r),Lr(e,r))}function T4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xT(e,r)}function k4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),xT(e,r)}var wT;wT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Or.current)_r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _r=!1,g4(e,t,r);_r=!!(e.flags&131072)}else _r=!1,ct&&t.flags&1048576&&EP(t,Jd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jd(e,t),e=t.pendingProps;var s=La(t,cr.current);ha(t,r),s=hy(null,t,n,e,s,r);var o=my();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(n)?(o=!0,Xd(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(t),s.updater=lp,t.stateNode=s,s._reactInternals=t,sg(t,n,e,r),t=ag(null,t,n,!0,o,r)):(t.tag=0,ct&&o&&ry(t),gr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=D4(n),e=Sn(n,e),s){case 0:t=ig(null,t,n,e,r);break e;case 1:t=yw(null,t,n,e,r);break e;case 11:t=gw(null,t,n,e,r);break e;case 14:t=vw(null,t,n,Sn(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),ig(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),yw(e,t,n,s,r);case 3:e:{if(nT(t),e===null)throw Error(G(387));n=t.pendingProps,o=t.memoizedState,s=o.element,AP(e,t),rf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=za(Error(G(423)),t),t=xw(e,t,n,r,s);break e}else if(n!==s){s=za(Error(G(424)),t),t=xw(e,t,n,r,s);break e}else for(Ur=vo(t.stateNode.containerInfo.firstChild),Hr=t,ct=!0,jn=null,r=TP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fa(),n===s){t=Ds(e,t,r);break e}gr(e,t,n,r)}t=t.child}return t;case 5:return DP(t),e===null&&tg(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ym(n,s)?i=null:o!==null&&Ym(n,o)&&(t.flags|=32),rT(e,t),gr(e,t,i,r),t.child;case 6:return e===null&&tg(t),null;case 13:return sT(e,t,r);case 4:return uy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$a(t,null,n,r):gr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),gw(e,t,n,s,r);case 7:return gr(e,t,t.pendingProps,r),t.child;case 8:return gr(e,t,t.pendingProps.children,r),t.child;case 12:return gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,tt(ef,n._currentValue),n._currentValue=i,o!==null)if(Mn(o.value,i)){if(o.children===s.children&&!Or.current){t=Ds(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Es(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),rg(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(G(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),rg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}gr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ha(t,r),s=pn(s),n=n(s),t.flags|=1,gr(e,t,n,r),t.child;case 14:return n=t.type,s=Sn(n,t.pendingProps),s=Sn(n.type,s),vw(e,t,n,s,r);case 15:return eT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),jd(e,t),t.tag=1,Mr(n)?(e=!0,Xd(t)):e=!1,ha(t,r),XP(t,n,s),sg(t,n,s,r),ag(null,t,n,!0,e,r);case 19:return oT(e,t,r);case 22:return tT(e,t,r)}throw Error(G(156,t.tag))};function bT(e,t){return Kj(e,t)}function A4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,r,n){return new A4(e,t,r,n)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D4(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wv)return 11;if(e===Hv)return 14}return 2}function bo(e,t){var r=e.alternate;return r===null?(r=an(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kd(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Ny(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ji:return vi(r.children,s,o,t);case Uv:i=8,s|=8;break;case Tm:return e=an(12,r,t,s|2),e.elementType=Tm,e.lanes=o,e;case km:return e=an(13,r,t,s),e.elementType=km,e.lanes=o,e;case Am:return e=an(19,r,t,s),e.elementType=Am,e.lanes=o,e;case Dj:return dp(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kj:i=10;break e;case Aj:i=9;break e;case Wv:i=11;break e;case Hv:i=14;break e;case Gs:i=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=an(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function vi(e,t,r,n){return e=an(7,e,n,t),e.lanes=r,e}function dp(e,t,r,n){return e=an(22,e,n,t),e.elementType=Dj,e.lanes=r,e.stateNode={isHidden:!1},e}function Bh(e,t,r){return e=an(6,e,null,t),e.lanes=r,e}function zh(e,t,r){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R4(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jy(e,t,r,n,s,o,i,a,c){return e=new R4(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=an(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(o),e}function I4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ST(e){if(!e)return Io;e=e._reactInternals;e:{if(Li(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Mr(r))return SP(e,r,t)}return t}function CT(e,t,r,n,s,o,i,a,c){return e=jy(r,n,!0,e,s,o,i,a,c),e.context=ST(null),r=e.current,n=wr(),s=wo(r),o=Es(n,s),o.callback=t??null,yo(r,o,s),e.current.lanes=s,Zc(e,s,n),Lr(e,n),e}function fp(e,t,r,n){var s=t.current,o=wr(),i=wo(s);return r=ST(r),t.context===null?t.context=r:t.pendingContext=r,t=Es(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yo(s,t,i),e!==null&&(_n(e,s,i,o),Cd(e,s,i)),i}function df(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Py(e,t){kw(e,t),(e=e.alternate)&&kw(e,t)}function _4(){return null}var ET=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ty(e){this._internalRoot=e}pp.prototype.render=Ty.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));fp(e,t,null,null)};pp.prototype.unmount=Ty.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){fp(null,e,null,null)}),t[ks]=null}};function pp(e){this._internalRoot=e}pp.prototype.unstable_scheduleHydration=function(e){if(e){var t=tP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ys.length&&t!==0&&t<Ys[r].priority;r++);Ys.splice(r,0,e),r===0&&nP(e)}};function ky(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function O4(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=df(i);o.call(u)}}var i=CT(t,n,e,0,null,!1,!1,"",Aw);return e._reactRootContainer=i,e[ks]=i.current,gc(e.nodeType===8?e.parentNode:e),Ni(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=df(c);a.call(u)}}var c=jy(e,0,!1,null,null,!1,!1,"",Aw);return e._reactRootContainer=c,e[ks]=c.current,gc(e.nodeType===8?e.parentNode:e),Ni(function(){fp(t,c,r,n)}),c}function mp(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=df(i);a.call(c)}}fp(t,i,e,s)}else i=O4(r,t,e,s,n);return df(i)}Jj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bl(t.pendingLanes);r!==0&&(Kv(t,r|1),Lr(t,Nt()),!($e&6)&&(Va=Nt()+500,Uo()))}break;case 13:Ni(function(){var n=As(e,1);if(n!==null){var s=wr();_n(n,e,1,s)}}),Py(e,1)}};Qv=function(e){if(e.tag===13){var t=As(e,134217728);if(t!==null){var r=wr();_n(t,e,134217728,r)}Py(e,134217728)}};eP=function(e){if(e.tag===13){var t=wo(e),r=As(e,t);if(r!==null){var n=wr();_n(r,e,t,n)}Py(e,t)}};tP=function(){return Ye};rP=function(e,t){var r=Ye;try{return Ye=e,t()}finally{Ye=r}};Bm=function(e,t,r){switch(t){case"input":if(Im(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=op(n);if(!s)throw Error(G(90));Ij(n),Im(n,s)}}}break;case"textarea":Oj(e,r);break;case"select":t=r.value,t!=null&&ua(e,!!r.multiple,t,!1)}};Vj=Sy;Uj=Ni;var M4={usingClientEntryPoint:!1,Events:[eu,na,op,Bj,zj,Sy]},Pl={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L4={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gj(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||_4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{tp=Zu.inject(L4),ts=Zu}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M4;Xr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(t))throw Error(G(200));return I4(e,t,null,r)};Xr.createRoot=function(e,t){if(!ky(e))throw Error(G(299));var r=!1,n="",s=ET;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jy(e,1,!1,null,null,r,!1,n,s),e[ks]=t.current,gc(e.nodeType===8?e.parentNode:e),new Ty(t)};Xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Gj(t),e=e===null?null:e.stateNode,e};Xr.flushSync=function(e){return Ni(e)};Xr.hydrate=function(e,t,r){if(!hp(t))throw Error(G(200));return mp(null,e,t,!0,r)};Xr.hydrateRoot=function(e,t,r){if(!ky(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=ET;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=CT(t,null,e,1,r??null,s,!1,o,i),e[ks]=t.current,gc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pp(t)};Xr.render=function(e,t,r){if(!hp(t))throw Error(G(200));return mp(null,e,t,!1,r)};Xr.unmountComponentAtNode=function(e){if(!hp(e))throw Error(G(40));return e._reactRootContainer?(Ni(function(){mp(null,null,e,!1,function(){e._reactRootContainer=null,e[ks]=null})}),!0):!1};Xr.unstable_batchedUpdates=Sy;Xr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hp(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return mp(e,t,r,!1,n)};Xr.version="18.3.1-next-f1338f8080-20240426";function NT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NT)}catch(e){console.error(e)}}NT(),Nj.exports=Xr;var Wo=Nj.exports;const jT=Oi(Wo);var PT,Dw=Wo;PT=Dw.createRoot,Dw.hydrateRoot;function F4(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,o,i=[],a="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(i.push(r),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),o=s.indexOf(".",1),i.push(s.substring(1,~n?n:~o?o:s.length)),a+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~n?"?":"")+"\\"+s.substring(o))):a+="/"+s;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var TT={exports:{}},kT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=h;function $4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B4=typeof Object.is=="function"?Object.is:$4,z4=Ua.useState,V4=Ua.useEffect,U4=Ua.useLayoutEffect,W4=Ua.useDebugValue;function H4(e,t){var r=t(),n=z4({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return U4(function(){s.value=r,s.getSnapshot=t,Vh(s)&&o({inst:s})},[e,r,t]),V4(function(){return Vh(s)&&o({inst:s}),e(function(){Vh(s)&&o({inst:s})})},[e]),W4(r),r}function Vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!B4(e,r)}catch{return!0}}function G4(e,t){return t()}var q4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G4:H4;kT.useSyncExternalStore=Ua.useSyncExternalStore!==void 0?Ua.useSyncExternalStore:q4;TT.exports=kT;var K4=TT.exports;const Q4=$v.useInsertionEffect,Y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AT=Y4?h.useLayoutEffect:h.useEffect,X4=Q4||AT,Ay=e=>{const t=h.useRef([e,(...r)=>t[0](...r)]).current;return X4(()=>{t[0]=e}),t[1]},Z4="popstate",Dy="pushState",Ry="replaceState",J4="hashchange",Rw=[Z4,Dy,Ry,J4],e$=e=>{for(const t of Rw)addEventListener(t,e);return()=>{for(const t of Rw)removeEventListener(t,e)}},DT=(e,t)=>K4.useSyncExternalStore(e$,e,t),t$=()=>location.search,r$=({ssrSearch:e=""}={})=>DT(t$,()=>e),Iw=()=>location.pathname,n$=({ssrPath:e}={})=>DT(Iw,e?()=>e:Iw),s$=(e,{replace:t=!1,state:r=null}={})=>history[t?Ry:Dy](r,"",e),o$=(e={})=>[n$(e),s$],_w=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_w]>"u"){for(const e of[Dy,Ry]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,_w,{value:!0})}const i$=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",RT=(e="")=>e==="/"?"":e,a$=(e,t)=>e[0]==="~"?e.slice(1):RT(t)+e,l$=(e="",t)=>i$(Ow(RT(e)),Ow(t)),Ow=e=>{try{return decodeURI(e)}catch{return e}},IT={hook:o$,searchHook:r$,parser:F4,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},_T=h.createContext(IT),sl=()=>h.useContext(_T),OT={},MT=h.createContext(OT),c$=()=>h.useContext(MT),ru=e=>{const[t,r]=e.hook(e);return[l$(e.base,t),Ay((n,s)=>r(a$(n,e.base),s))]},Fs=()=>ru(sl()),LT=(e,t,r,n)=>{const{pattern:s,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),i=s.exec(r)||[],[a,...c]=i;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((f,p)=>[f,c[p]])):i.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[a]:[]]:[!1,null]},u$=({children:e,...t})=>{var d,f;const r=sl(),n=t.hook?IT:r;let s=n;const[o,i]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let a=h.useRef({}),c=a.current,u=c;for(let p in n){const m=p==="base"?n[p]+(t[p]||""):t[p]||n[p];c===u&&m!==u[p]&&(a.current=u={...u}),u[p]=m,(m!==n[p]||m!==s[p])&&(s=u)}return h.createElement(_T.Provider,{value:s,children:e})},Mw=({children:e,component:t},r)=>t?h.createElement(t,{params:r}):typeof e=="function"?e(r):e,d$=e=>{let t=h.useRef(OT);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},wn=({path:e,nest:t,match:r,...n})=>{const s=sl(),[o]=ru(s),[i,a,c]=r??LT(s.parser,e,o,t),u=d$({...c$(),...a});if(!i)return null;const d=c?h.createElement(u$,{base:c},Mw(n,u)):Mw(n,u);return h.createElement(MT.Provider,{value:u,children:d})},Nc=h.forwardRef((e,t)=>{const r=sl(),[n,s]=ru(r),{to:o="",href:i=o,onClick:a,asChild:c,children:u,className:d,replace:f,state:p,...m}=e,v=Ay(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(i,e)))}),y=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return c&&h.isValidElement(u)?h.cloneElement(u,{onClick:v,href:y}):h.createElement("a",{...m,onClick:v,href:y,className:d!=null&&d.call?d(n===i):d,children:u,ref:t})}),FT=e=>Array.isArray(e)?e.flatMap(t=>FT(t&&t.type===h.Fragment?t.props.children:t)):[e],Lw=({children:e,location:t})=>{const r=sl(),[n]=ru(r);for(const s of FT(e)){let o=0;if(h.isValidElement(s)&&(o=LT(r.parser,s.props.path,t||n,s.props.nest))[0])return h.cloneElement(s,{match:o})}return null},Uh=e=>{const{to:t,href:r=t}=e,n=sl(),[,s]=ru(n),o=Ay(()=>s(t||r,e)),{ssrContext:i}=n;return AT(()=>{o()},[]),i&&(i.redirectTo=t),null};var ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ji=typeof window>"u"||"Deno"in globalThis;function vr(){}function f$(e,t){return typeof e=="function"?e(t):e}function xg(e){return typeof e=="number"&&e>=0&&e!==1/0}function $T(e,t){return Math.max(e+(t||0)-Date.now(),0)}function So(e,t){return typeof e=="function"?e(t):e}function Pn(e,t){return typeof e=="function"?e(t):e}function Fw(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==Iy(i,t.options))return!1}else if(!jc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function $w(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Pi(t.options.mutationKey)!==Pi(o))return!1}else if(!jc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Iy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pi)(e)}function Pi(e){return JSON.stringify(e,(t,r)=>wg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>jc(e[r],t[r])):!1}function BT(e,t){if(e===t)return e;const r=Bw(e)&&Bw(t);if(r||wg(e)&&wg(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,u++):(a[f]=BT(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:a}return t}function ff(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Bw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wg(e){if(!zw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zw(e){return Object.prototype.toString.call(e)==="[object Object]"}function p$(e){return new Promise(t=>{setTimeout(t,e)})}function bg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?BT(e,t):t}function h$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function m$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var _y=Symbol();function zT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===_y?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function VT(e,t){return typeof e=="function"?e(...t):!!e}var li,Js,Ca,S1,g$=(S1=class extends ol{constructor(){super();ve(this,li);ve(this,Js);ve(this,Ca);se(this,Ca,t=>{if(!ji&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Js)||this.setEventListener(R(this,Ca))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Js))==null||t.call(this),se(this,Js,void 0))}setEventListener(t){var r;se(this,Ca,t),(r=R(this,Js))==null||r.call(this),se(this,Js,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){R(this,li)!==t&&(se(this,li,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof R(this,li)=="boolean"?R(this,li):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},li=new WeakMap,Js=new WeakMap,Ca=new WeakMap,S1),Oy=new g$,Ea,eo,Na,C1,v$=(C1=class extends ol{constructor(){super();ve(this,Ea,!0);ve(this,eo);ve(this,Na);se(this,Na,t=>{if(!ji&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,eo)||this.setEventListener(R(this,Na))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,eo))==null||t.call(this),se(this,eo,void 0))}setEventListener(t){var r;se(this,Na,t),(r=R(this,eo))==null||r.call(this),se(this,eo,t(this.setOnline.bind(this)))}setOnline(t){R(this,Ea)!==t&&(se(this,Ea,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return R(this,Ea)}},Ea=new WeakMap,eo=new WeakMap,Na=new WeakMap,C1),pf=new v$;function Sg(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function y$(e){return Math.min(1e3*2**e,3e4)}function UT(e){return(e??"online")==="online"?pf.isOnline():!0}var WT=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wh(e){return e instanceof WT}function HT(e){let t=!1,r=0,n=!1,s;const o=Sg(),i=y=>{var w;n||(p(new WT(y)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Oy.isFocused()&&(e.networkMode==="always"||pf.isOnline())&&e.canRun(),d=()=>UT(e.networkMode)&&e.canRun(),f=y=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),o.resolve(y))},p=y=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),o.reject(y))},m=()=>new Promise(y=>{var w;s=x=>{(n||u())&&y(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(n)return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var E;if(n)return;const g=e.retry??(ji?0:3),b=e.retryDelay??y$,S=typeof b=="function"?b(r,x):b,C=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,x);if(t||!C){p(x);return}r++,(E=e.onFail)==null||E.call(e,r,x),p$(S).then(()=>u()?void 0:m()).then(()=>{t?p(x):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),o)}}var x$=e=>setTimeout(e,0);function w$(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=x$;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Ot=w$(),ci,E1,GT=(E1=class{constructor(){ve(this,ci)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xg(this.gcTime)&&se(this,ci,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ji?1/0:5*60*1e3))}clearGcTimeout(){R(this,ci)&&(clearTimeout(R(this,ci)),se(this,ci,void 0))}},ci=new WeakMap,E1),ja,Pa,tn,ui,or,qc,di,Cn,gs,N1,b$=(N1=class extends GT{constructor(t){super();ve(this,Cn);ve(this,ja);ve(this,Pa);ve(this,tn);ve(this,ui);ve(this,or);ve(this,qc);ve(this,di);se(this,di,!1),se(this,qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,ui,t.client),se(this,tn,R(this,ui).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,ja,S$(this.options)),this.state=t.state??R(this,ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,or))==null?void 0:t.promise}setOptions(t){this.options={...R(this,qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,tn).remove(this)}setData(t,r){const n=bg(this.state.data,t,this.options);return Pe(this,Cn,gs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pe(this,Cn,gs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=R(this,or))==null?void 0:n.promise;return(s=R(this,or))==null||s.cancel(t),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,ja))}isActive(){return this.observers.some(t=>Pn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_y||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>So(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$T(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,or))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,or))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(R(this,or)&&(R(this,di)?R(this,or).cancel({revert:!0}):R(this,or).cancelRetry()),this.scheduleGc()),R(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,Cn,gs).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,or))return R(this,or).continueRetry(),R(this,or).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(se(this,di,!0),n.signal)})},o=()=>{const p=zT(this.options,r),v=(()=>{const y={client:R(this,ui),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return se(this,di,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,ui),state:this.state,fetchFn:o};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(a,this),se(this,Pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Pe(this,Cn,gs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=p=>{var m,v,y,w;Wh(p)&&p.silent||Pe(this,Cn,gs).call(this,{type:"error",error:p}),Wh(p)||((v=(m=R(this,tn).config).onError)==null||v.call(m,p,this),(w=(y=R(this,tn).config).onSettled)==null||w.call(y,this.state.data,p,this)),this.scheduleGc()};return se(this,or,HT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var m,v,y,w;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){c(x);return}(v=(m=R(this,tn).config).onSuccess)==null||v.call(m,p,this),(w=(y=R(this,tn).config).onSettled)==null||w.call(y,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{Pe(this,Cn,gs).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Pe(this,Cn,gs).call(this,{type:"pause"})},onContinue:()=>{Pe(this,Cn,gs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),R(this,or).start()}},ja=new WeakMap,Pa=new WeakMap,tn=new WeakMap,ui=new WeakMap,or=new WeakMap,qc=new WeakMap,di=new WeakMap,Cn=new WeakSet,gs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qT(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Wh(s)&&s.revert&&R(this,Pa)?{...R(this,Pa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ot.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,tn).notify({query:this,type:"updated",action:t})})},N1);function qT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function S$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hn,j1,C$=(j1=class extends ol{constructor(t={}){super();ve(this,Hn);this.config=t,se(this,Hn,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Iy(s,r);let i=this.get(o);return i||(i=new b$({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){R(this,Hn).has(t.queryHash)||(R(this,Hn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=R(this,Hn).get(t.queryHash);r&&(t.destroy(),r===t&&R(this,Hn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Hn).get(t)}getAll(){return[...R(this,Hn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fw(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Fw(t,n)):r}notify(t){Ot.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hn=new WeakMap,j1),Gn,hr,fi,qn,Ws,P1,E$=(P1=class extends GT{constructor(t){super();ve(this,qn);ve(this,Gn);ve(this,hr);ve(this,fi);this.mutationId=t.mutationId,se(this,hr,t.mutationCache),se(this,Gn,[]),this.state=t.state||KT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Gn).includes(t)||(R(this,Gn).push(t),this.clearGcTimeout(),R(this,hr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Gn,R(this,Gn).filter(r=>r!==t)),this.scheduleGc(),R(this,hr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Gn).length||(this.state.status==="pending"?this.scheduleGc():R(this,hr).remove(this))}continue(){var t;return((t=R(this,fi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,c,u,d,f,p,m,v,y,w,x,g,b,S,C,E,N,j;const r=()=>{Pe(this,qn,Ws).call(this,{type:"continue"})};se(this,fi,HT({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{Pe(this,qn,Ws).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{Pe(this,qn,Ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,hr).canRun(this)}));const n=this.state.status==="pending",s=!R(this,fi).canStart();try{if(n)r();else{Pe(this,qn,Ws).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=R(this,hr).config).onMutate)==null?void 0:i.call(o,t,this));const P=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));P!==this.state.context&&Pe(this,qn,Ws).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const T=await R(this,fi).start();return await((d=(u=R(this,hr).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,T,t,this.state.context)),await((v=(m=R(this,hr).config).onSettled)==null?void 0:v.call(m,T,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,T,null,t,this.state.context)),Pe(this,qn,Ws).call(this,{type:"success",data:T}),T}catch(T){try{throw await((g=(x=R(this,hr).config).onError)==null?void 0:g.call(x,T,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,T,t,this.state.context)),await((E=(C=R(this,hr).config).onSettled)==null?void 0:E.call(C,void 0,T,this.state.variables,this.state.context,this)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,void 0,T,t,this.state.context)),T}finally{Pe(this,qn,Ws).call(this,{type:"error",error:T})}}finally{R(this,hr).runNext(this)}}},Gn=new WeakMap,hr=new WeakMap,fi=new WeakMap,qn=new WeakSet,Ws=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ot.batch(()=>{R(this,Gn).forEach(n=>{n.onMutationUpdate(t)}),R(this,hr).notify({mutation:this,type:"updated",action:t})})},P1);function KT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xs,En,Kc,T1,N$=(T1=class extends ol{constructor(t={}){super();ve(this,xs);ve(this,En);ve(this,Kc);this.config=t,se(this,xs,new Set),se(this,En,new Map),se(this,Kc,0)}build(t,r,n){const s=new E$({mutationCache:this,mutationId:++Ou(this,Kc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){R(this,xs).add(t);const r=Ju(t);if(typeof r=="string"){const n=R(this,En).get(r);n?n.push(t):R(this,En).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,xs).delete(t)){const r=Ju(t);if(typeof r=="string"){const n=R(this,En).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&R(this,En).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ju(t);if(typeof r=="string"){const n=R(this,En).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Ju(t);if(typeof r=="string"){const s=(n=R(this,En).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ot.batch(()=>{R(this,xs).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,xs).clear(),R(this,En).clear()})}getAll(){return Array.from(R(this,xs))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$w(r,n))}findAll(t={}){return this.getAll().filter(r=>$w(t,r))}notify(t){Ot.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ot.batch(()=>Promise.all(t.map(r=>r.continue().catch(vr))))}},xs=new WeakMap,En=new WeakMap,Kc=new WeakMap,T1);function Ju(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Vw(e){return{onFetch:(t,r)=>{var d,f,p,m,v;const n=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},x=zT(t.options,t.fetchOptions),g=async(b,S,C)=>{if(y)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return w(O),O})(),j=await x(N),{maxPages:T}=t.options,P=C?m$:h$;return{pages:P(b.pages,j,T),pageParams:P(b.pageParams,S,T)}};if(s&&o.length){const b=s==="backward",S=b?j$:Uw,C={pages:o,pageParams:i},E=S(n,C);a=await g(C,E,b)}else{const b=e??o.length;do{const S=c===0?i[0]??n.initialPageParam:Uw(n,a);if(c>0&&S==null)break;a=await g(a,S),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Uw(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function j$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var xt,to,ro,Ta,ka,no,Aa,Da,k1,P$=(k1=class{constructor(e={}){ve(this,xt);ve(this,to);ve(this,ro);ve(this,Ta);ve(this,ka);ve(this,no);ve(this,Aa);ve(this,Da);se(this,xt,e.queryCache||new C$),se(this,to,e.mutationCache||new N$),se(this,ro,e.defaultOptions||{}),se(this,Ta,new Map),se(this,ka,new Map),se(this,no,0)}mount(){Ou(this,no)._++,R(this,no)===1&&(se(this,Aa,Oy.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,xt).onFocus())})),se(this,Da,pf.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,xt).onOnline())})))}unmount(){var e,t;Ou(this,no)._--,R(this,no)===0&&((e=R(this,Aa))==null||e.call(this),se(this,Aa,void 0),(t=R(this,Da))==null||t.call(this),se(this,Da,void 0))}isFetching(e){return R(this,xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,to).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=R(this,xt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(So(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return R(this,xt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=R(this,xt).get(n.queryHash),o=s==null?void 0:s.state.data,i=f$(t,o);if(i!==void 0)return R(this,xt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ot.batch(()=>R(this,xt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=R(this,xt);Ot.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=R(this,xt);return Ot.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ot.batch(()=>R(this,xt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(vr).catch(vr)}invalidateQueries(e,t={}){return Ot.batch(()=>(R(this,xt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ot.batch(()=>R(this,xt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(vr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(vr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=R(this,xt).build(this,t);return r.isStaleByTime(So(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vr).catch(vr)}fetchInfiniteQuery(e){return e.behavior=Vw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vr).catch(vr)}ensureInfiniteQueryData(e){return e.behavior=Vw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pf.isOnline()?R(this,to).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,xt)}getMutationCache(){return R(this,to)}getDefaultOptions(){return R(this,ro)}setDefaultOptions(e){se(this,ro,e)}setQueryDefaults(e,t){R(this,Ta).set(Pi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Ta).values()],r={};return t.forEach(n=>{jc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){R(this,ka).set(Pi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,ka).values()],r={};return t.forEach(n=>{jc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,ro).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Iy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_y&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,ro).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,xt).clear(),R(this,to).clear()}},xt=new WeakMap,to=new WeakMap,ro=new WeakMap,Ta=new WeakMap,ka=new WeakMap,no=new WeakMap,Aa=new WeakMap,Da=new WeakMap,k1),Ar,_e,Qc,mr,pi,Ra,so,oo,Yc,Ia,_a,hi,mi,io,Oa,Ge,Vl,Cg,Eg,Ng,jg,Pg,Tg,kg,QT,A1,T$=(A1=class extends ol{constructor(t,r){super();ve(this,Ge);ve(this,Ar);ve(this,_e);ve(this,Qc);ve(this,mr);ve(this,pi);ve(this,Ra);ve(this,so);ve(this,oo);ve(this,Yc);ve(this,Ia);ve(this,_a);ve(this,hi);ve(this,mi);ve(this,io);ve(this,Oa,new Set);this.options=r,se(this,Ar,t),se(this,oo,null),se(this,so,Sg()),this.options.experimental_prefetchInRender||R(this,so).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,_e).addObserver(this),Ww(R(this,_e),this.options)?Pe(this,Ge,Vl).call(this):this.updateResult(),Pe(this,Ge,jg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ag(R(this,_e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ag(R(this,_e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,Ge,Pg).call(this),Pe(this,Ge,Tg).call(this),R(this,_e).removeObserver(this)}setOptions(t){const r=this.options,n=R(this,_e);if(this.options=R(this,Ar).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pn(this.options.enabled,R(this,_e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,Ge,kg).call(this),R(this,_e).setOptions(this.options),r._defaulted&&!ff(this.options,r)&&R(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,_e),observer:this});const s=this.hasListeners();s&&Hw(R(this,_e),n,this.options,r)&&Pe(this,Ge,Vl).call(this),this.updateResult(),s&&(R(this,_e)!==n||Pn(this.options.enabled,R(this,_e))!==Pn(r.enabled,R(this,_e))||So(this.options.staleTime,R(this,_e))!==So(r.staleTime,R(this,_e)))&&Pe(this,Ge,Cg).call(this);const o=Pe(this,Ge,Eg).call(this);s&&(R(this,_e)!==n||Pn(this.options.enabled,R(this,_e))!==Pn(r.enabled,R(this,_e))||o!==R(this,io))&&Pe(this,Ge,Ng).call(this,o)}getOptimisticResult(t){const r=R(this,Ar).getQueryCache().build(R(this,Ar),t),n=this.createResult(r,t);return A$(this,n)&&(se(this,mr,n),se(this,Ra,this.options),se(this,pi,R(this,_e).state)),n}getCurrentResult(){return R(this,mr)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){R(this,Oa).add(t)}getCurrentQuery(){return R(this,_e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=R(this,Ar).defaultQueryOptions(t),n=R(this,Ar).getQueryCache().build(R(this,Ar),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pe(this,Ge,Vl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,mr)))}createResult(t,r){var T;const n=R(this,_e),s=this.options,o=R(this,mr),i=R(this,pi),a=R(this,Ra),u=t!==n?t.state:R(this,Qc),{state:d}=t;let f={...d},p=!1,m;if(r._optimisticResults){const P=this.hasListeners(),O=!P&&Ww(t,r),D=P&&Hw(t,n,r,s);(O||D)&&(f={...f,...qT(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:w}=f;m=f.data;let x=!1;if(r.placeholderData!==void 0&&m===void 0&&w==="pending"){let P;o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(P=o.data,x=!0):P=typeof r.placeholderData=="function"?r.placeholderData((T=R(this,_a))==null?void 0:T.state.data,R(this,_a)):r.placeholderData,P!==void 0&&(w="success",m=bg(o==null?void 0:o.data,P,r),p=!0)}if(r.select&&m!==void 0&&!x)if(o&&m===(i==null?void 0:i.data)&&r.select===R(this,Yc))m=R(this,Ia);else try{se(this,Yc,r.select),m=r.select(m),m=bg(o==null?void 0:o.data,m,r),se(this,Ia,m),se(this,oo,null)}catch(P){se(this,oo,P)}R(this,oo)&&(v=R(this,oo),m=R(this,Ia),y=Date.now(),w="error");const g=f.fetchStatus==="fetching",b=w==="pending",S=w==="error",C=b&&g,E=m!==void 0,j={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:S,isInitialLoading:C,isLoading:C,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:S&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&E,isStale:My(t,r),refetch:this.refetch,promise:R(this,so)};if(this.options.experimental_prefetchInRender){const P=_=>{j.status==="error"?_.reject(j.error):j.data!==void 0&&_.resolve(j.data)},O=()=>{const _=se(this,so,j.promise=Sg());P(_)},D=R(this,so);switch(D.status){case"pending":t.queryHash===n.queryHash&&P(D);break;case"fulfilled":(j.status==="error"||j.data!==D.value)&&O();break;case"rejected":(j.status!=="error"||j.error!==D.reason)&&O();break}}return j}updateResult(){const t=R(this,mr),r=this.createResult(R(this,_e),this.options);if(se(this,pi,R(this,_e).state),se(this,Ra,this.options),R(this,pi).data!==void 0&&se(this,_a,R(this,_e)),ff(r,t))return;se(this,mr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!R(this,Oa).size)return!0;const i=new Set(o??R(this,Oa));return this.options.throwOnError&&i.add("error"),Object.keys(R(this,mr)).some(a=>{const c=a;return R(this,mr)[c]!==t[c]&&i.has(c)})};Pe(this,Ge,QT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,Ge,jg).call(this)}},Ar=new WeakMap,_e=new WeakMap,Qc=new WeakMap,mr=new WeakMap,pi=new WeakMap,Ra=new WeakMap,so=new WeakMap,oo=new WeakMap,Yc=new WeakMap,Ia=new WeakMap,_a=new WeakMap,hi=new WeakMap,mi=new WeakMap,io=new WeakMap,Oa=new WeakMap,Ge=new WeakSet,Vl=function(t){Pe(this,Ge,kg).call(this);let r=R(this,_e).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vr)),r},Cg=function(){Pe(this,Ge,Pg).call(this);const t=So(this.options.staleTime,R(this,_e));if(ji||R(this,mr).isStale||!xg(t))return;const n=$T(R(this,mr).dataUpdatedAt,t)+1;se(this,hi,setTimeout(()=>{R(this,mr).isStale||this.updateResult()},n))},Eg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,_e)):this.options.refetchInterval)??!1},Ng=function(t){Pe(this,Ge,Tg).call(this),se(this,io,t),!(ji||Pn(this.options.enabled,R(this,_e))===!1||!xg(R(this,io))||R(this,io)===0)&&se(this,mi,setInterval(()=>{(this.options.refetchIntervalInBackground||Oy.isFocused())&&Pe(this,Ge,Vl).call(this)},R(this,io)))},jg=function(){Pe(this,Ge,Cg).call(this),Pe(this,Ge,Ng).call(this,Pe(this,Ge,Eg).call(this))},Pg=function(){R(this,hi)&&(clearTimeout(R(this,hi)),se(this,hi,void 0))},Tg=function(){R(this,mi)&&(clearInterval(R(this,mi)),se(this,mi,void 0))},kg=function(){const t=R(this,Ar).getQueryCache().build(R(this,Ar),this.options);if(t===R(this,_e))return;const r=R(this,_e);se(this,_e,t),se(this,Qc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},QT=function(t){Ot.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(R(this,mr))}),R(this,Ar).getQueryCache().notify({query:R(this,_e),type:"observerResultsUpdated"})})},A1);function k$(e,t){return Pn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ww(e,t){return k$(e,t)||e.state.data!==void 0&&Ag(e,t,t.refetchOnMount)}function Ag(e,t,r){if(Pn(t.enabled,e)!==!1&&So(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&My(e,t)}return!1}function Hw(e,t,r,n){return(e!==t||Pn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&My(e,r)}function My(e,t){return Pn(t.enabled,e)!==!1&&e.isStaleByTime(So(t.staleTime,e))}function A$(e,t){return!ff(e.getCurrentResult(),t)}var ao,lo,Dr,ws,Ps,Ad,Dg,D1,D$=(D1=class extends ol{constructor(r,n){super();ve(this,Ps);ve(this,ao);ve(this,lo);ve(this,Dr);ve(this,ws);se(this,ao,r),this.setOptions(n),this.bindMethods(),Pe(this,Ps,Ad).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=R(this,ao).defaultMutationOptions(r),ff(this.options,n)||R(this,ao).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Dr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Pi(n.mutationKey)!==Pi(this.options.mutationKey)?this.reset():((s=R(this,Dr))==null?void 0:s.state.status)==="pending"&&R(this,Dr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=R(this,Dr))==null||r.removeObserver(this)}onMutationUpdate(r){Pe(this,Ps,Ad).call(this),Pe(this,Ps,Dg).call(this,r)}getCurrentResult(){return R(this,lo)}reset(){var r;(r=R(this,Dr))==null||r.removeObserver(this),se(this,Dr,void 0),Pe(this,Ps,Ad).call(this),Pe(this,Ps,Dg).call(this)}mutate(r,n){var s;return se(this,ws,n),(s=R(this,Dr))==null||s.removeObserver(this),se(this,Dr,R(this,ao).getMutationCache().build(R(this,ao),this.options)),R(this,Dr).addObserver(this),R(this,Dr).execute(r)}},ao=new WeakMap,lo=new WeakMap,Dr=new WeakMap,ws=new WeakMap,Ps=new WeakSet,Ad=function(){var n;const r=((n=R(this,Dr))==null?void 0:n.state)??KT();se(this,lo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Dg=function(r){Ot.batch(()=>{var n,s,o,i,a,c,u,d;if(R(this,ws)&&this.hasListeners()){const f=R(this,lo).variables,p=R(this,lo).context;(r==null?void 0:r.type)==="success"?((s=(n=R(this,ws)).onSuccess)==null||s.call(n,r.data,f,p),(i=(o=R(this,ws)).onSettled)==null||i.call(o,r.data,null,f,p)):(r==null?void 0:r.type)==="error"&&((c=(a=R(this,ws)).onError)==null||c.call(a,r.error,f,p),(d=(u=R(this,ws)).onSettled)==null||d.call(u,void 0,r.error,f,p))}this.listeners.forEach(f=>{f(R(this,lo))})})},D1),YT=h.createContext(void 0),Ly=e=>{const t=h.useContext(YT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XT=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(YT.Provider,{value:e,children:t})),ZT=h.createContext(!1),R$=()=>h.useContext(ZT);ZT.Provider;function I$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _$=h.createContext(I$()),O$=()=>h.useContext(_$),M$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},L$=e=>{h.useEffect(()=>{e.clearReset()},[e])},F$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||VT(r,[e.error,n])),$$=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},B$=(e,t)=>e.isLoading&&e.isFetching&&!t,z$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Gw=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function V$(e,t,r){var f,p,m,v,y;const n=R$(),s=O$(),o=Ly(),i=o.defaultQueryOptions(e);(p=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",$$(i),M$(i,s),L$(s);const a=!o.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const x=d?c.subscribe(Ot.batchCalls(w)):vr;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),z$(i,u))throw Gw(i,c,s);if(F$({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((v=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,i,u),i.experimental_prefetchInRender&&!ji&&B$(u,n)){const w=a?Gw(i,c,s):(y=o.getQueryCache().get(i.queryHash))==null?void 0:y.promise;w==null||w.catch(vr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Fy(e,t){return V$(e,T$)}function Dd(e,t){const r=Ly(),[n]=h.useState(()=>new D$(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const s=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(Ot.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=h.useCallback((i,a)=>{n.mutate(i,a).catch(vr)},[n]);if(s.error&&VT(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}async function JT(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function xr(e,t,r,n){let s="GET",o="",i,a={};const c=["GET","POST","PUT","DELETE","PATCH"];c.includes(e)?(s=e,o=t,i=r,a=n||{}):(o=e,t&&typeof t!="string"?(s="POST",i=t,a=r||{}):t&&typeof t=="string"&&c.includes(t)?(s=t,o=e,i=r,a=n||{}):t&&typeof t=="string"&&(o=`${e}${t}`)),i&&(a["Content-Type"]="application/json"),a.credentials="include",a["Cache-Control"]="no-cache";const u=o.includes("?")?`${o}&_t=${Date.now()}`:`${o}?_t=${Date.now()}`,d=await fetch(u,{method:s,headers:a,body:i?JSON.stringify(i):void 0,credentials:"include",cache:s==="GET"?"no-cache":"default"});if(d.headers.get("X-Chat-Cleared")==="true"){console.log("サーバーからキャッシュクリア指示を受信");const f="rq-"+o.split("?")[0];for(const p of Object.keys(localStorage))p.startsWith(f)&&localStorage.removeItem(p)}return await JT(d),d}const U$=({on401:e})=>async({queryKey:t})=>{if(t[0].includes("/api/chats")&&t[0].includes("/messages")){const o=localStorage.getItem("chat_cleared_timestamp");if(o){const i=parseInt(o);if(Date.now()-i<1e4)return console.log("クエリキャッシュクリア直後のためメッセージを空にします"),[]}}let r=t[0];const n=Date.now();r=r.includes("?")?`${r}&_t=${n}`:`${r}?_t=${n}`;const s=await fetch(r,{credentials:"include",cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});return s.headers.get("X-Chat-Cleared")==="true"?(console.log("クエリ実行中にキャッシュクリア指示を受信: 空配列を返します"),[]):(await JT(s),await s.json())},yi=new P$({defaultOptions:{queries:{queryFn:U$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:6e4,retry:!1,refetchOnMount:!0},mutations:{retry:!1}}}),W$=1,H$=1e6;let Hh=0;function G$(){return Hh=(Hh+1)%Number.MAX_SAFE_INTEGER,Hh.toString()}const Gh=new Map,qw=e=>{if(Gh.has(e))return;const t=setTimeout(()=>{Gh.delete(e),rc({type:"REMOVE_TOAST",toastId:e})},H$);Gh.set(e,t)},q$=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,W$)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qw(r):e.toasts.forEach(n=>{qw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Rd=[];let Id={toasts:[]};function rc(e){Id=q$(Id,e),Rd.forEach(t=>{t(Id)})}function K$({...e}){const t=G$(),r=s=>rc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>rc({type:"DISMISS_TOAST",toastId:t});return rc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Cr(){const[e,t]=h.useState(Id);return h.useEffect(()=>(Rd.push(t),()=>{const r=Rd.indexOf(t);r>-1&&Rd.splice(r,1)}),[]),{...e,toast:K$,dismiss:r=>rc({type:"DISMISS_TOAST",toastId:r})}}function Q(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $y(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Kw(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Kw(e[s],null)}}}}function we(...e){return h.useCallback($y(...e),e)}function Q$(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Er(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:p,children:m,...v}=f,y=((x=p==null?void 0:p[e])==null?void 0:x[c])||a,w=h.useMemo(()=>v,Object.values(v));return l.jsx(y.Provider,{value:w,children:m})};u.displayName=o+"Provider";function d(f,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[c])||a,v=h.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,Y$(s,...t)]}function Y$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Wa(e){const t=X$(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(J$);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function X$(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=tB(s),a=eB(o,s.props);return s.type!==h.Fragment&&(a.ref=n?$y(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e2=Symbol("radix.slottable");function Z$(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=e2,t}function J$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e2}function eB(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function tB(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function nu(e){const t=e+"CollectionProvider",[r,n]=Er(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:w,children:x}=y,g=oe.useRef(null),b=oe.useRef(new Map).current;return l.jsx(s,{scope:w,itemMap:b,collectionRef:g,children:x})};i.displayName=t;const a=e+"CollectionSlot",c=Wa(a),u=oe.forwardRef((y,w)=>{const{scope:x,children:g}=y,b=o(a,x),S=we(w,b.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=Wa(d),m=oe.forwardRef((y,w)=>{const{scope:x,children:g,...b}=y,S=oe.useRef(null),C=we(w,S),E=o(d,x);return oe.useEffect(()=>(E.itemMap.set(S,{ref:S,...b}),()=>void E.itemMap.delete(S))),l.jsx(p,{[f]:"",ref:C,children:g})});m.displayName=d;function v(y){const w=o(e+"CollectionConsumer",y);return oe.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((E,N)=>b.indexOf(E.ref.current)-b.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},v,n]}var rB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=rB.reduce((e,t)=>{const r=Wa(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function By(e,t){e&&Wo.flushSync(()=>e.dispatchEvent(t))}function bt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function nB(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sB="DismissableLayer",Rg="dismissableLayer.update",oB="dismissableLayer.pointerDownOutside",iB="dismissableLayer.focusOutside",Qw,t2=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),su=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(t2),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),v=we(t,N=>f(N)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(w),g=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,C=lB(N=>{const j=N.target,T=[...u.branches].some(P=>P.contains(j));!S||T||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},p),E=cB(N=>{const j=N.target;[...u.branches].some(P=>P.contains(j))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},p);return nB(N=>{g===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Yw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Qw)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Yw())},[d,u]),h.useEffect(()=>{const N=()=>m({});return document.addEventListener(Rg,N),()=>document.removeEventListener(Rg,N)},[]),l.jsx(ue.div,{...c,ref:v,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,C.onPointerDownCapture)})});su.displayName=sB;var aB="DismissableLayerBranch",r2=h.forwardRef((e,t)=>{const r=h.useContext(t2),n=h.useRef(null),s=we(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(ue.div,{...e,ref:s})});r2.displayName=aB;function lB(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){n2(oB,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function cB(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&n2(iB,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yw(){const e=new CustomEvent(Rg);document.dispatchEvent(e)}function n2(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?By(s,o):s.dispatchEvent(o)}var uB=su,dB=r2,Wt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},fB="Portal",ou=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);Wt(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?jT.createPortal(l.jsx(ue.div,{...n,ref:t}),i):null});ou.displayName=fB;function pB(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Nr=e=>{const{present:t,children:r}=e,n=hB(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=we(n.ref,mB(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Nr.displayName="Presence";function hB(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=pB(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=ed(n.current);o.current=a==="mounted"?u:"none"},[a]),Wt(()=>{const u=n.current,d=s.current;if(d!==e){const p=o.current,m=ed(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Wt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=ed(n.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=m=>{m.target===t&&(o.current=ed(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ed(e){return(e==null?void 0:e.animationName)||"none"}function mB(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gB=$v[" useInsertionEffect ".trim().toString()]||Wt;function Rs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=vB({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=h.useCallback(d=>{var f;if(a){const p=yB(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,e,o,i]);return[c,u]}function vB({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return gB(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function yB(e){return typeof e=="function"}var s2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xB="VisuallyHidden",zy=h.forwardRef((e,t)=>l.jsx(ue.span,{...e,ref:t,style:{...s2,...e.style}}));zy.displayName=xB;var Vy="ToastProvider",[Uy,wB,bB]=nu("Toast"),[o2,uJ]=Er("Toast",[bB]),[SB,gp]=o2(Vy),i2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vy}\`. Expected non-empty \`string\`.`),l.jsx(Uy.Provider,{scope:t,children:l.jsx(SB,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(m=>m+1),[]),onToastRemove:h.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};i2.displayName=Vy;var a2="ToastViewport",CB=["F8"],Ig="toast.viewportPause",_g="toast.viewportResume",l2=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=CB,label:s="Notifications ({hotkey})",...o}=e,i=gp(a2,r),a=wB(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=we(t,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;h.useEffect(()=>{const w=x=>{var b;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,x=f.current;if(v&&w&&x){const g=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Ig);x.dispatchEvent(E),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(_g);x.dispatchEvent(E),i.isClosePausedRef.current=!1}},S=E=>{!w.contains(E.relatedTarget)&&b()},C=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",g),w.addEventListener("focusout",S),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",C),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[v,i.isClosePausedRef]);const y=h.useCallback(({tabbingDirection:w})=>{const g=a().map(b=>{const S=b.ref.current,C=[S,...MB(S)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?g.reverse():g).flat()},[a]);return h.useEffect(()=>{const w=f.current;if(w){const x=g=>{var C,E,N;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const j=document.activeElement,T=g.shiftKey;if(g.target===w&&T){(C=u.current)==null||C.focus();return}const D=y({tabbingDirection:T?"backwards":"forwards"}),_=D.findIndex(k=>k===j);qh(D.slice(_+1))?g.preventDefault():T?(E=u.current)==null||E.focus():(N=d.current)==null||N.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[a,y]),l.jsxs(dB,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(Og,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});qh(w)}}),l.jsx(Uy.Slot,{scope:r,children:l.jsx(ue.ol,{tabIndex:-1,...o,ref:p})}),v&&l.jsx(Og,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});qh(w)}})]})});l2.displayName=a2;var c2="ToastFocusProxy",Og=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=gp(c2,r);return l.jsx(zy,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});Og.displayName=c2;var iu="Toast",EB="toast.swipeStart",NB="toast.swipeMove",jB="toast.swipeCancel",PB="toast.swipeEnd",u2=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=Rs({prop:n,defaultProp:s??!0,onChange:o,caller:iu});return l.jsx(Nr,{present:r||a,children:l.jsx(AB,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:bt(e.onPause),onResume:bt(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});u2.displayName=iu;var[TB,kB]=o2(iu,{onClose(){}}),AB=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...v}=e,y=gp(iu,r),[w,x]=h.useState(null),g=we(t,k=>x(k)),b=h.useRef(null),S=h.useRef(null),C=s||y.duration,E=h.useRef(0),N=h.useRef(C),j=h.useRef(0),{onToastAdd:T,onToastRemove:P}=y,O=bt(()=>{var F;(w==null?void 0:w.contains(document.activeElement))&&((F=y.viewport)==null||F.focus()),i()}),D=h.useCallback(k=>{!k||k===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(O,k))},[O]);h.useEffect(()=>{const k=y.viewport;if(k){const F=()=>{D(N.current),u==null||u()},I=()=>{const U=new Date().getTime()-E.current;N.current=N.current-U,window.clearTimeout(j.current),c==null||c()};return k.addEventListener(Ig,I),k.addEventListener(_g,F),()=>{k.removeEventListener(Ig,I),k.removeEventListener(_g,F)}}},[y.viewport,C,c,u,D]),h.useEffect(()=>{o&&!y.isClosePausedRef.current&&D(C)},[o,C,y.isClosePausedRef,D]),h.useEffect(()=>(T(),()=>P()),[T,P]);const _=h.useMemo(()=>w?v2(w):null,[w]);return y.viewport?l.jsxs(l.Fragment,{children:[_&&l.jsx(DB,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:_}),l.jsx(TB,{scope:r,onClose:O,children:Wo.createPortal(l.jsx(Uy.ItemSlot,{scope:r,children:l.jsx(uB,{asChild:!0,onEscapeKeyDown:Q(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||O(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Q(e.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:Q(e.onPointerMove,k=>{if(!b.current)return;const F=k.clientX-b.current.x,I=k.clientY-b.current.y,U=!!S.current,L=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,q=L?B(0,F):0,ie=L?0:B(0,I),fe=k.pointerType==="touch"?10:2,qe={x:q,y:ie},Oe={originalEvent:k,delta:qe};U?(S.current=qe,td(NB,f,Oe,{discrete:!1})):Xw(qe,y.swipeDirection,fe)?(S.current=qe,td(EB,d,Oe,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(F)>fe||Math.abs(I)>fe)&&(b.current=null)}),onPointerUp:Q(e.onPointerUp,k=>{const F=S.current,I=k.target;if(I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),S.current=null,b.current=null,F){const U=k.currentTarget,L={originalEvent:k,delta:F};Xw(F,y.swipeDirection,y.swipeThreshold)?td(PB,m,L,{discrete:!0}):td(jB,p,L,{discrete:!0}),U.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),DB=e=>{const{__scopeToast:t,children:r,...n}=e,s=gp(iu,t),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return _B(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(ou,{asChild:!0,children:l.jsx(zy,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},RB="ToastTitle",d2=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ue.div,{...n,ref:t})});d2.displayName=RB;var IB="ToastDescription",f2=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ue.div,{...n,ref:t})});f2.displayName=IB;var p2="ToastAction",h2=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(g2,{altText:r,asChild:!0,children:l.jsx(Wy,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${p2}\`. Expected non-empty \`string\`.`),null)});h2.displayName=p2;var m2="ToastClose",Wy=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=kB(m2,r);return l.jsx(g2,{asChild:!0,children:l.jsx(ue.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,s.onClose)})})});Wy.displayName=m2;var g2=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function v2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),OB(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...v2(n))}}),t}function td(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?By(s,o):s.dispatchEvent(o)}var Xw=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function _B(e=()=>{}){const t=bt(e);Wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function OB(e){return e.nodeType===e.ELEMENT_NODE}function MB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var LB=i2,y2=l2,x2=u2,w2=d2,b2=f2,S2=h2,C2=Wy;function E2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=E2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function N2(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=E2(e))&&(n&&(n+=" "),n+=t);return n}const Zw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jw=N2,vp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Jw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const p=Zw(d)||Zw(f);return s[u][p]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...o,...a}[y]):{...o,...a}[y]===w})?[...u,f,p]:u},[]);return Jw(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j2=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...$B,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:j2("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(BB,{ref:o,iconNode:t,className:j2(`lucide-${FB(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ge("BrainCog",[["path",{d:"M12 5a3 3 0 1 0-5.997.142 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588 4 4 0 0 0 7.636 2.106 3.2 3.2 0 0 0 .164-.546c.028-.13.306-.13.335 0a3.2 3.2 0 0 0 .163.546 4 4 0 0 0 7.636-2.106 4 4 0 0 0 .556-6.588 4 4 0 0 0-2.526-5.77A3 3 0 1 0 12 5",key:"1kgmhc"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m15.7 10.4-.9.4",key:"ayzo6p"}],["path",{d:"m9.2 13.2-.9.4",key:"1uzb3g"}],["path",{d:"m13.6 15.7-.4-.9",key:"11ifqf"}],["path",{d:"m10.8 9.2-.4-.9",key:"1pmk2v"}],["path",{d:"m15.7 13.5-.9-.4",key:"7ng02m"}],["path",{d:"m9.2 10.9-.9-.4",key:"1x66zd"}],["path",{d:"m10.5 15.7.4-.9",key:"3js94g"}],["path",{d:"m13.1 9.2.4-.9",key:"18n7mc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ge("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ge("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ge("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ge("ImageUp",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ge("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=ge("TabletSmartphone",[["rect",{width:"10",height:"14",x:"3",y:"8",rx:"2",key:"1vrsiq"}],["path",{d:"M5 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-2.4",key:"1j4zmg"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=ge("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ge("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=ge("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qy="-",h3=e=>{const t=g3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(qy);return a[0]===""&&a.length!==1&&a.shift(),L2(a,t)||m3(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},L2=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?L2(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(qy);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},sb=/^\[(.+)\]$/,m3=e=>{if(sb.test(e)){const t=sb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},g3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return y3(Object.entries(e.classGroups),r).forEach(([o,i])=>{zg(i,n,o,t)}),n},zg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:ob(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(v3(s)){zg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{zg(i,ob(t,o),r,n)})})},ob=(e,t)=>{let r=e;return t.split(qy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},v3=e=>e.isThemeGetter,y3=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,x3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},F2="!",w3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let x=a[w];if(u===0){if(x===s&&(n||a.slice(w,w+o)===t)){c.push(a.slice(d,w)),d=w+o;continue}if(x==="/"){f=w;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?a:a.substring(d),m=p.startsWith(F2),v=m?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:i}):i},b3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},S3=e=>({cache:x3(e.cacheSize),parseClassName:w3(e),...h3(e)}),C3=/\s+/,E3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(C3);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=r(u);let v=!!m,y=n(v?p.substring(0,m):p);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=n(p),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const w=b3(d).join(":"),x=f?w+F2:w,g=x+y;if(o.includes(g))continue;o.push(g);const b=s(y,v);for(let S=0;S<b.length;++S){const C=b[S];o.push(x+C)}a=u+(a.length>0?" "+a:a)}return a};function N3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$2(t))&&(n&&(n+=" "),n+=r);return n}const $2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$2(e[n]))&&(r&&(r+=" "),r+=t);return r};function j3(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=S3(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=E3(c,r);return s(c,d),d}return function(){return o(N3.apply(null,arguments))}}const st=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},B2=/^\[(?:([a-z-]+):)?(.+)\]$/i,P3=/^\d+\/\d+$/,T3=new Set(["px","full","screen"]),k3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,R3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ps=e=>ga(e)||T3.has(e)||P3.test(e),zs=e=>il(e,"length",z3),ga=e=>!!e&&!Number.isNaN(Number(e)),Kh=e=>il(e,"number",ga),Tl=e=>!!e&&Number.isInteger(Number(e)),_3=e=>e.endsWith("%")&&ga(e.slice(0,-1)),je=e=>B2.test(e),Vs=e=>k3.test(e),O3=new Set(["length","size","percentage"]),M3=e=>il(e,O3,z2),L3=e=>il(e,"position",z2),F3=new Set(["image","url"]),$3=e=>il(e,F3,U3),B3=e=>il(e,"",V3),kl=()=>!0,il=(e,t,r)=>{const n=B2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},z3=e=>A3.test(e)&&!D3.test(e),z2=()=>!1,V3=e=>R3.test(e),U3=e=>I3.test(e),W3=()=>{const e=st("colors"),t=st("spacing"),r=st("blur"),n=st("brightness"),s=st("borderColor"),o=st("borderRadius"),i=st("borderSpacing"),a=st("borderWidth"),c=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),p=st("gap"),m=st("gradientColorStops"),v=st("gradientColorStopPositions"),y=st("inset"),w=st("margin"),x=st("opacity"),g=st("padding"),b=st("saturate"),S=st("scale"),C=st("sepia"),E=st("skew"),N=st("space"),j=st("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",je,t],D=()=>[je,t],_=()=>["",ps,zs],k=()=>["auto",ga,je],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",je],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[ga,je];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[ps,zs],blur:["none","",Vs,je],brightness:ie(),borderColor:[e],borderRadius:["none","","full",Vs,je],borderSpacing:D(),borderWidth:_(),contrast:ie(),grayscale:B(),hueRotate:ie(),invert:B(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[_3,zs],inset:O(),margin:O(),opacity:ie(),padding:D(),saturate:ie(),scale:ie(),sepia:B(),skew:ie(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),je]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tl,je]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Tl,je]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",Tl,je]},je]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[Tl,je]},je]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,t]}],"min-w":[{"min-w":[je,t,"min","max","fit"]}],"max-w":[{"max-w":[je,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kh]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",ga,Kh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ps,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ps,zs]}],"underline-offset":[{"underline-offset":["auto",ps,je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),L3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[ps,je]}],"outline-w":[{outline:[ps,zs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ps,zs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,B3]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vs,je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Tl,je]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ps,zs,Kh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H3=j3(W3);function ee(...e){return H3(N2(e))}const G3=LB,V2=h.forwardRef(({className:e,...t},r)=>l.jsx(y2,{ref:r,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));V2.displayName=y2.displayName;const q3=vp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),U2=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(x2,{ref:n,className:ee(q3({variant:t}),e),...r}));U2.displayName=x2.displayName;const K3=h.forwardRef(({className:e,...t},r)=>l.jsx(S2,{ref:r,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));K3.displayName=S2.displayName;const W2=h.forwardRef(({className:e,...t},r)=>l.jsx(C2,{ref:r,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Oo,{className:"h-4 w-4"})}));W2.displayName=C2.displayName;const H2=h.forwardRef(({className:e,...t},r)=>l.jsx(w2,{ref:r,className:ee("text-sm font-semibold",e),...t}));H2.displayName=w2.displayName;const G2=h.forwardRef(({className:e,...t},r)=>l.jsx(b2,{ref:r,className:ee("text-sm opacity-90",e),...t}));G2.displayName=b2.displayName;const Q3=()=>{const{toasts:e}=Cr();return l.jsxs(G3,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(U2,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(H2,{children:r}),n&&l.jsx(G2,{children:n})]}),s,l.jsx(W2,{})]},t)}),l.jsx(V2,{})]})},rt=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rt.displayName="Card";const ar=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));ar.displayName="CardHeader";const lr=h.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));lr.displayName="CardTitle";const Ky=h.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));Ky.displayName="CardDescription";const nt=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));nt.displayName="CardContent";const q2=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));q2.displayName="CardFooter";function ib(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Y3(...e){return t=>{let r=!1;const n=e.map(s=>{const o=ib(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():ib(e[s],null)}}}}function X3(e){const t=Z3(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,a=h.Children.toArray(o),c=a.find(e5);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var K2=X3("Slot");function Z3(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=r5(s),a=t5(o,s.props);return s.type!==h.Fragment&&(a.ref=n?Y3(n,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var J3=Symbol("radix.slottable");function e5(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===J3}function t5(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function r5(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Qy=vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?K2:"button";return l.jsx(i,{className:ee(Qy({variant:t,size:r,className:e})),ref:o,...s})});H.displayName="Button";function n5(){const[e,t]=h.useState(null),[r,n]=h.useState(!1),[s,o]=h.useState("idle"),i=async()=>{n(!0),o("idle");try{const u=await(await fetch("/api/health")).json();t(JSON.stringify(u,null,2)),o("success")}catch(c){console.error("API test failed:",c),t(String(c)),o("error")}finally{n(!1)}},a=async()=>{n(!0),o("idle");try{const c=await fetch("/api/chatgpt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"Hello, this is a test of the OpenAI API connection."})});if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);const u=await c.json();t(u.response),o("success")}catch(c){console.error("OpenAI API test failed:",c),t(String(c)),o("error")}finally{n(!1)}};return l.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-gray-50 p-4",children:[l.jsx(rt,{className:"w-full max-w-md mb-4",children:l.jsxs(nt,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(Mg,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"text-sm text-gray-600",children:"The page you're looking for doesn't exist or has been moved."}),l.jsx("div",{className:"mt-4",children:l.jsx(Nc,{href:"/",className:"text-blue-600 hover:underline text-sm",children:"Return to Home"})})]})}),l.jsx(rt,{className:"w-full max-w-md",children:l.jsxs(nt,{className:"pt-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"API Connection Test"}),l.jsxs("div",{className:"flex gap-3 mb-4",children:[l.jsxs(H,{onClick:i,disabled:r,className:"flex items-center gap-2",children:[l.jsx(i3,{className:"h-4 w-4"}),"Test Health API"]}),l.jsxs(H,{onClick:a,disabled:r,variant:"secondary",className:"flex items-center gap-2",children:[l.jsx(WB,{className:"h-4 w-4"}),"Test OpenAI API"]})]}),r&&l.jsx("div",{className:"py-4 text-center text-gray-600",children:"Loading..."}),!r&&e&&l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:`text-sm font-medium mb-1 ${s==="success"?"text-green-600":"text-red-600"}`,children:s==="success"?"Success!":"Error:"}),l.jsx("pre",{className:"bg-gray-100 p-3 rounded-md text-xs overflow-x-auto max-h-64 overflow-y-auto",children:e})]})]})})]})}var au=e=>e.type==="checkbox",ii=e=>e instanceof Date,yr=e=>e==null;const Q2=e=>typeof e=="object";var jt=e=>!yr(e)&&!Array.isArray(e)&&Q2(e)&&!ii(e),Y2=e=>jt(e)&&e.target?au(e.target)?e.target.checked:e.target.value:e,s5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,X2=(e,t)=>e.has(s5(t)),o5=e=>{const t=e.constructor&&e.constructor.prototype;return jt(t)&&t.hasOwnProperty("isPrototypeOf")},Yy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Yy&&(e instanceof Blob||n))&&(r||jt(e)))if(t=r?[]:{},!r&&!o5(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Xt(e[s]));else return e;return t}var yp=e=>/^\w*$/.test(e),Ct=e=>e===void 0,Xy=e=>Array.isArray(e)?e.filter(Boolean):[],Zy=e=>Xy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),J=(e,t,r)=>{if(!t||!jt(e))return r;const n=(yp(t)?[t]:Zy(t)).reduce((s,o)=>yr(s)?s:s[o],e);return Ct(n)||n===e?Ct(e[t])?r:e[t]:n},Br=e=>typeof e=="boolean",He=(e,t,r)=>{let n=-1;const s=yp(t)?[t]:Zy(t),o=s.length,i=o-1;for(;++n<o;){const a=s[n];let c=r;if(n!==i){const u=e[a];c=jt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const hf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Jy=oe.createContext(null);Jy.displayName="HookFormContext";const xp=()=>oe.useContext(Jy),i5=e=>{const{children:t,...r}=e;return oe.createElement(Jy.Provider,{value:r},t)};var Z2=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==kn.all&&(t._proxyFormState[i]=!n||kn.all),r&&(r[i]=!0),e[i]}});return s};const ex=typeof window<"u"?h.useLayoutEffect:h.useEffect;function a5(e){const t=xp(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,a]=oe.useState(r._formState),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ex(()=>r._subscribe({name:s,formState:c.current,exact:o,callback:u=>{!n&&a({...r._formState,...u})}}),[s,n,o]),oe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>Z2(i,r,c.current,!1),[i,r])}var Zn=e=>typeof e=="string",J2=(e,t,r,n,s)=>Zn(e)?(n&&t.watch.add(e),J(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),J(r,o))):(n&&(t.watchAll=!0),r);function l5(e){const t=xp(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i}=e||{},a=oe.useRef(s),[c,u]=oe.useState(r._getWatch(n,a.current));return ex(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:d=>!o&&u(J2(n,r._names,d.values||r._formValues,!1,a.current))}),[n,r,o,i]),oe.useEffect(()=>r._removeUnmounted()),c}function c5(e){const t=xp(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,i=X2(s._names.array,r),a=l5({control:s,name:r,defaultValue:J(s._formValues,r,J(s._defaultValues,r,e.defaultValue)),exact:!0}),c=a5({control:s,name:r,exact:!0}),u=oe.useRef(e),d=oe.useRef(s.register(r,{...e.rules,value:a,...Br(e.disabled)?{disabled:e.disabled}:{}})),f=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!J(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!J(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!J(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!J(c.validatingFields,r)},error:{enumerable:!0,get:()=>J(c.errors,r)}}),[c,r]),p=oe.useCallback(w=>d.current.onChange({target:{value:Y2(w),name:r},type:hf.CHANGE}),[r]),m=oe.useCallback(()=>d.current.onBlur({target:{value:J(s._formValues,r),name:r},type:hf.BLUR}),[r,s._formValues]),v=oe.useCallback(w=>{const x=J(s._fields,r);x&&w&&(x._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:g=>w.setCustomValidity(g),reportValidity:()=>w.reportValidity()})},[s._fields,r]),y=oe.useMemo(()=>({name:r,value:a,...Br(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:p,onBlur:m,ref:v}),[r,n,c.disabled,p,m,v,a]);return oe.useEffect(()=>{const w=s._options.shouldUnregister||o;s.register(r,{...u.current.rules,...Br(u.current.disabled)?{disabled:u.current.disabled}:{}});const x=(g,b)=>{const S=J(s._fields,g);S&&S._f&&(S._f.mount=b)};if(x(r,!0),w){const g=Xt(J(s._options.defaultValues,r));He(s._defaultValues,r,g),Ct(J(s._formValues,r))&&He(s._formValues,r,g)}return!i&&s.register(r),()=>{(i?w&&!s._state.action:w)?s.unregister(r):x(r,!1)}},[r,s,i,o]),oe.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),oe.useMemo(()=>({field:y,formState:c,fieldState:f}),[y,c,f])}const u5=e=>e.render(c5(e));var ek=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},nc=e=>Array.isArray(e)?e:[e],ab=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},Vg=e=>yr(e)||!Q2(e);function Zs(e,t){if(Vg(e)||Vg(t))return e===t;if(ii(e)&&ii(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(ii(o)&&ii(i)||jt(o)&&jt(i)||Array.isArray(o)&&Array.isArray(i)?!Zs(o,i):o!==i)return!1}}return!0}var Rr=e=>jt(e)&&!Object.keys(e).length,tx=e=>e.type==="file",An=e=>typeof e=="function",mf=e=>{if(!Yy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tk=e=>e.type==="select-multiple",rx=e=>e.type==="radio",d5=e=>rx(e)||au(e),Qh=e=>mf(e)&&e.isConnected;function f5(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ct(e)?n++:e[t[n++]];return e}function p5(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ct(e[t]))return!1;return!0}function It(e,t){const r=Array.isArray(t)?t:yp(t)?[t]:Zy(t),n=r.length===1?e:f5(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(jt(n)&&Rr(n)||Array.isArray(n)&&p5(n))&&It(e,r.slice(0,-1)),e}var rk=e=>{for(const t in e)if(An(e[t]))return!0;return!1};function gf(e,t={}){const r=Array.isArray(e);if(jt(e)||r)for(const n in e)Array.isArray(e[n])||jt(e[n])&&!rk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},gf(e[n],t[n])):yr(e[n])||(t[n]=!0);return t}function nk(e,t,r){const n=Array.isArray(e);if(jt(e)||n)for(const s in e)Array.isArray(e[s])||jt(e[s])&&!rk(e[s])?Ct(t)||Vg(r[s])?r[s]=Array.isArray(e[s])?gf(e[s],[]):{...gf(e[s])}:nk(e[s],yr(t)?{}:t[s],r[s]):r[s]=!Zs(e[s],t[s]);return r}var Al=(e,t)=>nk(e,t,gf(t));const lb={value:!1,isValid:!1},cb={value:!0,isValid:!0};var sk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ct(e[0].attributes.value)?Ct(e[0].value)||e[0].value===""?cb:{value:e[0].value,isValid:!0}:cb:lb}return lb},ok=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ct(e)?e:t?e===""?NaN:e&&+e:r&&Zn(e)?new Date(e):n?n(e):e;const ub={isValid:!1,value:null};var ik=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ub):ub;function db(e){const t=e.ref;return tx(t)?t.files:rx(t)?ik(e.refs).value:tk(t)?[...t.selectedOptions].map(({value:r})=>r):au(t)?sk(e.refs).value:ok(Ct(t.value)?e.ref.value:t.value,e)}var h5=(e,t,r,n)=>{const s={};for(const o of e){const i=J(t,o);i&&He(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},vf=e=>e instanceof RegExp,Dl=e=>Ct(e)?e:vf(e)?e.source:jt(e)?vf(e.value)?e.value.source:e.value:e,fb=e=>({isOnSubmit:!e||e===kn.onSubmit,isOnBlur:e===kn.onBlur,isOnChange:e===kn.onChange,isOnAll:e===kn.all,isOnTouch:e===kn.onTouched});const pb="AsyncFunction";var m5=e=>!!e&&!!e.validate&&!!(An(e.validate)&&e.validate.constructor.name===pb||jt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===pb)),g5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),hb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const sc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=J(e,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(sc(a,t))break}else if(jt(a)&&sc(a,t))break}}};function mb(e,t,r){const n=J(e,r);if(n||yp(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=J(t,o),a=J(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};if(a&&a.root&&a.root.type)return{name:`${o}.root`,error:a.root};s.pop()}return{name:r}}var v5=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Rr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||kn.all))},y5=(e,t,r)=>!e||!t||e===t||nc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),x5=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,w5=(e,t)=>!Xy(J(e,t)).length&&It(e,t),b5=(e,t,r)=>{const n=nc(J(e,r));return He(n,"root",t[r]),He(e,r,n),e},_d=e=>Zn(e);function gb(e,t,r="validate"){if(_d(e)||Array.isArray(e)&&e.every(_d)||Br(e)&&!e)return{type:r,message:_d(e)?e:"",ref:t}}var Ui=e=>jt(e)&&!vf(e)?e:{value:e,message:""},vb=async(e,t,r,n,s,o)=>{const{ref:i,refs:a,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:m,validate:v,name:y,valueAsNumber:w,mount:x}=e._f,g=J(r,y);if(!x||t.has(y))return{};const b=a?a[0]:i,S=D=>{s&&b.reportValidity&&(b.setCustomValidity(Br(D)?"":D||""),b.reportValidity())},C={},E=rx(i),N=au(i),j=E||N,T=(w||tx(i))&&Ct(i.value)&&Ct(g)||mf(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,P=ek.bind(null,y,n,C),O=(D,_,k,F=hs.maxLength,I=hs.minLength)=>{const U=D?_:k;C[y]={type:D?F:I,message:U,ref:i,...P(D?F:I,U)}};if(o?!Array.isArray(g)||!g.length:c&&(!j&&(T||yr(g))||Br(g)&&!g||N&&!sk(a).isValid||E&&!ik(a).isValid)){const{value:D,message:_}=_d(c)?{value:!!c,message:c}:Ui(c);if(D&&(C[y]={type:hs.required,message:_,ref:b,...P(hs.required,_)},!n))return S(_),C}if(!T&&(!yr(f)||!yr(p))){let D,_;const k=Ui(p),F=Ui(f);if(!yr(g)&&!isNaN(g)){const I=i.valueAsNumber||g&&+g;yr(k.value)||(D=I>k.value),yr(F.value)||(_=I<F.value)}else{const I=i.valueAsDate||new Date(g),U=q=>new Date(new Date().toDateString()+" "+q),L=i.type=="time",B=i.type=="week";Zn(k.value)&&g&&(D=L?U(g)>U(k.value):B?g>k.value:I>new Date(k.value)),Zn(F.value)&&g&&(_=L?U(g)<U(F.value):B?g<F.value:I<new Date(F.value))}if((D||_)&&(O(!!D,k.message,F.message,hs.max,hs.min),!n))return S(C[y].message),C}if((u||d)&&!T&&(Zn(g)||o&&Array.isArray(g))){const D=Ui(u),_=Ui(d),k=!yr(D.value)&&g.length>+D.value,F=!yr(_.value)&&g.length<+_.value;if((k||F)&&(O(k,D.message,_.message),!n))return S(C[y].message),C}if(m&&!T&&Zn(g)){const{value:D,message:_}=Ui(m);if(vf(D)&&!g.match(D)&&(C[y]={type:hs.pattern,message:_,ref:i,...P(hs.pattern,_)},!n))return S(_),C}if(v){if(An(v)){const D=await v(g,r),_=gb(D,b);if(_&&(C[y]={..._,...P(hs.validate,_.message)},!n))return S(_.message),C}else if(jt(v)){let D={};for(const _ in v){if(!Rr(D)&&!n)break;const k=gb(await v[_](g,r),b,_);k&&(D={...k,...P(_,k.message)},S(k.message),n&&(C[y]=D))}if(!Rr(D)&&(C[y]={ref:b,...D},!n))return C}}return S(!0),C};const S5={mode:kn.onSubmit,reValidateMode:kn.onChange,shouldFocusError:!0};function C5(e={}){let t={...S5,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:An(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=jt(t.defaultValues)||jt(t.values)?Xt(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Xt(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:ab(),state:ab()},m=t.criteriaMode===kn.all,v=A=>$=>{clearTimeout(u),u=setTimeout(A,$)},y=async A=>{if(!t.disabled&&(d.isValid||f.isValid||A)){const $=t.resolver?Rr((await N()).errors):await T(n,!0);$!==r.isValid&&p.state.next({isValid:$})}},w=(A,$)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((A||Array.from(a.mount)).forEach(z=>{z&&($?He(r.validatingFields,z,$):It(r.validatingFields,z))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Rr(r.validatingFields)}))},x=(A,$=[],z,re,Z=!0,Y=!0)=>{if(re&&z&&!t.disabled){if(i.action=!0,Y&&Array.isArray(J(n,A))){const he=z(J(n,A),re.argA,re.argB);Z&&He(n,A,he)}if(Y&&Array.isArray(J(r.errors,A))){const he=z(J(r.errors,A),re.argA,re.argB);Z&&He(r.errors,A,he),w5(r.errors,A)}if((d.touchedFields||f.touchedFields)&&Y&&Array.isArray(J(r.touchedFields,A))){const he=z(J(r.touchedFields,A),re.argA,re.argB);Z&&He(r.touchedFields,A,he)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Al(s,o)),p.state.next({name:A,isDirty:O(A,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else He(o,A,$)},g=(A,$)=>{He(r.errors,A,$),p.state.next({errors:r.errors})},b=A=>{r.errors=A,p.state.next({errors:r.errors,isValid:!1})},S=(A,$,z,re)=>{const Z=J(n,A);if(Z){const Y=J(o,A,Ct(z)?J(s,A):z);Ct(Y)||re&&re.defaultChecked||$?He(o,A,$?Y:db(Z._f)):k(A,Y),i.mount&&y()}},C=(A,$,z,re,Z)=>{let Y=!1,he=!1;const Ue={name:A};if(!t.disabled){if(!z||re){(d.isDirty||f.isDirty)&&(he=r.isDirty,r.isDirty=Ue.isDirty=O(),Y=he!==Ue.isDirty);const Le=Zs(J(s,A),$);he=!!J(r.dirtyFields,A),Le?It(r.dirtyFields,A):He(r.dirtyFields,A,!0),Ue.dirtyFields=r.dirtyFields,Y=Y||(d.dirtyFields||f.dirtyFields)&&he!==!Le}if(z){const Le=J(r.touchedFields,A);Le||(He(r.touchedFields,A,z),Ue.touchedFields=r.touchedFields,Y=Y||(d.touchedFields||f.touchedFields)&&Le!==z)}Y&&Z&&p.state.next(Ue)}return Y?Ue:{}},E=(A,$,z,re)=>{const Z=J(r.errors,A),Y=(d.isValid||f.isValid)&&Br($)&&r.isValid!==$;if(t.delayError&&z?(c=v(()=>g(A,z)),c(t.delayError)):(clearTimeout(u),c=null,z?He(r.errors,A,z):It(r.errors,A)),(z?!Zs(Z,z):Z)||!Rr(re)||Y){const he={...re,...Y&&Br($)?{isValid:$}:{},errors:r.errors,name:A};r={...r,...he},p.state.next(he)}},N=async A=>{w(A,!0);const $=await t.resolver(o,t.context,h5(A||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(A),$},j=async A=>{const{errors:$}=await N(A);if(A)for(const z of A){const re=J($,z);re?He(r.errors,z,re):It(r.errors,z)}else r.errors=$;return $},T=async(A,$,z={valid:!0})=>{for(const re in A){const Z=A[re];if(Z){const{_f:Y,...he}=Z;if(Y){const Ue=a.array.has(Y.name),Le=Z._f&&m5(Z._f);Le&&d.validatingFields&&w([re],!0);const fr=await vb(Z,a.disabled,o,m,t.shouldUseNativeValidation&&!$,Ue);if(Le&&d.validatingFields&&w([re]),fr[Y.name]&&(z.valid=!1,$))break;!$&&(J(fr,Y.name)?Ue?b5(r.errors,fr,Y.name):He(r.errors,Y.name,fr[Y.name]):It(r.errors,Y.name))}!Rr(he)&&await T(he,$,z)}}return z.valid},P=()=>{for(const A of a.unMount){const $=J(n,A);$&&($._f.refs?$._f.refs.every(z=>!Qh(z)):!Qh($._f.ref))&&ae(A)}a.unMount=new Set},O=(A,$)=>!t.disabled&&(A&&$&&He(o,A,$),!Zs(q(),s)),D=(A,$,z)=>J2(A,a,{...i.mount?o:Ct($)?s:Zn(A)?{[A]:$}:$},z,$),_=A=>Xy(J(i.mount?o:s,A,t.shouldUnregister?J(s,A,[]):[])),k=(A,$,z={})=>{const re=J(n,A);let Z=$;if(re){const Y=re._f;Y&&(!Y.disabled&&He(o,A,ok($,Y)),Z=mf(Y.ref)&&yr($)?"":$,tk(Y.ref)?[...Y.ref.options].forEach(he=>he.selected=Z.includes(he.value)):Y.refs?au(Y.ref)?Y.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(Z)?he.checked=!!Z.find(Ue=>Ue===he.value):he.checked=Z===he.value||!!Z)}):Y.refs.forEach(he=>he.checked=he.value===Z):tx(Y.ref)?Y.ref.value="":(Y.ref.value=Z,Y.ref.type||p.state.next({name:A,values:Xt(o)})))}(z.shouldDirty||z.shouldTouch)&&C(A,Z,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&B(A)},F=(A,$,z)=>{for(const re in $){if(!$.hasOwnProperty(re))return;const Z=$[re],Y=A+"."+re,he=J(n,Y);(a.array.has(A)||jt(Z)||he&&!he._f)&&!ii(Z)?F(Y,Z,z):k(Y,Z,z)}},I=(A,$,z={})=>{const re=J(n,A),Z=a.array.has(A),Y=Xt($);He(o,A,Y),Z?(p.array.next({name:A,values:Xt(o)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&p.state.next({name:A,dirtyFields:Al(s,o),isDirty:O(A,Y)})):re&&!re._f&&!yr(Y)?F(A,Y,z):k(A,Y,z),hb(A,a)&&p.state.next({...r}),p.state.next({name:i.mount?A:void 0,values:Xt(o)})},U=async A=>{i.mount=!0;const $=A.target;let z=$.name,re=!0;const Z=J(n,z),Y=Le=>{re=Number.isNaN(Le)||ii(Le)&&isNaN(Le.getTime())||Zs(Le,J(o,z,Le))},he=fb(t.mode),Ue=fb(t.reValidateMode);if(Z){let Le,fr;const zi=$.type?db(Z._f):Y2(A),Vn=A.type===hf.BLUR||A.type===hf.FOCUS_OUT,fh=!g5(Z._f)&&!t.resolver&&!J(r.errors,z)&&!Z._f.deps||x5(Vn,J(r.touchedFields,z),r.isSubmitted,Ue,he),vl=hb(z,a,Vn);He(o,z,zi),Vn?(Z._f.onBlur&&Z._f.onBlur(A),c&&c(0)):Z._f.onChange&&Z._f.onChange(A);const yl=C(z,zi,Vn),ph=!Rr(yl)||vl;if(!Vn&&p.state.next({name:z,type:A.type,values:Xt(o)}),fh)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Vn&&y():Vn||y()),ph&&p.state.next({name:z,...vl?{}:yl});if(!Vn&&vl&&p.state.next({...r}),t.resolver){const{errors:xl}=await N([z]);if(Y(zi),re){const hh=mb(r.errors,n,z),V=mb(xl,n,hh.name||z);Le=V.error,z=V.name,fr=Rr(xl)}}else w([z],!0),Le=(await vb(Z,a.disabled,o,m,t.shouldUseNativeValidation))[z],w([z]),Y(zi),re&&(Le?fr=!1:(d.isValid||f.isValid)&&(fr=await T(n,!0)));re&&(Z._f.deps&&B(Z._f.deps),E(z,fr,Le,yl))}},L=(A,$)=>{if(J(r.errors,$)&&A.focus)return A.focus(),1},B=async(A,$={})=>{let z,re;const Z=nc(A);if(t.resolver){const Y=await j(Ct(A)?A:Z);z=Rr(Y),re=A?!Z.some(he=>J(Y,he)):z}else A?(re=(await Promise.all(Z.map(async Y=>{const he=J(n,Y);return await T(he&&he._f?{[Y]:he}:he)}))).every(Boolean),!(!re&&!r.isValid)&&y()):re=z=await T(n);return p.state.next({...!Zn(A)||(d.isValid||f.isValid)&&z!==r.isValid?{}:{name:A},...t.resolver||!A?{isValid:z}:{},errors:r.errors}),$.shouldFocus&&!re&&sc(n,L,A?Z:a.mount),re},q=A=>{const $={...i.mount?o:s};return Ct(A)?$:Zn(A)?J($,A):A.map(z=>J($,z))},ie=(A,$)=>({invalid:!!J(($||r).errors,A),isDirty:!!J(($||r).dirtyFields,A),error:J(($||r).errors,A),isValidating:!!J(r.validatingFields,A),isTouched:!!J(($||r).touchedFields,A)}),fe=A=>{A&&nc(A).forEach($=>It(r.errors,$)),p.state.next({errors:A?r.errors:{}})},qe=(A,$,z)=>{const re=(J(n,A,{_f:{}})._f||{}).ref,Z=J(r.errors,A)||{},{ref:Y,message:he,type:Ue,...Le}=Z;He(r.errors,A,{...Le,...$,ref:re}),p.state.next({name:A,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&re&&re.focus&&re.focus()},Oe=(A,$)=>An(A)?p.state.subscribe({next:z=>A(D(void 0,$),z)}):D(A,$,!0),Je=A=>p.state.subscribe({next:$=>{y5(A.name,$.name,A.exact)&&v5($,A.formState||d,dr,A.reRenderRoot)&&A.callback({values:{...o},...r,...$})}}).unsubscribe,Ke=A=>(i.mount=!0,f={...f,...A.formState},Je({...A,formState:f})),ae=(A,$={})=>{for(const z of A?nc(A):a.mount)a.mount.delete(z),a.array.delete(z),$.keepValue||(It(n,z),It(o,z)),!$.keepError&&It(r.errors,z),!$.keepDirty&&It(r.dirtyFields,z),!$.keepTouched&&It(r.touchedFields,z),!$.keepIsValidating&&It(r.validatingFields,z),!t.shouldUnregister&&!$.keepDefaultValue&&It(s,z);p.state.next({values:Xt(o)}),p.state.next({...r,...$.keepDirty?{isDirty:O()}:{}}),!$.keepIsValid&&y()},ke=({disabled:A,name:$})=>{(Br(A)&&i.mount||A||a.disabled.has($))&&(A?a.disabled.add($):a.disabled.delete($))},Re=(A,$={})=>{let z=J(n,A);const re=Br($.disabled)||Br(t.disabled);return He(n,A,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:A}},name:A,mount:!0,...$}}),a.mount.add(A),z?ke({disabled:Br($.disabled)?$.disabled:t.disabled,name:A}):S(A,!0,$.value),{...re?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:Dl($.min),max:Dl($.max),minLength:Dl($.minLength),maxLength:Dl($.maxLength),pattern:Dl($.pattern)}:{},name:A,onChange:U,onBlur:U,ref:Z=>{if(Z){Re(A,$),z=J(n,A);const Y=Ct(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,he=d5(Y),Ue=z._f.refs||[];if(he?Ue.find(Le=>Le===Y):Y===z._f.ref)return;He(n,A,{_f:{...z._f,...he?{refs:[...Ue.filter(Qh),Y,...Array.isArray(J(s,A))?[{}]:[]],ref:{type:Y.type,name:A}}:{ref:Y}}}),S(A,!1,void 0,Y)}else z=J(n,A,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(X2(a.array,A)&&i.action)&&a.unMount.add(A)}}},Ne=()=>t.shouldFocusError&&sc(n,L,a.mount),Ie=A=>{Br(A)&&(p.state.next({disabled:A}),sc(n,($,z)=>{const re=J(n,z);re&&($.disabled=re._f.disabled||A,Array.isArray(re._f.refs)&&re._f.refs.forEach(Z=>{Z.disabled=re._f.disabled||A}))},0,!1))},De=(A,$)=>async z=>{let re;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let Z=Xt(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:he}=await N();r.errors=Y,Z=he}else await T(n);if(a.disabled.size)for(const Y of a.disabled)He(Z,Y,void 0);if(It(r.errors,"root"),Rr(r.errors)){p.state.next({errors:{}});try{await A(Z,z)}catch(Y){re=Y}}else $&&await $({...r.errors},z),Ne(),setTimeout(Ne);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rr(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},ut=(A,$={})=>{J(n,A)&&(Ct($.defaultValue)?I(A,Xt(J(s,A))):(I(A,$.defaultValue),He(s,A,Xt($.defaultValue))),$.keepTouched||It(r.touchedFields,A),$.keepDirty||(It(r.dirtyFields,A),r.isDirty=$.defaultValue?O(A,Xt(J(s,A))):O()),$.keepError||(It(r.errors,A),d.isValid&&y()),p.state.next({...r}))},gt=(A,$={})=>{const z=A?Xt(A):s,re=Xt(z),Z=Rr(A),Y=Z?s:re;if($.keepDefaultValues||(s=z),!$.keepValues){if($.keepDirtyValues){const he=new Set([...a.mount,...Object.keys(Al(s,o))]);for(const Ue of Array.from(he))J(r.dirtyFields,Ue)?He(Y,Ue,J(o,Ue)):I(Ue,J(Y,Ue))}else{if(Yy&&Ct(A))for(const he of a.mount){const Ue=J(n,he);if(Ue&&Ue._f){const Le=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(mf(Le)){const fr=Le.closest("form");if(fr){fr.reset();break}}}}for(const he of a.mount)I(he,J(Y,he))}o=Xt(Y),p.array.next({values:{...Y}}),p.state.next({values:{...Y}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,i.watch=!!t.shouldUnregister,p.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Zs(A,s)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:$.keepDirtyValues?$.keepDefaultValues&&o?Al(s,o):r.dirtyFields:$.keepDefaultValues&&A?Al(s,A):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Pt=(A,$)=>gt(An(A)?A(o):A,$),ur=(A,$={})=>{const z=J(n,A),re=z&&z._f;if(re){const Z=re.refs?re.refs[0]:re.ref;Z.focus&&(Z.focus(),$.shouldSelect&&An(Z.select)&&Z.select())}},dr=A=>{r={...r,...A}},vt={control:{register:Re,unregister:ae,getFieldState:ie,handleSubmit:De,setError:qe,_subscribe:Je,_runSchema:N,_focusError:Ne,_getWatch:D,_getDirty:O,_setValid:y,_setFieldArray:x,_setDisabledField:ke,_setErrors:b,_getFieldArray:_,_reset:gt,_resetDefaultValues:()=>An(t.defaultValues)&&t.defaultValues().then(A=>{Pt(A,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Ie,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(A){i=A},get _defaultValues(){return s},get _names(){return a},set _names(A){a=A},get _formState(){return r},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:Ke,trigger:B,register:Re,handleSubmit:De,watch:Oe,setValue:I,getValues:q,reset:Pt,resetField:ut,clearErrors:fe,unregister:ae,setError:qe,setFocus:ur,getFieldState:ie};return{...vt,formControl:vt}}function E5(e={}){const t=oe.useRef(void 0),r=oe.useRef(void 0),[n,s]=oe.useState({isDirty:!1,isValidating:!1,isLoading:An(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:An(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!An(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...a}=C5(e);t.current={...a,formState:n}}const o=t.current.control;return o._options=e,ex(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),o._formState.isReady=!0,i},[o]),oe.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),oe.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),oe.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),oe.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),oe.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),oe.useEffect(()=>{e.values&&!Zs(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),oe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=Z2(n,o),t.current}const yb=(e,t,r)=>{if(e&&"reportValidity"in e){const n=J(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ak=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?yb(n.ref,r,e):n.refs&&n.refs.forEach(s=>yb(s,r,e))}},N5=(e,t)=>{t.shouldUseNativeValidation&&ak(e,t);const r={};for(const n in e){const s=J(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(j5(t.names||Object.keys(e),n)){const i=Object.assign({},J(r,n));He(i,"root",o),He(r,n,i)}else He(r,n,o)}return r},j5=(e,t)=>e.some(r=>r.startsWith(t+"."));var P5=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[i]={message:a.message,type:a.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=ek(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},T5=function(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(i,a){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&ak({},o),{errors:{},values:r.raw?n:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(i){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(i))return{values:{},errors:N5(P5(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}};const W=Symbol.for("drizzle:entityKind");function Fr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,W))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(W in r&&r[W]===t[W])return!0;r=Object.getPrototypeOf(r)}return!1}var R1;R1=W;class wp{constructor(t,r){M(this,"name");M(this,"keyAsName");M(this,"primary");M(this,"notNull");M(this,"default");M(this,"defaultFn");M(this,"onUpdateFn");M(this,"hasDefault");M(this,"isUnique");M(this,"uniqueName");M(this,"uniqueType");M(this,"dataType");M(this,"columnType");M(this,"enumValues");M(this,"generated");M(this,"generatedIdentity");M(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}M(wp,R1,"Column");var I1;I1=W;class lk{constructor(t,r,n){M(this,"config");M(this,"$default",this.$defaultFn);M(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}M(lk,I1,"ColumnBuilder");const va=Symbol.for("drizzle:Name");var _1;_1=W;class ck{constructor(t,r){M(this,"reference");M(this,"_onUpdate","no action");M(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:o}=t();return{name:n,columns:s,foreignTable:o[0].table,foreignColumns:o}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new uk(t,this)}}M(ck,_1,"PgForeignKeyBuilder");var O1;O1=W;class uk{constructor(t,r){M(this,"reference");M(this,"onUpdate");M(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),s=r.map(a=>a.name),o=n.map(a=>a.name),i=[this.table[va],...s,n[0].table[va],...o];return t??`${i.join("_")}_fk`}}M(uk,O1,"PgForeignKey");function k5(e,...t){return e(...t)}function A5(e,t){return`${e[va]}_${t.join("_")}_unique`}function xb(e,t,r){for(let n=t;n<e.length;n++){const s=e[n];if(s==="\\"){n++;continue}if(s==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function dk(e,t=0){const r=[];let n=t,s=!1;for(;n<e.length;){const o=e[n];if(o===","){(s||n===t)&&r.push(""),s=!0,n++;continue}if(s=!1,o==="\\"){n+=2;continue}if(o==='"'){const[c,u]=xb(e,n+1,!0);r.push(c),n=u;continue}if(o==="}")return[r,n+1];if(o==="{"){const[c,u]=dk(e,n+1);r.push(c),n=u;continue}const[i,a]=xb(e,n,!1);r.push(i),n=a}return[r,n]}function D5(e){const[t]=dk(e,1);return t}function fk(e){return`{${e.map(t=>Array.isArray(t)?fk(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var M1,L1;class Me extends(L1=lk,M1=W,L1){constructor(){super(...arguments);M(this,"foreignKeyConfigs",[])}array(r){return new hk(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:o})=>k5((i,a)=>{const c=new ck(()=>{const u=i();return{columns:[r],foreignColumns:[u]}});return a.onUpdate&&c.onUpdate(a.onUpdate),a.onDelete&&c.onDelete(a.onDelete),c.build(n)},s,o))}buildExtraConfigColumn(r){return new pk(r,this.config)}}M(Me,M1,"PgColumnBuilder");var F1,$1;class Ee extends($1=wp,F1=W,$1){constructor(t,r){r.uniqueName||(r.uniqueName=A5(t,[r.name])),super(t,r),this.table=t}}M(Ee,F1,"PgColumn");var B1,z1;class pk extends(z1=Ee,B1=W,z1){constructor(){super(...arguments);M(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});M(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}M(pk,B1,"ExtraConfigColumn");var V1,U1;class hk extends(U1=Me,V1=W,U1){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new Ug(t,this.config,r)}}M(hk,V1,"PgArrayBuilder");var W1,H1;const Jf=class Jf extends(H1=Ee,W1=W,H1){constructor(r,n,s,o){super(r,n);M(this,"size");this.baseColumn=s,this.range=o,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=D5(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(o=>o===null?null:Fr(this.baseColumn,Jf)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return n?s:fk(s)}};M(Jf,W1,"PgArray");let Ug=Jf;const wb=Symbol.for("drizzle:isPgEnum");function R5(e){return!!e&&typeof e=="function"&&wb in e&&e[wb]===!0}var G1;G1=W;class nx{constructor(t,r,n,s=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:s}}}M(nx,G1,"Subquery");const I5={startActiveSpan(e,t){return t()}},oc=Symbol.for("drizzle:ViewBaseConfig"),Yh=Symbol.for("drizzle:Schema"),bb=Symbol.for("drizzle:Columns"),Sb=Symbol.for("drizzle:ExtraConfigColumns"),Xh=Symbol.for("drizzle:OriginalName"),Zh=Symbol.for("drizzle:BaseName"),yf=Symbol.for("drizzle:IsAlias"),Cb=Symbol.for("drizzle:ExtraConfigBuilder"),_5=Symbol.for("drizzle:IsDrizzleTable");var q1,K1,Q1,Y1,X1,Z1,J1,eC,tC,rC,vd;let on=(rC=W,tC=va,eC=Xh,J1=Yh,Z1=bb,X1=Sb,Y1=Zh,Q1=yf,K1=_5,q1=Cb,vd=class{constructor(t,r,n){M(this,tC);M(this,eC);M(this,J1);M(this,Z1);M(this,X1);M(this,Y1);M(this,Q1,!1);M(this,K1,!0);M(this,q1);this[va]=this[Xh]=t,this[Yh]=r,this[Zh]=n}},M(vd,rC,"Table"),M(vd,"Symbol",{Name:va,Schema:Yh,OriginalName:Xh,Columns:bb,ExtraConfigColumns:Sb,BaseName:Zh,IsAlias:yf,ExtraConfigBuilder:Cb}),vd);function O5(e){return e!=null&&typeof e.getSQL=="function"}function M5(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var nC;nC=W;class rn{constructor(t){M(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Jt([this])}}M(rn,nC,"StringChunk");var sC;sC=W;const ri=class ri{constructor(t){M(this,"decoder",mk);M(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return I5.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:o,escapeParam:i,prepareTyping:a,inlineParams:c,paramStartIndex:u}=n;return M5(t.map(d=>{var f;if(Fr(d,rn))return{sql:d.value.join(""),params:[]};if(Fr(d,xf))return{sql:o(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new rn("(")];for(const[m,v]of d.entries())p.push(v),m<d.length-1&&p.push(new rn(", "));return p.push(new rn(")")),this.buildQueryFromSourceParams(p,n)}if(Fr(d,ri))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(Fr(d,on)){const p=d[on.Symbol.Schema],m=d[on.Symbol.Name];return{sql:p===void 0||d[yf]?o(m):o(p)+"."+o(m),params:[]}}if(Fr(d,wp)){const p=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:o(p),params:[]};const m=d.table[on.Symbol.Schema];return{sql:d.table[yf]||m===void 0?o(d.table[on.Symbol.Name])+"."+o(p):o(m)+"."+o(d.table[on.Symbol.Name])+"."+o(p),params:[]}}if(Fr(d,vk)){const p=d[oc].schema,m=d[oc].name;return{sql:p===void 0||d[oc].isAlias?o(m):o(p)+"."+o(m),params:[]}}if(Fr(d,sx)){if(Fr(d.value,Wg))return{sql:i(u.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Fr(p,ri))return this.buildQueryFromSourceParams([p],n);if(c)return{sql:this.mapInlineParam(p,n),params:[]};let m=["none"];return a&&(m=[a(d.encoder)]),{sql:i(u.value++,p),params:[p],typings:m}}return Fr(d,Wg)?{sql:i(u.value++,d),params:[d],typings:["none"]}:Fr(d,ri.Aliased)&&d.fieldAlias!==void 0?{sql:o(d.fieldAlias),params:[]}:Fr(d,nx)?d._.isWith?{sql:o(d._.alias),params:[]}:this.buildQueryFromSourceParams([new rn("("),d._.sql,new rn(") "),new xf(d._.alias)],n):R5(d)?d.schema?{sql:o(d.schema)+"."+o(d.enumName),params:[]}:{sql:o(d.enumName),params:[]}:O5(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new rn("("),d.getSQL(),new rn(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:i(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new ri.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};M(ri,sC,"SQL");let Jt=ri;var oC;oC=W;class xf{constructor(t){M(this,"brand");this.value=t}getSQL(){return new Jt([this])}}M(xf,oC,"Name");const mk={mapFromDriverValue:e=>e},gk={mapToDriverValue:e=>e};({...mk,...gk});var iC;iC=W;class sx{constructor(t,r=gk){M(this,"brand");this.value=t,this.encoder=r}getSQL(){return new Jt([this])}}M(sx,iC,"Param");function Rt(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new rn(e[0]));for(const[n,s]of t.entries())r.push(s,new rn(e[n+1]));return new Jt(r)}(e=>{function t(){return new Jt([])}e.empty=t;function r(c){return new Jt(c)}e.fromList=r;function n(c){return new Jt([new rn(c)])}e.raw=n;function s(c,u){const d=[];for(const[f,p]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(p);return new Jt(d)}e.join=s;function o(c){return new xf(c)}e.identifier=o;function i(c){return new Wg(c)}e.placeholder=i;function a(c,u){return new sx(c,u)}e.param=a})(Rt||(Rt={}));(e=>{var r;r=W;const n=class n{constructor(o,i){M(this,"isSelectionField",!1);this.sql=o,this.fieldAlias=i}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};M(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(Jt||(Jt={}));var aC,jm;let Wg=(aC=W,jm=class{constructor(t){this.name=t}getSQL(){return new Jt([this])}},M(jm,aC,"Placeholder"),jm);const L5=Symbol.for("drizzle:IsDrizzleView");var lC,cC,uC;uC=W,cC=oc,lC=L5;class vk{constructor({name:t,schema:r,selectedFields:n,query:s}){M(this,cC);M(this,lC,!0);this[oc]={name:t,originalName:t,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Jt([this])}}M(vk,uC,"View");wp.prototype.getSQL=function(){return new Jt([this])};on.prototype.getSQL=function(){return new Jt([this])};nx.prototype.getSQL=function(){return new Jt([this])};function Gt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var dC,fC;class lu extends(fC=Me,dC=W,fC){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}M(lu,dC,"PgIntColumnBaseBuilder");var pC,hC;class yk extends(hC=lu,pC=W,hC){constructor(t){super(t,"number","PgBigInt53")}build(t){return new xk(t,this.config)}}M(yk,pC,"PgBigInt53Builder");var mC,gC;class xk extends(gC=Ee,mC=W,gC){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}M(xk,mC,"PgBigInt53");var vC,yC;class wk extends(yC=lu,vC=W,yC){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new bk(t,this.config)}}M(wk,vC,"PgBigInt64Builder");var xC,wC;class bk extends(wC=Ee,xC=W,wC){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}M(bk,xC,"PgBigInt64");function F5(e,t){const{name:r,config:n}=Gt(e,t);return n.mode==="number"?new yk(r):new wk(r)}var bC,SC;class Sk extends(SC=Me,bC=W,SC){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Ck(t,this.config)}}M(Sk,bC,"PgBigSerial53Builder");var CC,EC;class Ck extends(EC=Ee,CC=W,EC){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}M(Ck,CC,"PgBigSerial53");var NC,jC;class Ek extends(jC=Me,NC=W,jC){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new Nk(t,this.config)}}M(Ek,NC,"PgBigSerial64Builder");var PC,TC;class Nk extends(TC=Ee,PC=W,TC){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}M(Nk,PC,"PgBigSerial64");function $5(e,t){const{name:r,config:n}=Gt(e,t);return n.mode==="number"?new Sk(r):new Ek(r)}var kC,AC;class jk extends(AC=Me,kC=W,AC){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new Pk(t,this.config)}}M(jk,kC,"PgBooleanBuilder");var DC,RC;class Pk extends(RC=Ee,DC=W,RC){getSQLType(){return"boolean"}}M(Pk,DC,"PgBoolean");function ox(e){return new jk(e??"")}var IC,_C;class Tk extends(_C=Me,IC=W,_C){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new kk(t,this.config)}}M(Tk,IC,"PgCharBuilder");var OC,MC;class kk extends(MC=Ee,OC=W,MC){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}M(kk,OC,"PgChar");function B5(e,t={}){const{name:r,config:n}=Gt(e,t);return new Tk(r,n)}var LC,FC;class Ak extends(FC=Me,LC=W,FC){constructor(t){super(t,"string","PgCidr")}build(t){return new Dk(t,this.config)}}M(Ak,LC,"PgCidrBuilder");var $C,BC;class Dk extends(BC=Ee,$C=W,BC){getSQLType(){return"cidr"}}M(Dk,$C,"PgCidr");function z5(e){return new Ak(e??"")}var zC,VC;class Rk extends(VC=Me,zC=W,VC){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new Ik(t,this.config)}}M(Rk,zC,"PgCustomColumnBuilder");var UC,WC;class Ik extends(WC=Ee,UC=W,WC){constructor(r,n){super(r,n);M(this,"sqlName");M(this,"mapTo");M(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}M(Ik,UC,"PgCustomColumn");function V5(e){return(t,r)=>{const{name:n,config:s}=Gt(t,r);return new Rk(n,s,e)}}var HC,GC;class al extends(GC=Me,HC=W,GC){defaultNow(){return this.default(Rt`now()`)}}M(al,HC,"PgDateColumnBaseBuilder");var qC,KC;class _k extends(KC=al,qC=W,KC){constructor(t){super(t,"date","PgDate")}build(t){return new Ok(t,this.config)}}M(_k,qC,"PgDateBuilder");var QC,YC;class Ok extends(YC=Ee,QC=W,YC){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}M(Ok,QC,"PgDate");var XC,ZC;class Mk extends(ZC=al,XC=W,ZC){constructor(t){super(t,"string","PgDateString")}build(t){return new Lk(t,this.config)}}M(Mk,XC,"PgDateStringBuilder");var JC,eE;class Lk extends(eE=Ee,JC=W,eE){getSQLType(){return"date"}}M(Lk,JC,"PgDateString");function U5(e,t){const{name:r,config:n}=Gt(e,t);return(n==null?void 0:n.mode)==="date"?new _k(r):new Mk(r)}var tE,rE;class Fk extends(rE=Me,tE=W,rE){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new $k(t,this.config)}}M(Fk,tE,"PgDoublePrecisionBuilder");var nE,sE;class $k extends(sE=Ee,nE=W,sE){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}M($k,nE,"PgDoublePrecision");function W5(e){return new Fk(e??"")}var oE,iE;class Bk extends(iE=Me,oE=W,iE){constructor(t){super(t,"string","PgInet")}build(t){return new zk(t,this.config)}}M(Bk,oE,"PgInetBuilder");var aE,lE;class zk extends(lE=Ee,aE=W,lE){getSQLType(){return"inet"}}M(zk,aE,"PgInet");function H5(e){return new Bk(e??"")}var cE,uE;class Vk extends(uE=lu,cE=W,uE){constructor(t){super(t,"number","PgInteger")}build(t){return new Uk(t,this.config)}}M(Vk,cE,"PgIntegerBuilder");var dE,fE;class Uk extends(fE=Ee,dE=W,fE){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}M(Uk,dE,"PgInteger");function G5(e){return new Vk(e??"")}var pE,hE;class Wk extends(hE=Me,pE=W,hE){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new Hk(t,this.config)}}M(Wk,pE,"PgIntervalBuilder");var mE,gE;class Hk extends(gE=Ee,mE=W,gE){constructor(){super(...arguments);M(this,"fields",this.config.intervalConfig.fields);M(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}M(Hk,mE,"PgInterval");function q5(e,t={}){const{name:r,config:n}=Gt(e,t);return new Wk(r,n)}var vE,yE;class Gk extends(yE=Me,vE=W,yE){constructor(t){super(t,"json","PgJson")}build(t){return new qk(t,this.config)}}M(Gk,vE,"PgJsonBuilder");var xE,wE;class qk extends(wE=Ee,xE=W,wE){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}M(qk,xE,"PgJson");function K5(e){return new Gk(e??"")}var bE,SE;class Kk extends(SE=Me,bE=W,SE){constructor(t){super(t,"json","PgJsonb")}build(t){return new Qk(t,this.config)}}M(Kk,bE,"PgJsonbBuilder");var CE,EE;class Qk extends(EE=Ee,CE=W,EE){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}M(Qk,CE,"PgJsonb");function cu(e){return new Kk(e??"")}var NE,jE;class Yk extends(jE=Me,NE=W,jE){constructor(t){super(t,"array","PgLine")}build(t){return new Xk(t,this.config)}}M(Yk,NE,"PgLineBuilder");var PE,TE;class Xk extends(TE=Ee,PE=W,TE){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}M(Xk,PE,"PgLine");var kE,AE;class Zk extends(AE=Me,kE=W,AE){constructor(t){super(t,"json","PgLineABC")}build(t){return new Jk(t,this.config)}}M(Zk,kE,"PgLineABCBuilder");var DE,RE;class Jk extends(RE=Ee,DE=W,RE){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}M(Jk,DE,"PgLineABC");function Q5(e,t){const{name:r,config:n}=Gt(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new Yk(r):new Zk(r)}var IE,_E;class eA extends(_E=Me,IE=W,_E){constructor(t){super(t,"string","PgMacaddr")}build(t){return new tA(t,this.config)}}M(eA,IE,"PgMacaddrBuilder");var OE,ME;class tA extends(ME=Ee,OE=W,ME){getSQLType(){return"macaddr"}}M(tA,OE,"PgMacaddr");function Y5(e){return new eA(e??"")}var LE,FE;class rA extends(FE=Me,LE=W,FE){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new nA(t,this.config)}}M(rA,LE,"PgMacaddr8Builder");var $E,BE;class nA extends(BE=Ee,$E=W,BE){getSQLType(){return"macaddr8"}}M(nA,$E,"PgMacaddr8");function X5(e){return new rA(e??"")}var zE,VE;class sA extends(VE=Me,zE=W,VE){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new oA(t,this.config)}}M(sA,zE,"PgNumericBuilder");var UE,WE;class oA extends(WE=Ee,UE=W,WE){constructor(r,n){super(r,n);M(this,"precision");M(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}M(oA,UE,"PgNumeric");function Z5(e,t){const{name:r,config:n}=Gt(e,t);return new sA(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var HE,GE;class iA extends(GE=Me,HE=W,GE){constructor(t){super(t,"array","PgPointTuple")}build(t){return new aA(t,this.config)}}M(iA,HE,"PgPointTupleBuilder");var qE,KE;class aA extends(KE=Ee,qE=W,KE){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}M(aA,qE,"PgPointTuple");var QE,YE;class lA extends(YE=Me,QE=W,YE){constructor(t){super(t,"json","PgPointObject")}build(t){return new cA(t,this.config)}}M(lA,QE,"PgPointObjectBuilder");var XE,ZE;class cA extends(ZE=Ee,XE=W,ZE){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}M(cA,XE,"PgPointObject");function J5(e,t){const{name:r,config:n}=Gt(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new iA(r):new lA(r)}function e6(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function Eb(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,e[t+s]);return n.getFloat64(0,!0)}function uA(e){const t=e6(e);let r=0;const n=t[r];r+=1;const s=new DataView(t.buffer),o=s.getUint32(r,n===1);if(r+=4,o&536870912&&(s.getUint32(r,n===1),r+=4),(o&65535)===1){const i=Eb(t,r);r+=8;const a=Eb(t,r);return r+=8,[i,a]}throw new Error("Unsupported geometry type")}var JE,eN;class dA extends(eN=Me,JE=W,eN){constructor(t){super(t,"array","PgGeometry")}build(t){return new fA(t,this.config)}}M(dA,JE,"PgGeometryBuilder");var tN,rN;class fA extends(rN=Ee,tN=W,rN){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return uA(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}M(fA,tN,"PgGeometry");var nN,sN;class pA extends(sN=Me,nN=W,sN){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new hA(t,this.config)}}M(pA,nN,"PgGeometryObjectBuilder");var oN,iN;class hA extends(iN=Ee,oN=W,iN){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=uA(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}M(hA,oN,"PgGeometryObject");function t6(e,t){const{name:r,config:n}=Gt(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new dA(r):new pA(r)}var aN,lN;class mA extends(lN=Me,aN=W,lN){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new gA(t,this.config)}}M(mA,aN,"PgRealBuilder");var cN,uN;class gA extends(uN=Ee,cN=W,uN){constructor(r,n){super(r,n);M(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}M(gA,cN,"PgReal");function r6(e){return new mA(e??"")}var dN,fN;class vA extends(fN=Me,dN=W,fN){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new yA(t,this.config)}}M(vA,dN,"PgSerialBuilder");var pN,hN;class yA extends(hN=Ee,pN=W,hN){getSQLType(){return"serial"}}M(yA,pN,"PgSerial");function n6(e){return new vA(e??"")}var mN,gN;class xA extends(gN=lu,mN=W,gN){constructor(t){super(t,"number","PgSmallInt")}build(t){return new wA(t,this.config)}}M(xA,mN,"PgSmallIntBuilder");var vN,yN;class wA extends(yN=Ee,vN=W,yN){constructor(){super(...arguments);M(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}M(wA,vN,"PgSmallInt");function s6(e){return new xA(e??"")}var xN,wN;class bA extends(wN=Me,xN=W,wN){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new SA(t,this.config)}}M(bA,xN,"PgSmallSerialBuilder");var bN,SN;class SA extends(SN=Ee,bN=W,SN){getSQLType(){return"smallserial"}}M(SA,bN,"PgSmallSerial");function o6(e){return new bA(e??"")}var CN,EN;class CA extends(EN=Me,CN=W,EN){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new EA(t,this.config)}}M(CA,CN,"PgTextBuilder");var NN,jN;class EA extends(jN=Ee,NN=W,jN){constructor(){super(...arguments);M(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}M(EA,NN,"PgText");function te(e,t={}){const{name:r,config:n}=Gt(e,t);return new CA(r,n)}var PN,TN;class NA extends(TN=al,PN=W,TN){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new jA(t,this.config)}}M(NA,PN,"PgTimeBuilder");var kN,AN;class jA extends(AN=Ee,kN=W,AN){constructor(r,n){super(r,n);M(this,"withTimezone");M(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(jA,kN,"PgTime");function i6(e,t={}){const{name:r,config:n}=Gt(e,t);return new NA(r,n.withTimezone??!1,n.precision)}var DN,RN;class PA extends(RN=al,DN=W,RN){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new TA(t,this.config)}}M(PA,DN,"PgTimestampBuilder");var IN,_N;class TA extends(_N=Ee,IN=W,_N){constructor(r,n){super(r,n);M(this,"withTimezone");M(this,"precision");M(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));M(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(TA,IN,"PgTimestamp");var ON,MN;class kA extends(MN=al,ON=W,MN){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new AA(t,this.config)}}M(kA,ON,"PgTimestampStringBuilder");var LN,FN;class AA extends(FN=Ee,LN=W,FN){constructor(r,n){super(r,n);M(this,"withTimezone");M(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}M(AA,LN,"PgTimestampString");function Lt(e,t={}){const{name:r,config:n}=Gt(e,t);return(n==null?void 0:n.mode)==="string"?new kA(r,n.withTimezone??!1,n.precision):new PA(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var $N,BN;class DA extends(BN=Me,$N=W,BN){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Rt`gen_random_uuid()`)}build(t){return new RA(t,this.config)}}M(DA,$N,"PgUUIDBuilder");var zN,VN;class RA extends(VN=Ee,zN=W,VN){getSQLType(){return"uuid"}}M(RA,zN,"PgUUID");function ix(e){return new DA(e??"")}var UN,WN;class IA extends(WN=Me,UN=W,WN){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new _A(t,this.config)}}M(IA,UN,"PgVarcharBuilder");var HN,GN;class _A extends(GN=Ee,HN=W,GN){constructor(){super(...arguments);M(this,"length",this.config.length);M(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}M(_A,HN,"PgVarchar");function a6(e,t={}){const{name:r,config:n}=Gt(e,t);return new IA(r,n)}var qN,KN;class OA extends(KN=Me,qN=W,KN){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new MA(t,this.config)}}M(OA,qN,"PgBinaryVectorBuilder");var QN,YN;class MA extends(YN=Ee,QN=W,YN){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}M(MA,QN,"PgBinaryVector");function l6(e,t){const{name:r,config:n}=Gt(e,t);return new OA(r,n)}var XN,ZN;class LA extends(ZN=Me,XN=W,ZN){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new FA(t,this.config)}}M(LA,XN,"PgHalfVectorBuilder");var JN,ej;class FA extends(ej=Ee,JN=W,ej){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}M(FA,JN,"PgHalfVector");function c6(e,t){const{name:r,config:n}=Gt(e,t);return new LA(r,n)}var tj,rj;class $A extends(rj=Me,tj=W,rj){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new BA(t,this.config)}}M($A,tj,"PgSparseVectorBuilder");var nj,sj;class BA extends(sj=Ee,nj=W,sj){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}M(BA,nj,"PgSparseVector");function u6(e,t){const{name:r,config:n}=Gt(e,t);return new $A(r,n)}var oj,ij;class zA extends(ij=Me,oj=W,ij){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new VA(t,this.config)}}M(zA,oj,"PgVectorBuilder");var aj,lj;class VA extends(lj=Ee,aj=W,lj){constructor(){super(...arguments);M(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}M(VA,aj,"PgVector");function d6(e,t){const{name:r,config:n}=Gt(e,t);return new zA(r,n)}function f6(){return{bigint:F5,bigserial:$5,boolean:ox,char:B5,cidr:z5,customType:V5,date:U5,doublePrecision:W5,inet:H5,integer:G5,interval:q5,json:K5,jsonb:cu,line:Q5,macaddr:Y5,macaddr8:X5,numeric:Z5,point:J5,geometry:t6,real:r6,serial:n6,smallint:s6,smallserial:o6,text:te,time:i6,timestamp:Lt,uuid:ix,varchar:a6,bit:l6,halfvec:c6,sparsevec:u6,vector:d6}}const Hg=Symbol.for("drizzle:PgInlineForeignKeys"),Nb=Symbol.for("drizzle:EnableRLS");var cj,uj,dj,fj,pj;class wf extends(pj=on,fj=W,dj=Hg,uj=Nb,cj=on.Symbol.ExtraConfigBuilder,pj){constructor(){super(...arguments);M(this,dj,[]);M(this,uj,!1);M(this,cj)}}M(wf,fj,"PgTable"),M(wf,"Symbol",Object.assign({},on.Symbol,{InlineForeignKeys:Hg,EnableRLS:Nb}));function p6(e,t,r,n,s=e){const o=new wf(e,n,s),i=typeof t=="function"?t(f6()):t,a=Object.fromEntries(Object.entries(i).map(([d,f])=>{const p=f;p.setName(d);const m=p.build(o);return o[Hg].push(...p.buildForeignKeys(m,o)),[d,m]})),c=Object.fromEntries(Object.entries(i).map(([d,f])=>{const p=f;p.setName(d);const m=p.buildExtraConfigColumn(o);return[d,m]})),u=Object.assign(o,a);return u[on.Symbol.Columns]=a,u[on.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[wf.Symbol.EnableRLS]=!0,u)})}const qt=(e,t,r)=>p6(e,t,r,void 0);var Ve;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ve||(Ve={}));var jb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(jb||(jb={}));const ce=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ks=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},K=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Is extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Is))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Is.create=e=>new Is(e);const Gg=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ve.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ve.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ve.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Ve.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ve.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ve.assertNever(e)}return{message:r}};let h6=Gg;function m6(){return h6}const g6=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(i,{data:t,defaultError:a}).message;return{...s,path:o,message:a}};function ne(e,t){const r=m6(),n=g6({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Gg?void 0:Gg].filter(s=>!!s)});e.common.issues.push(n)}class Yr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return be;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return Yr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return be;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const be=Object.freeze({status:"aborted"}),Ul=e=>({status:"dirty",value:e}),mn=e=>({status:"valid",value:e}),Pb=e=>e.status==="aborted",Tb=e=>e.status==="dirty",Ga=e=>e.status==="valid",bf=e=>typeof Promise<"u"&&e instanceof Promise;var pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pe||(pe={}));class Mo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kb=(e,t)=>{if(Ga(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Is(e.common.issues);return this._error=r,this._error}}};function Te(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??n??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:s}}class Be{get description(){return this._def.description}_getType(t){return Ks(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ks(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yr,ctx:{common:t.parent.common,data:t.data,parsedType:Ks(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(bf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ks(t)},s=this._parseSync({data:t,path:n.path,parent:n});return kb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ks(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return Ga(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(s=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>Ga(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ks(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(bf(s)?s:Promise.resolve(s));return kb(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),a=()=>o.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ka({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Eo.create(this,this._def)}nullable(){return Qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ns.create(this)}promise(){return Nf.create(this,this._def)}or(t){return Cf.create([this,t],this._def)}and(t){return Ef.create(this,t,this._def)}transform(t){return new Ka({...Te(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Qg({...Te(this._def),innerType:this,defaultValue:r,typeName:Se.ZodDefault})}brand(){return new $6({typeName:Se.ZodBranded,type:this,...Te(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Yg({...Te(this._def),innerType:this,catchValue:r,typeName:Se.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ax.create(this,t)}readonly(){return Xg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const v6=/^c[^\s-]{8,}$/i,y6=/^[0-9a-z]+$/,x6=/^[0-9A-HJKMNP-TV-Z]{26}$/i,w6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,b6=/^[a-z0-9_-]{21}$/i,S6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,C6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,N6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jh;const j6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,P6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,T6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,k6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,A6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,D6=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,UA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",R6=new RegExp(`^${UA}$`);function WA(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function I6(e){return new RegExp(`^${WA(e)}$`)}function _6(e){let t=`${UA}T${WA(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function O6(e,t){return!!((t==="v4"||!t)&&j6.test(e)||(t==="v6"||!t)&&T6.test(e))}function M6(e,t){if(!S6.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function L6(e,t){return!!((t==="v4"||!t)&&P6.test(e)||(t==="v6"||!t)&&k6.test(e))}class fo extends Be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const o=this._getOrReturnCtx(t);return ne(o,{code:K.invalid_type,expected:ce.string,received:o.parsedType}),be}const n=new Yr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,a=t.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(t,s),i?ne(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ne(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")E6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"email",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Jh||(Jh=new RegExp(N6,"u")),Jh.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"emoji",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")w6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"uuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")b6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"nanoid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")v6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"cuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")y6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"cuid2",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")x6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"ulid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ne(s,{validation:"url",code:K.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"regex",code:K.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),ne(s,{code:K.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),ne(s,{code:K.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),ne(s,{code:K.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?_6(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{code:K.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?R6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{code:K.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?I6(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{code:K.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?C6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"duration",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?O6(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"ip",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?M6(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"jwt",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?L6(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"cidr",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?A6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"base64",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?D6.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"base64url",code:K.invalid_string,message:o.message}),n.dirty()):Ve.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...pe.errToObj(n)})}_addCheck(t){return new fo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...pe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...pe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...pe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...pe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...pe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...pe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...pe.errToObj(r)})}nonempty(t){return this.min(1,pe.errToObj(t))}trim(){return new fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fo.create=e=>new fo({checks:[],typeName:Se.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Te(e)});function F6(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}class kc extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const o=this._getOrReturnCtx(t);return ne(o,{code:K.invalid_type,expected:ce.number,received:o.parsedType}),be}let n;const s=new Yr;for(const o of this._def.checks)o.kind==="int"?Ve.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:K.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:K.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:K.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?F6(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),ne(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:K.not_finite,message:o.message}),s.dirty()):Ve.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,n,s){return new kc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(t){return new kc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ve.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}kc.create=e=>new kc({checks:[],typeName:Se.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Te(e)});class Ac extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new Yr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:K.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:K.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ve.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ne(r,{code:K.invalid_type,expected:ce.bigint,received:r.parsedType}),be}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,n,s){return new Ac({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(t){return new Ac({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ac.create=e=>new Ac({checks:[],typeName:Se.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Te(e)});class qg extends Be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return ne(n,{code:K.invalid_type,expected:ce.boolean,received:n.parsedType}),be}return mn(t.data)}}qg.create=e=>new qg({typeName:Se.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Te(e)});class Sf extends Be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const o=this._getOrReturnCtx(t);return ne(o,{code:K.invalid_type,expected:ce.date,received:o.parsedType}),be}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ne(o,{code:K.invalid_date}),be}const n=new Yr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:K.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:K.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ve.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:pe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:pe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Sf.create=e=>new Sf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Se.ZodDate,...Te(e)});class Ab extends Be{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return ne(n,{code:K.invalid_type,expected:ce.symbol,received:n.parsedType}),be}return mn(t.data)}}Ab.create=e=>new Ab({typeName:Se.ZodSymbol,...Te(e)});class Db extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ne(n,{code:K.invalid_type,expected:ce.undefined,received:n.parsedType}),be}return mn(t.data)}}Db.create=e=>new Db({typeName:Se.ZodUndefined,...Te(e)});class Rb extends Be{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return ne(n,{code:K.invalid_type,expected:ce.null,received:n.parsedType}),be}return mn(t.data)}}Rb.create=e=>new Rb({typeName:Se.ZodNull,...Te(e)});class Ib extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return mn(t.data)}}Ib.create=e=>new Ib({typeName:Se.ZodAny,...Te(e)});class _b extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return mn(t.data)}}_b.create=e=>new _b({typeName:Se.ZodUnknown,...Te(e)});class Lo extends Be{_parse(t){const r=this._getOrReturnCtx(t);return ne(r,{code:K.invalid_type,expected:ce.never,received:r.parsedType}),be}}Lo.create=e=>new Lo({typeName:Se.ZodNever,...Te(e)});class Ob extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ne(n,{code:K.invalid_type,expected:ce.void,received:n.parsedType}),be}return mn(t.data)}}Ob.create=e=>new Ob({typeName:Se.ZodVoid,...Te(e)});class ns extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return ne(r,{code:K.invalid_type,expected:ce.array,received:r.parsedType}),be;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(ne(r,{code:i?K.too_big:K.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ne(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ne(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new Mo(r,i,r.path,a)))).then(i=>Yr.mergeArray(n,i));const o=[...r.data].map((i,a)=>s.type._parseSync(new Mo(r,i,r.path,a)));return Yr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new ns({...this._def,minLength:{value:t,message:pe.toString(r)}})}max(t,r){return new ns({...this._def,maxLength:{value:t,message:pe.toString(r)}})}length(t,r){return new ns({...this._def,exactLength:{value:t,message:pe.toString(r)}})}nonempty(t){return this.min(1,t)}}ns.create=(e,t)=>new ns({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Te(t)});function Xi(e){if(e instanceof kt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Eo.create(Xi(n))}return new kt({...e._def,shape:()=>t})}else return e instanceof ns?new ns({...e._def,type:Xi(e.element)}):e instanceof Eo?Eo.create(Xi(e.unwrap())):e instanceof Qa?Qa.create(Xi(e.unwrap())):e instanceof Ti?Ti.create(e.items.map(t=>Xi(t))):e}class kt extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ve.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return ne(u,{code:K.invalid_type,expected:ce.object,received:u.parsedType}),be}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Lo&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||a.push(u);const c=[];for(const u of i){const d=o[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Mo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Lo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(ne(s,{code:K.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Mo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Yr.mergeObjectSync(n,u)):Yr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return pe.errToObj,new kt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i;const s=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:pe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(t){return new kt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new kt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Se.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new kt({...this._def,catchall:t})}pick(t){const r={};for(const n of Ve.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new kt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ve.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new kt({...this._def,shape:()=>r})}deepPartial(){return Xi(this)}partial(t){const r={};for(const n of Ve.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new kt({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ve.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Eo;)o=o._def.innerType;r[n]=o}return new kt({...this._def,shape:()=>r})}keyof(){return HA(Ve.objectKeys(this.shape))}}kt.create=(e,t)=>new kt({shape:()=>e,unknownKeys:"strip",catchall:Lo.create(),typeName:Se.ZodObject,...Te(t)});kt.strictCreate=(e,t)=>new kt({shape:()=>e,unknownKeys:"strict",catchall:Lo.create(),typeName:Se.ZodObject,...Te(t)});kt.lazycreate=(e,t)=>new kt({shape:e,unknownKeys:"strip",catchall:Lo.create(),typeName:Se.ZodObject,...Te(t)});class Cf extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new Is(a.ctx.common.issues));return ne(r,{code:K.invalid_union,unionErrors:i}),be}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(c=>new Is(c));return ne(r,{code:K.invalid_union,unionErrors:a}),be}}get options(){return this._def.options}}Cf.create=(e,t)=>new Cf({options:e,typeName:Se.ZodUnion,...Te(t)});function Kg(e,t){const r=Ks(e),n=Ks(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=Ve.objectKeys(t),o=Ve.objectKeys(e).filter(a=>s.indexOf(a)!==-1),i={...e,...t};for(const a of o){const c=Kg(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],a=t[o],c=Kg(i,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ef extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(Pb(o)||Pb(i))return be;const a=Kg(o.value,i.value);return a.valid?((Tb(o)||Tb(i))&&r.dirty(),{status:r.value,value:a.data}):(ne(n,{code:K.invalid_intersection_types}),be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ef.create=(e,t,r)=>new Ef({left:e,right:t,typeName:Se.ZodIntersection,...Te(r)});class Ti extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return ne(n,{code:K.invalid_type,expected:ce.array,received:n.parsedType}),be;if(n.data.length<this._def.items.length)return ne(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Mo(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>Yr.mergeArray(r,i)):Yr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Ti({...this._def,rest:t})}}Ti.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ti({items:e,typeName:Se.ZodTuple,rest:null,...Te(t)})};class Mb extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return ne(n,{code:K.invalid_type,expected:ce.map,received:n.parsedType}),be;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new Mo(n,a,n.path,[u,"key"])),value:o._parse(new Mo(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(u.value,d.value)}return{status:r.value,value:a}}}}Mb.create=(e,t,r)=>new Mb({valueType:t,keyType:e,typeName:Se.ZodMap,...Te(r)});class Dc extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return ne(n,{code:K.invalid_type,expected:ce.set,received:n.parsedType}),be;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ne(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ne(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return be;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>o._parse(new Mo(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,r){return new Dc({...this._def,minSize:{value:t,message:pe.toString(r)}})}max(t,r){return new Dc({...this._def,maxSize:{value:t,message:pe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Dc.create=(e,t)=>new Dc({valueType:e,minSize:null,maxSize:null,typeName:Se.ZodSet,...Te(t)});class Lb extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Lb.create=(e,t)=>new Lb({getter:e,typeName:Se.ZodLazy,...Te(t)});class Fb extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ne(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}Fb.create=(e,t)=>new Fb({value:e,typeName:Se.ZodLiteral,...Te(t)});function HA(e,t){return new qa({values:e,typeName:Se.ZodEnum,...Te(t)})}class qa extends Be{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ne(r,{expected:Ve.joinValues(n),received:r.parsedType,code:K.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ne(r,{received:r.data,code:K.invalid_enum_value,options:n}),be}return mn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return qa.create(t,{...this._def,...r})}exclude(t,r=this._def){return qa.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}qa.create=HA;class $b extends Be{_parse(t){const r=Ve.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=Ve.objectValues(r);return ne(n,{expected:Ve.joinValues(s),received:n.parsedType,code:K.invalid_type}),be}if(this._cache||(this._cache=new Set(Ve.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ve.objectValues(r);return ne(n,{received:n.data,code:K.invalid_enum_value,options:s}),be}return mn(t.data)}get enum(){return this._def.values}}$b.create=(e,t)=>new $b({values:e,typeName:Se.ZodNativeEnum,...Te(t)});class Nf extends Be{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return ne(r,{code:K.invalid_type,expected:ce.promise,received:r.parsedType}),be;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return mn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Nf.create=(e,t)=>new Nf({type:e,typeName:Se.ZodPromise,...Te(t)});class Ka extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{ne(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return be;const c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?be:c.status==="dirty"||r.value==="dirty"?Ul(c.value):c});{if(r.value==="aborted")return be;const a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?be:a.status==="dirty"||r.value==="dirty"?Ul(a.value):a}}if(s.type==="refinement"){const i=a=>{const c=s.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?be:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?be:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ga(i))return be;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Ga(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):be);Ve.assertNever(s)}}Ka.create=(e,t,r)=>new Ka({schema:e,typeName:Se.ZodEffects,effect:t,...Te(r)});Ka.createWithPreprocess=(e,t,r)=>new Ka({schema:t,effect:{type:"preprocess",transform:e},typeName:Se.ZodEffects,...Te(r)});class Eo extends Be{_parse(t){return this._getType(t)===ce.undefined?mn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:Se.ZodOptional,...Te(t)});class Qa extends Be{_parse(t){return this._getType(t)===ce.null?mn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qa.create=(e,t)=>new Qa({innerType:e,typeName:Se.ZodNullable,...Te(t)});class Qg extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Qg.create=(e,t)=>new Qg({innerType:e,typeName:Se.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Te(t)});class Yg extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Is(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Is(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Yg.create=(e,t)=>new Yg({innerType:e,typeName:Se.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Te(t)});class Bb extends Be{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return ne(n,{code:K.invalid_type,expected:ce.nan,received:n.parsedType}),be}return{status:"valid",value:t.data}}}Bb.create=e=>new Bb({typeName:Se.ZodNaN,...Te(e)});class $6 extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ax extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?be:o.status==="dirty"?(r.dirty(),Ul(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?be:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ax({in:t,out:r,typeName:Se.ZodPipeline})}}class Xg extends Be{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Ga(s)&&(s.value=Object.freeze(s.value)),s);return bf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Xg.create=(e,t)=>new Xg({innerType:e,typeName:Se.ZodReadonly,...Te(t)});var Se;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Se||(Se={}));const St=fo.create,B6=qg.create;Lo.create;ns.create;const Fi=kt.create;Cf.create;Ef.create;Ti.create;qa.create;Nf.create;Eo.create;Qa.create;qt("users",{id:ix("id").primaryKey().defaultRandom(),username:te("username").notNull().unique(),password:te("password").notNull(),display_name:te("display_name").notNull(),role:te("role").notNull().default("employee"),department:te("department"),description:te("description"),created_at:Lt("created_at").defaultNow().notNull()});qt("chats",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),userId:te("user_id").notNull(),title:te("title"),createdAt:Lt("created_at").defaultNow().notNull()});qt("messages",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),chatId:te("chat_id").notNull(),senderId:te("sender_id"),content:te("content").notNull(),isAiResponse:ox("is_ai_response").notNull().default(!1),createdAt:Lt("created_at").defaultNow().notNull()});qt("media",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),messageId:te("message_id").notNull(),type:te("type").notNull(),url:te("url").notNull(),description:te("description"),createdAt:Lt("created_at").defaultNow().notNull()});qt("emergency_flows",{id:ix("id").primaryKey().defaultRandom(),title:te("title").notNull(),description:te("description"),steps:cu("steps").notNull(),keyword:te("keyword").notNull(),category:te("category").notNull().default(""),createdAt:Lt("created_at").defaultNow().notNull()});qt("images",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),url:te("url").notNull(),description:te("description").notNull(),embedding:cu("embedding").notNull(),createdAt:Lt("created_at").defaultNow().notNull()});qt("documents",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),title:te("title").notNull(),content:te("content").notNull(),userId:te("user_id").notNull(),createdAt:Lt("created_at").defaultNow().notNull()});qt("keywords",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),documentId:te("document_id"),word:te("word").notNull(),createdAt:Lt("created_at").defaultNow().notNull()});qt("chat_exports",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),chatId:te("chat_id").notNull(),userId:te("user_id").notNull(),timestamp:Lt("timestamp").defaultNow().notNull()});qt("users",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),username:te("username").notNull().unique(),password:te("password").notNull(),display_name:te("display_name").notNull(),role:te("role").notNull().default("employee"),department:te("department"),description:te("description"),created_at:Lt("created_at").defaultNow().notNull()});qt("chats",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),userId:te("user_id").notNull(),title:te("title"),createdAt:Lt("created_at").defaultNow().notNull()});qt("messages",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),chatId:te("chat_id").notNull(),senderId:te("sender_id").notNull(),content:te("content").notNull(),isAiResponse:ox("is_ai_response").notNull().default(!1),createdAt:Lt("created_at").defaultNow().notNull()});qt("media",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),messageId:te("message_id").notNull(),type:te("type").notNull(),url:te("url").notNull(),description:te("description"),createdAt:Lt("created_at").defaultNow().notNull()});qt("emergency_flows",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),title:te("title").notNull(),description:te("description"),steps:cu("steps").notNull(),keyword:te("keyword").notNull(),category:te("category").notNull().default(""),createdAt:Lt("created_at").defaultNow().notNull()});qt("images",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),url:te("url").notNull(),description:te("description").notNull(),embedding:cu("embedding").notNull(),createdAt:Lt("created_at").defaultNow().notNull()});qt("documents",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),title:te("title").notNull(),content:te("content").notNull(),userId:te("user_id").notNull(),createdAt:Lt("created_at").defaultNow().notNull()});qt("keywords",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),documentId:te("document_id"),word:te("word").notNull(),createdAt:Lt("created_at").defaultNow().notNull()});qt("chat_exports",{id:te("id").primaryKey().default(Rt`gen_random_uuid()`),chatId:te("chat_id").notNull(),userId:te("user_id").notNull(),timestamp:Lt("timestamp").defaultNow().notNull()});const z6=Fi({username:St(),password:St()});Fi({username:St(),password:St(),display_name:St(),role:St(),department:St().optional()});Fi({id:St().optional(),userId:St(),title:St().optional()});Fi({chatId:St(),content:St(),isAiResponse:B6().default(!1),senderId:St().nullable()});Fi({messageId:St(),type:St(),url:St(),description:St().optional()});Fi({title:St(),content:St(),userId:St()});Fi({documentId:St().optional(),word:St()});const GA=h.createContext(null),gn=()=>{const e=h.useContext(GA);if(e===null)throw new Error("useAuth must be used within an AuthProvider");return e},V6=({children:e})=>{const[t,r]=h.useState(null),[n,s]=h.useState(!0),{toast:o}=Cr(),i=async()=>{try{const u=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(u.ok){const d=await u.json();return console.log("✅ 認証ユーザー取得:",d),d}else return console.log("❌ 認証なし:",u.status),null}catch(u){return console.error("Error fetching user:",u),null}};h.useEffect(()=>{(async()=>{if(!n){s(!0);try{const d=await i();d&&d.username?(r(d),console.log("✅ 認証成功:",d)):(r(null),console.log("❌ 認証失敗 - ユーザー情報なし"))}catch(d){console.error("❌ 認証チェックエラー:",d),r(null)}finally{s(!1)}}})()},[]);const a=async(u,d)=>{try{s(!0);const p=await(await xr("POST","/api/auth/login",{username:u,password:d})).json();if(!p||!p.id||!p.username)throw new Error("Invalid response data");r(p),o({title:"ログイン成功",description:`ようこそ、${p.display_name||p.username}さん`})}catch(f){throw o({title:"ログイン失敗",description:"ユーザー名またはパスワードが間違っています",variant:"destructive"}),f}finally{s(!1)}},c=async()=>{try{s(!0),await xr("POST","/api/auth/logout"),r(null),o({title:"ログアウト成功",description:"ログアウトしました"})}catch{o({title:"ログアウト失敗",description:"ログアウトに失敗しました",variant:"destructive"})}finally{s(!1)}};return l.jsx(GA.Provider,{value:{user:t,isLoading:n,login:a,logout:c},children:e})};var U6="Label",qA=h.forwardRef((e,t)=>l.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qA.displayName=U6;var KA=qA;const W6=vp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=h.forwardRef(({className:e,...t},r)=>l.jsx(KA,{ref:r,className:ee(W6(),e),...t}));et.displayName=KA.displayName;const H6=i5,QA=h.createContext({}),zb=({...e})=>l.jsx(QA.Provider,{value:{name:e.name},children:l.jsx(u5,{...e})}),bp=()=>{const e=h.useContext(QA),t=h.useContext(YA),{getFieldState:r,formState:n}=xp(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},YA=h.createContext({}),Zg=h.forwardRef(({className:e,...t},r)=>{const n=h.useId();return l.jsx(YA.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:ee("space-y-2",e),...t})})});Zg.displayName="FormItem";const Jg=h.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=bp();return l.jsx(et,{ref:r,className:ee(n&&"text-destructive",e),htmlFor:s,...t})});Jg.displayName="FormLabel";const ev=h.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=bp();return l.jsx(K2,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});ev.displayName="FormControl";const G6=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=bp();return l.jsx("p",{ref:r,id:n,className:ee("text-sm text-muted-foreground",e),...t})});G6.displayName="FormDescription";const tv=h.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=bp(),i=s?String(s==null?void 0:s.message):t;return i?l.jsx("p",{ref:n,id:o,className:ee("text-sm font-medium text-destructive",e),...r,children:i}):null});tv.displayName="FormMessage";const Et=h.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Et.displayName="Input";function q6(){const[e,t]=h.useState(!1),[r,n]=h.useState(""),{login:s,user:o,isLoading:i}=gn(),[,a]=Fs();h.useEffect(()=>{!i&&o&&o.username?(console.log("ログイン済みユーザーを検出 - チャット画面に遷移"),a("/chat")):!i&&!o&&console.log("未ログインユーザー - ログイン画面を表示")},[o,i,a]);const c=E5({resolver:T5(z6),defaultValues:{username:"",password:""}}),u=async d=>{try{t(!0),n(""),console.log("🔐 ログイン試行開始:",d.username),await s(d.username,d.password),console.log("✅ ログイン成功 - チャット画面に遷移"),a("/chat")}catch(f){console.error("❌ ログインエラー:",f);const p=f instanceof Error?f.message:"ログインに失敗しました";n(p)}finally{t(!1)}};return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-b from-primary/10 to-primary/5 p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-primary",children:"応急処置チャットシステム"}),l.jsx("p",{className:"text-neutral-600 mt-2",children:"Emergency Recovery Chat System"})]}),l.jsxs(rt,{className:"w-full shadow-lg",children:[l.jsx(ar,{className:"text-center bg-primary text-white rounded-t-lg",children:l.jsx(lr,{className:"text-2xl font-bold",children:"ログイン"})}),l.jsx(nt,{className:"pt-6",children:l.jsx(H6,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[l.jsx(zb,{control:c.control,name:"username",render:({field:d})=>l.jsxs(Zg,{children:[l.jsx(Jg,{children:"ユーザー名"}),l.jsx(ev,{children:l.jsx(Et,{placeholder:"ユーザー名を入力",autoComplete:"off",...d})}),l.jsx(tv,{})]})}),l.jsx(zb,{control:c.control,name:"password",render:({field:d})=>l.jsxs(Zg,{children:[l.jsx(Jg,{children:"パスワード"}),l.jsx(ev,{children:l.jsx(Et,{type:"password",placeholder:"パスワードを入力",autoComplete:"new-password",...d})}),l.jsx(tv,{})]})}),r&&l.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:r}),l.jsx(H,{type:"submit",className:"w-full bg-primary",disabled:e,children:e?"ログイン中...":"ログイン"})]})})}),l.jsxs(q2,{className:"flex flex-col space-y-2 text-center text-sm text-neutral-500 border-t pt-4 mt-2",children:[l.jsx("p",{children:"デモ用ログイン情報:"}),l.jsx("p",{children:"管理者: niina / 0077"}),l.jsx("p",{children:"一般ユーザー: employee / employee123"})]})]})]})})}const K6="modulepreload",Q6=function(e){return"/"+e},Vb={},rv=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Q6(c),c in Vb)return;Vb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":K6,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};class Y6{constructor(){M(this,"recognition",null);M(this,"sendToServer",null)}async start(){if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))throw new Error("ブラウザが音声認識をサポートしていません");const t=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new t,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="ja-JP",this.recognition.onresult=r=>{for(let n=r.resultIndex;n<r.results.length;n++)r.results[n].isFinal&&this.sendToServer&&this.sendToServer(r.results[n][0].transcript)},this.recognition.onerror=r=>{console.error("Web Speech認識エラー:",r.error)},this.recognition.start()}stop(){this.recognition&&(this.recognition.stop(),this.recognition=null)}}class X6{constructor(t,r){M(this,"recognizer",null);M(this,"sendToServer",null);this.subscriptionKey=t,this.region=r}async start(){try{const t=await rv(()=>import("./microsoft.cognitiveservices.speech.sdk-CVEU2Hgn.js").then(s=>s.m),[]),r=t.SpeechConfig.fromSubscription(this.subscriptionKey,this.region);r.speechRecognitionLanguage="ja-JP";const n=t.AudioConfig.fromDefaultMicrophoneInput();this.recognizer=new t.SpeechRecognizer(r,n),this.recognizer.recognizing=(s,o)=>{},this.recognizer.recognized=(s,o)=>{o.result.reason===t.ResultReason.RecognizedSpeech&&this.sendToServer&&this.sendToServer(o.result.text)},this.recognizer.startContinuousRecognitionAsync()}catch(t){throw console.error("Azure Speech SDK初期化エラー:",t),t}}stop(){this.recognizer&&(this.recognizer.stopContinuousRecognitionAsync(),this.recognizer=null)}}let un=null;const Z6=(e,t)=>{try{const r="",n="japaneast";if(!r)throw new Error("Azure Speech APIキーが設定されていません");un=new X6(r,n),un.sendToServer=e,un.start()}catch(r){console.error("Azure Speech認識エラー:",r),t(r instanceof Error?r.message:"音声認識の開始に失敗しました")}},Rl=()=>{un&&(un.stop(),un=null)},J6=(e,t)=>{try{un=new Y6,un.sendToServer=e,un.start()}catch(r){console.error("Web Speech認識エラー:",r),t(r instanceof Error?r.message:"ブラウザ音声認識の開始に失敗しました")}},rd=()=>{un&&(un.stop(),un=null)},XA=h.createContext(null),uu=()=>{const e=h.useContext(XA);return e===null?(console.error("ChatContext is null - this likely means useChat was called outside of the ChatProvider"),{messages:[],isLoading:!1,searching:!1,searchResults:[],selectedText:"",setSelectedText:()=>{},sendMessage:async()=>{},startRecording:()=>{},stopRecording:()=>{},isRecording:!1,recordedText:"",searchBySelectedText:async()=>{},clearSearchResults:()=>{},captureImage:async()=>{},exportChatHistory:async()=>{},exportFormattedData:async()=>({}),lastExportTimestamp:null,isExporting:!1,hasUnexportedMessages:!1,sendEmergencyGuide:async()=>{},draftMessage:null,setDraftMessage:()=>{},clearChatHistory:async()=>{},isClearing:!1}):e},ez=({children:e})=>{const[t,r]=h.useState([]),[n,s]=h.useState(!1),[o,i]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(""),[f,p]=h.useState(!1),[m,v]=h.useState([]),[y,w]=h.useState(null),[x,g]=h.useState(!1),[b,S]=h.useState(!1),[C,E]=h.useState(null),[N,j]=h.useState(!1),[T,P]=h.useState(!1),[O,D]=h.useState([]),[_,k]=h.useState(null),{toast:F}=Cr(),I=Ly(),[U,L]=h.useState(""),[B,q]=h.useState(null),[ie,fe]=h.useState([]),[qe,Oe]=h.useState(!1),[Je,Ke]=h.useState(0),[ae,ke]=h.useState(!1),[Re,Ne]=h.useState(""),[Ie,De]=h.useState(!1),[ut,gt]=h.useState(Date.now()),[Pt,ur]=h.useState(null),[dr,Pr]=h.useState([]),[vt,A]=h.useState(null),$=200,z=1e3,re=1e4,Z=h.useCallback(async()=>{try{j(!0);const V=1;return E(V),console.log("チャットIDを設定しました:",V),V}catch(V){console.error("Failed to initialize chat:",V);const de=1;return E(de),de}finally{j(!1)}},[]);h.useEffect(()=>{Z()},[Z]),h.useEffect(()=>{C&&!N&&(console.log(`📝 新しいチャットとして開始: chatId=${C}`),r([]),v([]),w(null),S(!1))},[C,N]),h.useEffect(()=>{let V=!1,de=null;const dt=Tt=>{if(V){console.log("更新中のため、ドラフトメッセージの更新をスキップ");return}if(Tt.detail&&typeof Tt.detail.content=="string"){const{content:Ft}=Tt.detail;if(!Ft.trim()){k(null);return}V=!0;const ft=(_==null?void 0:_.media)||[];k({content:Ft,media:ft}),de&&clearTimeout(de),de=setTimeout(()=>{V=!1},300)}},ze=Tt=>{console.log("クリアドラフトメッセージイベント受信"),k(null),c(""),L(""),fe([]),Oe(!1),De(!1),Rl(),rd()};return window.addEventListener("update-draft-message",dt),window.addEventListener("clear-draft-message",ze),()=>{de&&clearTimeout(de),window.removeEventListener("update-draft-message",dt),window.removeEventListener("clear-draft-message",ze)}},[_]);const Y=h.useCallback(async(V,de=!1)=>{var dt;if(!de){console.log("⚠️ 自動検索は無効化されています - 手動検索のみ実行可能");return}if(f){console.log("既に検索中のため、新しい検索をスキップします");return}try{if(!V||!V.trim()){console.log("検索テキストが空のため、検索をスキップします");return}console.log("🔍 手動画像検索開始:",V),p(!0);const ze=new AbortController,Tt=setTimeout(()=>ze.abort(),1e4);try{const Ft=await xr("POST","/api/tech-support/image-search",{query:V,count:10},void 0,{signal:ze.signal});if(clearTimeout(Tt),!Ft.ok)throw new Error("画像検索に失敗しました");const ft=await Ft.json();if(console.log("検索結果数:",((dt=ft.images)==null?void 0:dt.length)||0),!ft.images||ft.images.length===0)console.log(`「${V}」に関する検索結果はありませんでした`),v([]);else{const yt=ft.images.filter(We=>We&&(We.url||We.file)).map(We=>({...We,src:We.url||We.file,alt:We.title||We.description||"画像",title:We.title||"",description:We.description||""}));v(yt)}}catch(Ft){if(clearTimeout(Tt),Ft.name==="AbortError")console.log("検索がタイムアウトしました"),F({title:"検索タイムアウト",description:"検索に時間がかかりすぎたため中断しました。",variant:"destructive"});else throw Ft}}catch(ze){console.error("検索エラー:",ze),F({title:"検索エラー",description:"画像の検索に失敗しました。",variant:"destructive"}),v([])}finally{p(!1)}},[f,F]),he=h.useCallback(()=>{v([])},[]),Ue=h.useCallback(async()=>{try{const V=new Event("open-camera");return window.dispatchEvent(V),Promise.resolve()}catch(V){return console.error("カメラエラー:",V),F({title:"カメラエラー",description:"カメラを開けませんでした。",variant:"destructive"}),Promise.resolve()}},[F]);h.useCallback(V=>{console.log("🔍 メッセージ正規化開始:",{id:V.id,hasContent:!!V.content,contentType:typeof V.content,hasText:!!V.text,hasMessage:!!V.message,messageKeys:Object.keys(V||{}),fullMessage:V});let de="";if(typeof V.content=="string"&&V.content.trim())de=V.content,console.log("✅ 文字列contentを使用:",de.substring(0,50)+"...");else if(typeof V.text=="string"&&V.text.trim())de=V.text,console.log("✅ textプロパティを使用:",de.substring(0,50)+"...");else if(typeof V.message=="string"&&V.message.trim())de=V.message,console.log("✅ messageプロパティを使用:",de.substring(0,50)+"...");else if(V.choices&&Array.isArray(V.choices)&&V.choices.length>0){const ze=V.choices[0];ze.message&&typeof ze.message.content=="string"&&(de=ze.message.content,console.log("✅ OpenAI API形式のレスポンスから抽出:",de.substring(0,50)+"..."))}else if(typeof V.content=="object"&&V.content!==null)if(console.warn("⚠️ オブジェクト型のcontentを正規化します:",V.content),V.content.preview&&typeof V.content.preview=="string")de=V.content.preview,console.log("🖼️ 画像データのpreviewを抽出:",de.substring(0,50)+"...");else if(V.content.url&&typeof V.content.url=="string")de=V.content.url,console.log("🔗 画像データのurlを抽出:",de);else{const ze=V.content.text||V.content.content||V.content.message||V.content.data||V.content.response||V.content.answer;typeof ze=="string"&&ze.trim()?(de=ze,console.log("📝 ネストされたプロパティから抽出:",de.substring(0,50)+"...")):(de=JSON.stringify(V.content,null,2),console.log("📄 オブジェクトをJSON文字列として表示"))}else console.error("❌ メッセージコンテンツを正規化できませんでした:",{message:V,contentType:typeof V.content,hasText:!!V.text,hasMessage:!!V.message,hasChoices:!!V.choices}),console.log("🔍 詳細デバッグ - 利用可能なプロパティ:",{messageKeys:Object.keys(V),contentKeys:V.content?Object.keys(V.content):"content is null/undefined",textType:typeof V.text,messageType:typeof V.message}),de=`[メッセージ内容を読み込めませんでした - デバッグ: ${JSON.stringify({id:V.id,keys:Object.keys(V),contentType:typeof V.content})}]`;(!de||!de.trim())&&(de="[空のメッセージです]",console.warn("⚠️ 空のコンテンツのためフォールバック文字列を使用"));const dt={...V,content:de,text:de,timestamp:V.timestamp?new Date(V.timestamp):new Date(V.createdAt||new Date)};return console.log("✅ メッセージ正規化完了:",{id:dt.id,contentLength:de.length,contentPreview:de.substring(0,100)+"...",originalMessageType:typeof V.content,normalizedSuccessfully:!!de&&de.trim().length>0}),dt},[]);const Le=h.useCallback(async(V,de)=>{if(n||!V.trim())return;s(!0);const dt={id:Date.now(),content:V,isAiResponse:!1,timestamp:new Date,media:de||[]};r(ze=>[...ze,dt]),k(null);try{const ze=await xr("POST","/api/chats/1/messages",{content:V,media:de});if(ze.ok){const Tt=await ze.json(),Ft={id:Date.now()+1,content:Tt.content||Tt.text||"レスポンスエラー",isAiResponse:!0,timestamp:new Date};r(ft=>[...ft,Ft]);try{const{searchByText:ft,reloadImageSearchData:yt}=await rv(async()=>{const{searchByText:fs,reloadImageSearchData:$t}=await Promise.resolve().then(()=>tS);return{searchByText:fs,reloadImageSearchData:$t}},void 0);await yt();const We=await ft(V,!0);if(console.log("🔍 画像検索実行結果:",(We==null?void 0:We.length)||0,"件"),We&&We.length>0){const fs=We.map($t=>{const yn=$t.item||$t;return{...yn,id:yn.id||Math.random(),url:yn.file||yn.url,file:yn.file||yn.url,title:yn.title||"関連画像",description:yn.description||"",category:yn.category||""}});console.log("🖼️ 関係画像エリアに表示:",fs.length,"件"),v(fs)}else console.log("🔍 画像検索結果なし"),v([])}catch(ft){console.warn("画像検索エラー:",ft),v([])}}}catch(ze){console.error("メッセージ送信エラー:",ze),F({title:"エラー",description:"メッセージの送信に失敗しました",variant:"destructive"})}finally{s(!1)}},[n,F]),fr=h.useCallback(()=>{try{const V=(_==null?void 0:_.media)||[];Z6(async de=>{if(!de.trim())return;console.log("🔊 音声認識結果受信:",de),gt(Date.now()),Pt&&clearTimeout(Pt);const dt=setTimeout(()=>{Date.now()-ut>=re&&(console.log("⏰ 自動停止タイマー発動"),Rl(),rd(),i(!1),k(null),fe([]),Pr([]),L(""),c(""))},re);ur(dt),Pr(ze=>{if(ze.includes(de))return console.log("📝 重複テキストをスキップ:",de),ze;const Tt=[...ze,de];console.log("📝 バッファ更新:",Tt),vt&&clearTimeout(vt);const Ft=setTimeout(()=>{if(n){console.log("📝 送信中のためバッファ送信をスキップ");return}const ft=Tt.join(" ").trim();ft&&ft.length>2&&(console.log("💬 メッセージ送信:",ft),Le(ft),Pr([]))},$);return A(Ft),Tt})},de=>{console.log("Azure音声認識エラー:",de),F({title:"ブラウザAPIに切り替えます",duration:1e3}),Rl(),c(""),L(""),fe([]),Pr([]),Oe(!1),J6(async dt=>{if(!dt.trim())return;gt(Date.now()),Pt&&clearTimeout(Pt);const ze=setTimeout(()=>{Date.now()-ut>=z&&(Rl(),rd(),i(!1),k(null),fe([]),Pr([]),L(""),c(""))},z);ur(ze),Pr(Tt=>{const Ft=[...Tt,dt];vt&&clearTimeout(vt);const ft=setTimeout(()=>{const yt=Ft.join(" ");Le(yt),Pr([])},$);return A(ft),Ft})},dt=>{F({title:"音声認識エラー",description:dt,variant:"destructive"}),i(!1)})})}catch(V){console.error("音声認識開始エラー:",V),i(!1),F({title:"音声認識エラー",description:"音声認識を開始できませんでした。",variant:"destructive"})}},[_==null?void 0:_.media,ut,Pt,vt,Le,F]),zi=h.useCallback(()=>{i(!0),c(""),L(""),fe([]),Pr([]),Oe(!1),gt(Date.now()),fr()},[fr]),Vn=h.useCallback(()=>{if(i(!1),dr.length>0){const V=dr.join(" ");Le(V)}c(""),L(""),fe([]),Pr([]),Rl(),rd(),Pt&&(clearTimeout(Pt),ur(null)),vt&&(clearTimeout(vt),A(null))},[Pt,vt,dr,Le]),fh=h.useCallback(async()=>{try{if(!C)return;g(!0);const V=await xr("POST",`/api/chats/${C}/export`);if(!V.ok)throw new Error("チャット履歴のエクスポートに失敗しました");const de=await V.json();return F({title:"エクスポート完了",description:"チャット履歴が正常にエクスポートされました。"}),w(new Date),S(!1),de}catch(V){return console.error("エクスポートエラー:",V),F({title:"エクスポートエラー",description:"チャット履歴のエクスポートに失敗しました。",variant:"destructive"}),null}finally{g(!1)}},[C,F]),vl=h.useCallback(async()=>{try{if(!C)return{};const V=await xr("GET",`/api/chats/${C}/formatted-export`);if(!V.ok)throw new Error("フォーマット済みデータの取得に失敗しました");return await V.json()}catch(V){return console.error("フォーマット済みデータの取得エラー:",V),{}}},[C]),yl=h.useCallback(async V=>{try{if(!C&&!await Z())throw new Error("チャットの初期化に失敗しました");s(!0);const de=C||1;console.log("応急処置ガイド: チャットID",de,"にデータを送信します");const dt=Date.now(),ze=`応急処置ガイド「${V.title}」を実施しました`,Tt={id:dt,chatId:de,content:ze,text:ze,isAiResponse:!1,senderId:"user",timestamp:new Date},Ft=`■ 応急処置ガイド実施記録

**${V.title}**

${V.content}

---
**AI分析**: 応急処置手順が正常に記録されました。実施状況に関して追加のご質問がございましたらお聞かせください。`,ft={id:dt+1,chatId:de,content:Ft,text:Ft,isAiResponse:!0,senderId:"ai",timestamp:new Date};console.log("🏥 ChatMessage形式でメッセージを作成しました:"),console.log("- ユーザーメッセージ:",Tt),console.log("- AIメッセージ:",ft),r(yt=>{console.log("✅ メッセージをローカル状態に追加 - 現在のメッセージ数:",yt.length);const We=[...yt,Tt,ft];return console.log("✅ 応急処置ガイドメッセージ追加完了:",We.length,"件"),We});try{const yt=await xr("POST","/api/emergency-guide/send",{chatId:de,guideData:{title:V.title,content:V.content,steps:V.steps||[]}});if(yt.ok){const We=await yt.json();console.log("応急処置ガイド: サーバーへの送信成功",We)}else console.warn("サーバーへの送信は失敗しましたが、ローカルメッセージは表示されています")}catch(yt){console.error("API送信エラー:",yt)}console.log("🏥 緊急ガイド送信完了 - 自動検索は実行しません");try{const{searchImages:yt}=await rv(async()=>{const{searchImages:fs}=await Promise.resolve().then(()=>tS);return{searchImages:fs}},void 0),We=await yt(ze);if(console.log("🔍 緊急ガイド用画像検索結果:",(We==null?void 0:We.length)||0,"件"),We&&We.length>0){const fs=We.map(($t,yn)=>({...$t,id:($t==null?void 0:$t.id)||`img_${yn}`,url:($t==null?void 0:$t.file)||($t==null?void 0:$t.url),title:($t==null?void 0:$t.title)||"関連画像",type:"image"}));console.log("🖼️ 緊急ガイド関連画像表示:",fs.length,"件"),v(fs)}else console.log("🔍 緊急ガイド用画像検索結果なし"),v([])}catch(yt){console.warn("緊急ガイド画像検索エラー:",yt),v([])}F({title:"応急処置ガイド記録完了",description:"チャット履歴に応急処置の実施記録が追加されました"}),setTimeout(()=>{const yt=document.getElementById("chatMessages");yt&&(yt.scrollTop=yt.scrollHeight,console.log("チャットエリアを最下部にスクロールしました"))},100),window.dispatchEvent(new CustomEvent("emergency-guide-sent",{detail:{guideData:V,timestamp:new Date,success:!0,userMessage:Tt,aiMessage:ft}}))}catch(de){console.error("応急処置ガイド送信エラー:",de),F({title:"エラー",description:"応急処置ガイドの記録に失敗しました",variant:"destructive"})}finally{s(!1)}},[C,Z,r,xr,F,s]),ph=h.useCallback(async()=>{try{P(!0),console.log("🗑️ チャット履歴クリア開始: 表面的にクリア→新しいチャット開始"),console.log("🔄 画面上のチャット履歴を即座にクリアします"),r([]),v([]),w(null),S(!1),D([]),k(null),c(""),d(""),he();try{I.removeQueries({queryKey:[`/api/chats/${C}/messages`]}),I.removeQueries({queryKey:["search_results"]}),I.invalidateQueries({queryKey:[`/api/chats/${C}/messages`]}),I.clear(),console.log("📦 ローカルキャッシュを強制的にクリアしました")}catch(V){console.warn("ローカルキャッシュクリアエラー:",V)}console.log("🆕 新しいチャットセッションを開始します"),F({title:"クリア完了",description:"新しいチャットを開始しました"})}catch(V){console.error("🚨 チャット履歴クリアエラー:",V),r([]),v([]),S(!1),F({title:"クリアエラー",description:"エラーが発生しましたが、画面はクリアされました",variant:"destructive"})}finally{P(!1)}},[C,he,F,I]);h.useEffect(()=>{C&&!T&&(console.log("🆕 新しいチャットセッションを開始"),r([]),v([]),w(null),S(!1))},[C,T]);const xl=h.useCallback(async()=>{if(!C)return;if(!/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C)){console.log("Invalid chat ID format - skipping last export fetch");return}try{const dt=await(await xr("GET",`/api/chats/${C}/last-export`)).json();dt.timestamp&&w(new Date(dt.timestamp))}catch(de){console.error("Failed to fetch last export:",de)}},[C]);h.useEffect(()=>{xl()},[xl]),h.useEffect(()=>{if(t.length>0&&y){const V=t.some(de=>new Date(de.timestamp)>y);S(V)}else t.length>0?S(!0):S(!1)},[t,y]);const hh={messages:t,setMessages:r,isLoading:n,searching:f,searchResults:m,selectedText:u,setSelectedText:d,sendMessage:Le,startRecording:zi,stopRecording:Vn,isRecording:o,recordedText:a,searchBySelectedText:Y,clearSearchResults:he,captureImage:Ue,exportChatHistory:fh,exportFormattedData:vl,lastExportTimestamp:y,isExporting:x,hasUnexportedMessages:b,sendEmergencyGuide:yl,draftMessage:_,setDraftMessage:k,clearChatHistory:ph,isClearing:T};return l.jsx(XA.Provider,{value:hh,children:e})};function $n(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ki(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ZA=6048e5,tz=864e5;let rz={};function Sp(){return rz}function Rc(e,t){var a,c,u,d;const r=Sp(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=$n(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function jf(e){return Rc(e,{weekStartsOn:1})}function JA(e){const t=$n(e),r=t.getFullYear(),n=ki(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=jf(n),o=ki(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=jf(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Ub(e){const t=$n(e);return t.setHours(0,0,0,0),t}function Wb(e){const t=$n(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function nz(e,t){const r=Ub(e),n=Ub(t),s=+r-Wb(r),o=+n-Wb(n);return Math.round((s-o)/tz)}function sz(e){const t=JA(e),r=ki(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jf(r)}function oz(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function iz(e){if(!oz(e)&&typeof e!="number")return!1;const t=$n(e);return!isNaN(Number(t))}function az(e){const t=$n(e),r=ki(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const lz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cz=(e,t,r)=>{let n;const s=lz[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ya(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const uz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pz={date:ya({formats:uz,defaultWidth:"full"}),time:ya({formats:dz,defaultWidth:"full"}),dateTime:ya({formats:fz,defaultWidth:"full"})},hz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mz=(e,t,r,n)=>hz[e];function Qn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const gz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sz=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cz={ordinalNumber:Sz,era:Qn({values:gz,defaultWidth:"wide"}),quarter:Qn({values:vz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qn({values:yz,defaultWidth:"wide"}),day:Qn({values:xz,defaultWidth:"wide"}),dayPeriod:Qn({values:wz,defaultWidth:"wide",formattingValues:bz,defaultFormattingWidth:"wide"})};function Yn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?Nz(a,f=>f.test(i)):Ez(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function Ez(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Nz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function eD(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const jz=/^(\d+)(th|st|nd|rd)?/i,Pz=/\d+/i,Tz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kz={any:[/^b/i,/^(a|c)/i]},Az={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dz={any:[/1/i,/2/i,/3/i,/4/i]},Rz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Iz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_z={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fz={ordinalNumber:eD({matchPattern:jz,parsePattern:Pz,valueCallback:e=>parseInt(e,10)}),era:Yn({matchPatterns:Tz,defaultMatchWidth:"wide",parsePatterns:kz,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:Az,defaultMatchWidth:"wide",parsePatterns:Dz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yn({matchPatterns:Rz,defaultMatchWidth:"wide",parsePatterns:Iz,defaultParseWidth:"any"}),day:Yn({matchPatterns:_z,defaultMatchWidth:"wide",parsePatterns:Oz,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:Mz,defaultMatchWidth:"any",parsePatterns:Lz,defaultParseWidth:"any"})},$z={code:"en-US",formatDistance:cz,formatLong:pz,formatRelative:mz,localize:Cz,match:Fz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bz(e){const t=$n(e);return nz(t,az(t))+1}function zz(e){const t=$n(e),r=+jf(t)-+sz(t);return Math.round(r/ZA)+1}function tD(e,t){var d,f,p,m;const r=$n(e),n=r.getFullYear(),s=Sp(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=ki(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=Rc(i,t),c=ki(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Rc(c,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Vz(e,t){var a,c,u,d;const r=Sp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=tD(e,t),o=ki(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Rc(o,t)}function Uz(e,t){const r=$n(e),n=+Rc(r,t)-+Vz(r,t);return Math.round(n/ZA)+1}function Qe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Us={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qe(r+1,2)},d(e,t){return Qe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qe(e.getHours()%12||12,t.length)},H(e,t){return Qe(e.getHours(),t.length)},m(e,t){return Qe(e.getMinutes(),t.length)},s(e,t){return Qe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Qe(s,t.length)}},Wi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hb={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Us.y(e,t)},Y:function(e,t,r,n){const s=tD(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Qe(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Qe(o,t.length)},R:function(e,t){const r=JA(e);return Qe(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Us.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Uz(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Qe(s,t.length)},I:function(e,t,r){const n=zz(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Us.d(e,t)},D:function(e,t,r){const n=Bz(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Qe(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Qe(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Qe(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Wi.noon:n===0?s=Wi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Wi.evening:n>=12?s=Wi.afternoon:n>=4?s=Wi.morning:s=Wi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Us.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Us.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Us.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Us.s(e,t)},S:function(e,t){return Us.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qb(n);case"XXXX":case"XX":return Jo(n);case"XXXXX":case"XXX":default:return Jo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qb(n);case"xxxx":case"xx":return Jo(n);case"xxxxx":case"xxx":default:return Jo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gb(n,":");case"OOOO":default:return"GMT"+Jo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gb(n,":");case"zzzz":default:return"GMT"+Jo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Qe(n,t.length)},T:function(e,t,r){const n=e.getTime();return Qe(n,t.length)}};function Gb(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Qe(o,2)}function qb(e,t){return e%60===0?(e>0?"-":"+")+Qe(Math.abs(e)/60,2):Jo(e,t)}function Jo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Qe(Math.trunc(n/60),2),o=Qe(n%60,2);return r+s+t+o}const Kb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Kb(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Kb(n,t)).replace("{{time}}",rD(s,t))},Hz={p:rD,P:Wz},Gz=/^D+$/,qz=/^Y+$/,Kz=["D","DD","YY","YYYY"];function Qz(e){return Gz.test(e)}function Yz(e){return qz.test(e)}function Xz(e,t,r){const n=Zz(e,t,r);if(console.warn(n),Kz.includes(e))throw new RangeError(n)}function Zz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tV=/^'([^]*?)'?$/,rV=/''/g,nV=/[a-zA-Z]/;function Wl(e,t,r){var d,f,p,m,v,y,w,x;const n=Sp(),s=(r==null?void 0:r.locale)??n.locale??$z,o=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((y=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((x=(w=n.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,a=$n(e);if(!iz(a))throw new RangeError("Invalid time value");let c=t.match(eV).map(g=>{const b=g[0];if(b==="p"||b==="P"){const S=Hz[b];return S(g,s.formatLong)}return g}).join("").match(Jz).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:sV(g)};if(Hb[b])return{isToken:!0,value:g};if(b.match(nV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Yz(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Qz(b))&&Xz(b,t,String(e));const S=Hb[b[0]];return S(a,b,s.localize,u)}).join("")}function sV(e){const t=e.match(tV);return t?t[1].replace(rV,"'"):e}const oV={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},iV=(e,t,r)=>{r=r||{};let n;const s=oV[e];return typeof s=="string"?n=s:t===1?r.addSuffix&&s.oneWithSuffix?n=s.oneWithSuffix:n=s.one:r.addSuffix&&s.otherWithSuffix?n=s.otherWithSuffix.replace("{{count}}",String(t)):n=s.other.replace("{{count}}",String(t)),r.addSuffix?r.comparison&&r.comparison>0?n+"後":n+"前":n},aV={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},lV={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},cV={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},uV={date:ya({formats:aV,defaultWidth:"full"}),time:ya({formats:lV,defaultWidth:"full"}),dateTime:ya({formats:cV,defaultWidth:"full"})},dV={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},fV=(e,t,r,n)=>dV[e],pV={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},hV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},mV={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},gV={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},vV={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},yV={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},xV=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"year":return`${r}年`;case"quarter":return`第${r}四半期`;case"month":return`${r}月`;case"week":return`第${r}週`;case"date":return`${r}日`;case"hour":return`${r}時`;case"minute":return`${r}分`;case"second":return`${r}秒`;default:return`${r}`}},wV={ordinalNumber:xV,era:Qn({values:pV,defaultWidth:"wide"}),quarter:Qn({values:hV,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Qn({values:mV,defaultWidth:"wide"}),day:Qn({values:gV,defaultWidth:"wide"}),dayPeriod:Qn({values:vV,defaultWidth:"wide",formattingValues:yV,defaultFormattingWidth:"wide"})},bV=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,SV=/\d+/i,CV={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},EV={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},NV={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},jV={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},PV={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},TV={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},kV={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},AV={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},DV={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},RV={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},IV={ordinalNumber:eD({matchPattern:bV,parsePattern:SV,valueCallback:function(e){return parseInt(e,10)}}),era:Yn({matchPatterns:CV,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:NV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yn({matchPatterns:PV,defaultMatchWidth:"wide",parsePatterns:TV,defaultParseWidth:"any"}),day:Yn({matchPatterns:kV,defaultMatchWidth:"wide",parsePatterns:AV,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:DV,defaultMatchWidth:"any",parsePatterns:RV,defaultParseWidth:"any"})},nd={code:"ja",formatDistance:iV,formatLong:uV,formatRelative:fV,localize:wV,match:IV,options:{weekStartsOn:0,firstWeekContainsDate:1}},_V=(e,t={})=>new Promise((r,n)=>{if(!("speechSynthesis"in window)){n(new Error("このブラウザは音声合成をサポートしていません"));return}const s=new SpeechSynthesisUtterance(e);s.rate=t.rate||1,s.pitch=t.pitch||1,s.volume=t.volume||1,s.lang=t.lang||"ja-JP",s.onend=()=>{r()},s.onerror=o=>{n(new Error(`音声合成エラー: ${o.error}`))},window.speechSynthesis.cancel(),window.speechSynthesis.speak(s)}),OV=()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel()};function Qb({message:e,isDraft:t=!1}){const{user:r}=gn(),{setSelectedText:n}=uu(),[s,o]=h.useState(""),[i,a]=h.useState(!1),[c,u]=h.useState(!1),{toast:d}=Cr(),f=!e.isAiResponse;e.content&&e.content.includes("応急処置ガイド実施記録")&&console.log("🔵 応急処置ガイドメッセージを表示します:",{id:e.id,isAiResponse:e.isAiResponse,contentStart:e.content.substring(0,50)+"...",timestamp:e.timestamp});let m="--:--";try{const b=e.timestamp||e.createdAt;if(b){const S=new Date(b);isNaN(S.getTime())?m=Wl(new Date,"HH:mm",{locale:nd}):m=Wl(S,"HH:mm",{locale:nd})}else m=Wl(new Date,"HH:mm",{locale:nd})}catch(b){console.error("日時フォーマットエラー:",b,"timestamp:",e.timestamp),m=Wl(new Date,"HH:mm",{locale:nd})}const v=()=>{const b=window.getSelection(),S=b==null?void 0:b.toString();if(b&&S&&S.trim().length>0){const C=S.trim();o(C),a(!0)}else o(""),a(!1)},y=()=>{s&&(n(s),d({title:"テキストをコピーしました",description:"選択したテキストが入力欄にコピーされました。"}),a(!1))},w=async()=>{if(c)OV(),u(!1),d({title:"音声読み上げを停止しました",duration:2e3});else{const b=e.content||e.text||"";if(!f&&b&&typeof b=="string"&&b.trim()){u(!0),d({title:"音声読み上げを開始します",duration:2e3});try{await _V(b,{rate:1,pitch:1,lang:"ja-JP"})}catch(S){d({title:"音声読み上げエラー",description:S instanceof Error?S.message:"音声の読み上げに失敗しました",variant:"destructive"})}finally{u(!1)}}}},x=b=>{var C;const S=((C=e.media)==null?void 0:C.map(E=>E.url))||[];window.dispatchEvent(new CustomEvent("preview-image",{detail:{url:b,all_slides:S.length>1?S:void 0,title:"応急処置ガイド",content:e.content}}))},g=()=>(e.media&&e.media.length>0&&console.log("メディア表示:",{messageId:e.id,mediaCount:e.media.length,mediaDetails:e.media.map((b,S)=>({index:S,type:b.type,urlPrefix:b.url.substring(0,50)+"...",urlLength:b.url.length,isBase64:b.url.startsWith("data:")}))}),l.jsx(l.Fragment,{children:e.media&&e.media.length>0&&l.jsx("div",{className:"mt-3",children:e.media.map((b,S)=>l.jsxs("div",{className:"mt-2",children:[b.type==="image"&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:b.url,alt:"添付画像",className:"rounded-lg w-full max-w-xs cursor-pointer border border-blue-200 shadow-md",style:{maxHeight:"300px",objectFit:"contain"},onClick:()=>x(b.url),onLoad:C=>{console.log("画像読み込み成功:",{messageId:e.id,mediaIndex:S,width:C.target.naturalWidth,height:C.target.naturalHeight,urlType:b.url.startsWith("data:")?"base64":"url"})},onError:C=>{var N;console.error("画像読み込みエラー:",{messageId:e.id,mediaIndex:S,url:b.url.substring(0,100)+"...",isBase64:b.url.startsWith("data:")});const E=C.target;if(E.onerror=null,b.url.startsWith("data:image/")){E.style.display="none";const j=document.createElement("div");j.className="flex items-center justify-center bg-gray-100 border border-gray-300 rounded-lg p-4 max-w-xs",j.innerHTML='<span class="text-gray-500 text-sm">画像の表示に失敗しました</span>',(N=E.parentNode)==null||N.insertBefore(j,E)}else E.src.includes("/placeholder-image.png")||(E.src="/placeholder-image.png")}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",onClick:()=>x(b.url),children:l.jsx("div",{className:"bg-blue-600 bg-opacity-70 p-2 rounded-full",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]}),b.type==="video"&&l.jsxs("div",{className:"relative",children:[l.jsx("video",{src:b.url,controls:!0,className:"rounded-lg w-full max-w-xs border border-blue-200 shadow-md",style:{maxHeight:"300px"},onClick:C=>{C.stopPropagation()},onLoadedMetadata:C=>{console.log("動画メタデータ読み込み成功:",{messageId:e.id,mediaIndex:S,duration:C.target.duration,urlType:b.url.startsWith("blob:")?"blob":"url"})},onError:C=>{console.error("動画読み込みエラー:",{messageId:e.id,mediaIndex:S,url:b.url.substring(0,100)+"...",isBlob:b.url.startsWith("blob:")})}}),l.jsx("div",{className:"absolute top-2 right-2 flex items-center justify-center opacity-50 hover:opacity-100 transition-opacity",onClick:()=>x(b.url),children:l.jsx("div",{className:"bg-blue-600 bg-opacity-70 p-2 rounded-full",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]})]},`${e.id}-media-${S}`))})}));return l.jsxs("div",{className:`flex items-end mb-4 ${f?"":"flex-row-reverse"} min-w-[250px] ${t?"draft-message animate-pulse":""}`,onMouseUp:v,children:[l.jsxs("div",{className:`mx-2 flex flex-col ${f?"items-start":"items-end"} max-w-[70%] min-w-[230px]`,children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:!f&&l.jsx("button",{onClick:w,className:`w-8 h-8 flex items-center justify-center rounded-full shadow-sm 
                ${c?"bg-indigo-600 text-white animate-pulse":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,title:c?"音声読み上げを停止":"音声読み上げ",children:l.jsx(M2,{size:16})})}),l.jsxs("div",{className:`px-4 py-3 mb-1 shadow-sm w-full ${f?`chat-bubble-user bg-blue-50 rounded-[18px_18px_4px_18px] border ${t?"border-blue-400 border-dashed":"border-blue-200 border-solid"}`:"chat-bubble-ai bg-white rounded-[18px_18px_18px_4px] border border-blue-200 border-solid"}`,children:[l.jsxs("div",{className:"relative",children:[(()=>{const b=e.content||"";return b.startsWith("data:image/")||b.includes(".jpg")||b.includes(".png")||b.includes("/knowledge-base/images/")?l.jsx("img",{src:b,alt:"画像",className:"rounded-lg max-w-xs cursor-pointer",style:{maxHeight:"300px",objectFit:"contain"},onClick:()=>x(b)}):l.jsx("p",{className:f?"text-black":"text-blue-600",children:b})})(),i&&l.jsx("button",{onClick:y,className:"absolute -top-2 -right-2 bg-blue-600 text-white p-1.5 rounded-full shadow-md hover:bg-blue-700 transition-colors",title:"入力欄にコピー",children:l.jsx(k2,{size:14})})]}),g()]}),l.jsx("span",{className:"text-xs text-blue-400",children:m})]}),l.jsx("div",{children:l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${f?"bg-blue-500":"bg-indigo-600"}`,children:l.jsx("span",{className:"material-icons text-white text-sm ",children:f?"person":"smart_toy"})})})]})}const du=h.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));du.displayName="Textarea";const em=768;function lx(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=window.matchMedia(`(max-width: ${em-1}px)`),n=()=>{t(window.innerWidth<em)};return r.addEventListener("change",n),t(window.innerWidth<em),()=>r.removeEventListener("change",n)},[]),{isMobile:!!e}}function MV(){const[e,t]=h.useState(""),{sendMessage:r,isLoading:n,recordedText:s,selectedText:o,searchBySelectedText:i,startRecording:a,stopRecording:c,isRecording:u,draftMessage:d,setDraftMessage:f}=uu(),p=C=>{f&&!u?(console.log("手動入力からドラフトメッセージを更新:",C),f({content:C,media:(d==null?void 0:d.media)||[]})):u&&console.log("録音中のため手動ドラフト更新をスキップ:",C)},m=lx(),v=h.useRef(null),y=h.useRef(null);h.useEffect(()=>{o&&(t(o),m&&y.current?y.current.focus():v.current&&v.current.focus())},[o,m]),h.useEffect(()=>{u&&s&&s.trim()&&(console.log("関数から直接ドラフトメッセージを設定:",s),p(s),u&&console.log("録音中のテキストをチャット側のみに表示:",s))},[s,u,d,f,p]);const w=C=>{t(C.target.value)},x=async C=>{C.preventDefault();const E=e.trim()||s.trim();if(!(!E||n)){console.log("送信するテキスト:",E),await r(E),console.log("💬 チャット入力から送信:",E,"（画像検索完全無効）");try{typeof window<"u"&&(window.dispatchEvent(new CustomEvent("cancel-image-search")),window.dispatchEvent(new CustomEvent("clear-search-results")),window.dispatchEvent(new CustomEvent("disable-auto-search")),clearTimeout(window._fuseSearchTimeout),window._fuseSearchDisabled=!0)}catch(N){console.warn("検索キャンセル処理でエラー:",N)}t(""),m&&y.current?(y.current.focus(),setTimeout(()=>{var N;(N=y.current)==null||N.blur()},100)):v.current&&v.current.focus()}},g=()=>{window.dispatchEvent(new CustomEvent("open-camera"))},b=async()=>{try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(E=>E.stop()),u?(console.log("録音停止"),c(),s.trim()&&(console.log("録音停止：ドラフトメッセージを設定:",s.trim()),p(s.trim()))):(console.log("録音開始"),a())}catch(C){console.error("マイクアクセスエラー:",C),C instanceof DOMException&&C.name==="NotAllowedError"?alert("マイクの使用が許可されていません。ブラウザの設定でマイクの使用を許可してください。"):alert("マイクの初期化中にエラーが発生しました。")}},S=()=>{t(""),m&&y.current?y.current.focus():v.current&&v.current.focus()};return l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-t border-blue-200 p-2 message-input-container",children:l.jsxs("form",{onSubmit:x,className:"flex items-center",children:[l.jsxs("div",{className:"md:hidden flex flex-col items-center mr-2",children:[l.jsx("span",{className:"text-xs font-medium text-orange-700 mb-0.5",children:"マイク"}),l.jsx(H,{type:"button",onClick:b,size:"icon",variant:u?"default":"ghost",className:`p-2 h-10 w-10 rounded-full ${u?"bg-gradient-to-r from-red-500 to-pink-500":"bg-gradient-to-r from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200 border border-orange-300"}`,children:l.jsx(rb,{className:`h-5 w-5 ${u?"text-white":"text-orange-600"}`})})]}),l.jsxs("div",{className:"hidden md:flex md:flex-col md:items-center md:mr-2",children:[l.jsx("span",{className:"text-xs font-medium text-orange-700 mb-0.5",children:"マイク"}),l.jsx(H,{type:"button",onClick:b,size:"icon",variant:u?"default":"ghost",className:`p-2 h-10 w-10 rounded-full ${u?"bg-gradient-to-r from-red-500 to-pink-500":"bg-gradient-to-r from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200 border border-orange-300"}`,children:l.jsx(rb,{className:`h-5 w-5 ${u?"text-white":"text-orange-600"}`})})]}),l.jsxs("div",{className:"flex-1 flex items-center bg-white border border-blue-200 rounded-full px-3 py-1 shadow-inner",children:[m?l.jsxs("div",{className:"flex-1 relative h-[32px]",children:[" ",l.jsx(du,{ref:y,className:"absolute inset-0 bg-transparent border-none focus-visible:ring-0 focus-visible:ring-offset-0 resize-none py-1 overflow-y-auto text-sm",placeholder:u?"話しかけてください...":"メッセージを入力...",value:e,onChange:w,disabled:n,rows:1,style:{lineHeight:"1.2"},onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),x(C))}}),e.trim()&&l.jsx("button",{type:"button",onClick:S,className:"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(Oo,{size:16})})]}):l.jsxs("div",{className:"flex-1 h-[32px] flex items-center relative",children:[" ",l.jsx(Et,{ref:v,type:"text",className:"w-full h-full bg-transparent border-none focus-visible:ring-0 focus-visible:ring-offset-0 text-sm",placeholder:u?"話しかけてください...":"メッセージを入力...",value:e,onChange:w,disabled:n}),e.trim()&&l.jsx("button",{type:"button",onClick:S,className:"absolute right-1 text-gray-400 hover:text-gray-600",children:l.jsx(Oo,{size:16})})]}),l.jsx(H,{type:"submit",disabled:n||!e.trim()&&!s.trim(),size:"icon",variant:"ghost",className:"ml-1 p-1 min-w-[28px] min-h-[28px] h-7 w-7 bg-gradient-to-r from-sky-100 to-blue-100 hover:from-sky-200 hover:to-blue-200 rounded-full border border-blue-300",children:l.jsx(R2,{className:"h-4 w-4 text-blue-600"})})]}),l.jsxs("div",{className:"md:hidden flex flex-col items-center ml-2",children:[l.jsx("span",{className:"text-xs font-medium text-indigo-700 mb-0.5",children:"カメラ"}),l.jsx(H,{type:"button",onClick:g,size:"icon",variant:"ghost",className:"p-2 h-10 w-10 rounded-full bg-gradient-to-r from-indigo-100 to-cyan-100 hover:from-indigo-200 hover:to-cyan-200 border border-indigo-300",children:l.jsx(eb,{className:"h-5 w-5 text-indigo-600"})})]}),l.jsxs("div",{className:"hidden md:flex md:flex-col md:items-center md:ml-2",children:[l.jsx("span",{className:"text-xs font-medium text-indigo-700 mb-0.5",children:"カメラ"}),l.jsx(H,{type:"button",onClick:g,size:"icon",variant:"ghost",className:"p-2 h-10 w-10 rounded-full bg-gradient-to-r from-indigo-100 to-cyan-100 hover:from-indigo-200 hover:to-cyan-200 border border-indigo-300",children:l.jsx(eb,{className:"h-5 w-5 text-indigo-600"})})]})]})})}function LV({text:e,onSearch:t}){const[r,n]=h.useState({top:0,left:0}),[s,o]=h.useState(!1),i=h.useRef(null),{toast:a}=Cr();h.useEffect(()=>{if(e){const f=window.getSelection();if(f&&f.rangeCount>0){const m=f.getRangeAt(0).getBoundingClientRect();n({top:m.top-40,left:m.left}),o(!0)}}else o(!1)},[e]),h.useEffect(()=>{const f=p=>{i.current&&!i.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const c=async()=>{await t(e),o(!1)},u=()=>{window.dispatchEvent(new CustomEvent("ask-chatgpt",{detail:{text:e}})),o(!1)},d=()=>{navigator.clipboard.writeText(e),a({title:"コピー完了",description:"テキストがクリップボードにコピーされました",duration:2e3}),o(!1)};return s?l.jsx("div",{ref:i,className:"fixed bg-white shadow-lg rounded-lg border border-neutral-200 p-2 z-10",style:{top:`${r.top}px`,left:`${r.left}px`},children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(H,{variant:"ghost",size:"icon",className:"p-1 hover:bg-neutral-100 rounded mr-1",title:"画像検索",onClick:c,children:l.jsx(XB,{className:"h-5 w-5 text-primary"})}),l.jsx(H,{variant:"ghost",size:"icon",className:"p-1 hover:bg-neutral-100 rounded mr-1",title:"AIに質問",onClick:u,children:l.jsx(UB,{className:"h-5 w-5 text-primary"})}),l.jsx(H,{variant:"ghost",size:"icon",className:"p-1 hover:bg-neutral-100 rounded",title:"コピー",onClick:d,children:l.jsx(k2,{className:"h-5 w-5 text-primary"})})]})}):null}function nD(){const[e,t]=h.useState(window.innerWidth>window.innerHeight?"landscape":"portrait");return h.useEffect(()=>{const r=()=>{t(window.innerWidth>window.innerHeight?"landscape":"portrait")};return window.addEventListener("resize",r),window.addEventListener("orientationchange",r),r(),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},[]),e}function _s(e){return Array.isArray?Array.isArray(e):iD(e)==="[object Array]"}function FV(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function $V(e){return e==null?"":FV(e)}function Jn(e){return typeof e=="string"}function sD(e){return typeof e=="number"}function BV(e){return e===!0||e===!1||zV(e)&&iD(e)=="[object Boolean]"}function oD(e){return typeof e=="object"}function zV(e){return oD(e)&&e!==null}function zr(e){return e!=null}function tm(e){return!e.trim().length}function iD(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const VV="Incorrect 'index' type",UV=e=>`Invalid value for key ${e}`,WV=e=>`Pattern length exceeds max of ${e}.`,HV=e=>`Missing ${e} property in key`,GV=e=>`Property 'weight' in key '${e}' must be a positive integer`,Yb=Object.prototype.hasOwnProperty;class qV{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let s=aD(n);this._keys.push(s),this._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function aD(e){let t=null,r=null,n=null,s=1,o=null;if(Jn(e)||_s(e))n=e,t=Xb(e),r=nv(e);else{if(!Yb.call(e,"name"))throw new Error(HV("name"));const i=e.name;if(n=i,Yb.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(GV(i));t=Xb(i),r=nv(i),o=e.getFn}return{path:t,id:r,weight:s,src:n,getFn:o}}function Xb(e){return _s(e)?e:e.split(".")}function nv(e){return _s(e)?e.join("."):e}function KV(e,t){let r=[],n=!1;const s=(o,i,a)=>{if(zr(o))if(!i[a])r.push(o);else{let c=i[a];const u=o[c];if(!zr(u))return;if(a===i.length-1&&(Jn(u)||sD(u)||BV(u)))r.push($V(u));else if(_s(u)){n=!0;for(let d=0,f=u.length;d<f;d+=1)s(u[d],i,a+1)}else i.length&&s(u,i,a+1)}};return s(e,Jn(t)?t.split("."):t,0),n?r:r[0]}const QV={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},YV={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},XV={location:0,threshold:.6,distance:100},ZV={useExtendedSearch:!1,getFn:KV,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var xe={...YV,...QV,...XV,...ZV};const JV=/[^ ]+/g;function eU(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(s){const o=s.match(JV).length;if(r.has(o))return r.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*n)/n);return r.set(o,a),a},clear(){r.clear()}}}class cx{constructor({getFn:t=xe.getFn,fieldNormWeight:r=xe.fieldNormWeight}={}){this.norm=eU(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Jn(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Jn(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!zr(t)||tm(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((s,o)=>{let i=s.getFn?s.getFn(t):this.getFn(t,s.path);if(zr(i)){if(_s(i)){let a=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(zr(d))if(Jn(d)&&!tm(d)){let f={v:d,i:u,n:this.norm.get(d)};a.push(f)}else _s(d)&&d.forEach((f,p)=>{c.push({nestedArrIndex:p,value:f})})}n.$[o]=a}else if(Jn(i)&&!tm(i)){let a={v:i,n:this.norm.get(i)};n.$[o]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function lD(e,t,{getFn:r=xe.getFn,fieldNormWeight:n=xe.fieldNormWeight}={}){const s=new cx({getFn:r,fieldNormWeight:n});return s.setKeys(e.map(aD)),s.setSources(t),s.create(),s}function tU(e,{getFn:t=xe.getFn,fieldNormWeight:r=xe.fieldNormWeight}={}){const{keys:n,records:s}=e,o=new cx({getFn:t,fieldNormWeight:r});return o.setKeys(n),o.setIndexRecords(s),o}function sd(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:s=xe.distance,ignoreLocation:o=xe.ignoreLocation}={}){const i=t/e.length;if(o)return i;const a=Math.abs(n-r);return s?i+a/s:a?1:i}function rU(e=[],t=xe.minMatchCharLength){let r=[],n=-1,s=-1,o=0;for(let i=e.length;o<i;o+=1){let a=e[o];a&&n===-1?n=o:!a&&n!==-1&&(s=o-1,s-n+1>=t&&r.push([n,s]),n=-1)}return e[o-1]&&o-n>=t&&r.push([n,o-1]),r}const ti=32;function nU(e,t,r,{location:n=xe.location,distance:s=xe.distance,threshold:o=xe.threshold,findAllMatches:i=xe.findAllMatches,minMatchCharLength:a=xe.minMatchCharLength,includeMatches:c=xe.includeMatches,ignoreLocation:u=xe.ignoreLocation}={}){if(t.length>ti)throw new Error(WV(ti));const d=t.length,f=e.length,p=Math.max(0,Math.min(n,f));let m=o,v=p;const y=a>1||c,w=y?Array(f):[];let x;for(;(x=e.indexOf(t,v))>-1;){let N=sd(t,{currentLocation:x,expectedLocation:p,distance:s,ignoreLocation:u});if(m=Math.min(N,m),v=x+d,y){let j=0;for(;j<d;)w[x+j]=1,j+=1}}v=-1;let g=[],b=1,S=d+f;const C=1<<d-1;for(let N=0;N<d;N+=1){let j=0,T=S;for(;j<T;)sd(t,{errors:N,currentLocation:p+T,expectedLocation:p,distance:s,ignoreLocation:u})<=m?j=T:S=T,T=Math.floor((S-j)/2+j);S=T;let P=Math.max(1,p-T+1),O=i?f:Math.min(p+T,f)+d,D=Array(O+2);D[O+1]=(1<<N)-1;for(let k=O;k>=P;k-=1){let F=k-1,I=r[e.charAt(F)];if(y&&(w[F]=+!!I),D[k]=(D[k+1]<<1|1)&I,N&&(D[k]|=(g[k+1]|g[k])<<1|1|g[k+1]),D[k]&C&&(b=sd(t,{errors:N,currentLocation:F,expectedLocation:p,distance:s,ignoreLocation:u}),b<=m)){if(m=b,v=F,v<=p)break;P=Math.max(1,2*p-v)}}if(sd(t,{errors:N+1,currentLocation:p,expectedLocation:p,distance:s,ignoreLocation:u})>m)break;g=D}const E={isMatch:v>=0,score:Math.max(.001,b)};if(y){const N=rU(w,a);N.length?c&&(E.indices=N):E.isMatch=!1}return E}function sU(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const s=e.charAt(r);t[s]=(t[s]||0)|1<<n-r-1}return t}const Pf=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class cD{constructor(t,{location:r=xe.location,threshold:n=xe.threshold,distance:s=xe.distance,includeMatches:o=xe.includeMatches,findAllMatches:i=xe.findAllMatches,minMatchCharLength:a=xe.minMatchCharLength,isCaseSensitive:c=xe.isCaseSensitive,ignoreDiacritics:u=xe.ignoreDiacritics,ignoreLocation:d=xe.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?Pf(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,v)=>{this.chunks.push({pattern:m,alphabet:sU(m),startIndex:v})},p=this.pattern.length;if(p>ti){let m=0;const v=p%ti,y=p-v;for(;m<y;)f(this.pattern.substr(m,ti),m),m+=ti;if(v){const w=p-ti;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:s}=this.options;if(t=r?t:t.toLowerCase(),t=n?Pf(t):t,this.pattern===t){let y={isMatch:!0,score:0};return s&&(y.indices=[[0,t.length-1]]),y}const{location:o,distance:i,threshold:a,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],p=0,m=!1;this.chunks.forEach(({pattern:y,alphabet:w,startIndex:x})=>{const{isMatch:g,score:b,indices:S}=nU(t,y,w,{location:o+x,distance:i,threshold:a,findAllMatches:c,minMatchCharLength:u,includeMatches:s,ignoreLocation:d});g&&(m=!0),p+=b,g&&S&&(f=[...f,...S])});let v={isMatch:m,score:m?p/this.chunks.length:1};return m&&s&&(v.indices=f),v}}class Ho{constructor(t){this.pattern=t}static isMultiMatch(t){return Zb(t,this.multiRegex)}static isSingleMatch(t){return Zb(t,this.singleRegex)}search(){}}function Zb(e,t){const r=e.match(t);return r?r[1]:null}class oU extends Ho{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class iU extends Ho{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class aU extends Ho{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class lU extends Ho{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class cU extends Ho{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class uU extends Ho{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class uD extends Ho{constructor(t,{location:r=xe.location,threshold:n=xe.threshold,distance:s=xe.distance,includeMatches:o=xe.includeMatches,findAllMatches:i=xe.findAllMatches,minMatchCharLength:a=xe.minMatchCharLength,isCaseSensitive:c=xe.isCaseSensitive,ignoreDiacritics:u=xe.ignoreDiacritics,ignoreLocation:d=xe.ignoreLocation}={}){super(t),this._bitapSearch=new cD(t,{location:r,threshold:n,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class dD extends Ho{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const s=[],o=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+o,s.push([n,r-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const sv=[oU,dD,aU,lU,uU,cU,iU,uD],Jb=sv.length,dU=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fU="|";function pU(e,t={}){return e.split(fU).map(r=>{let n=r.trim().split(dU).filter(o=>o&&!!o.trim()),s=[];for(let o=0,i=n.length;o<i;o+=1){const a=n[o];let c=!1,u=-1;for(;!c&&++u<Jb;){const d=sv[u];let f=d.isMultiMatch(a);f&&(s.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<Jb;){const d=sv[u];let f=d.isSingleMatch(a);if(f){s.push(new d(f,t));break}}}return s})}const hU=new Set([uD.type,dD.type]);class mU{constructor(t,{isCaseSensitive:r=xe.isCaseSensitive,ignoreDiacritics:n=xe.ignoreDiacritics,includeMatches:s=xe.includeMatches,minMatchCharLength:o=xe.minMatchCharLength,ignoreLocation:i=xe.ignoreLocation,findAllMatches:a=xe.findAllMatches,location:c=xe.location,threshold:u=xe.threshold,distance:d=xe.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:c,threshold:u,distance:d},t=r?t:t.toLowerCase(),t=n?Pf(t):t,this.pattern=t,this.query=pU(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s,ignoreDiacritics:o}=this.options;t=s?t:t.toLowerCase(),t=o?Pf(t):t;let i=0,a=[],c=0;for(let u=0,d=r.length;u<d;u+=1){const f=r[u];a.length=0,i=0;for(let p=0,m=f.length;p<m;p+=1){const v=f[p],{isMatch:y,indices:w,score:x}=v.search(t);if(y){if(i+=1,c+=x,n){const g=v.constructor.type;hU.has(g)?a=[...a,...w]:a.push(w)}}else{c=0,i=0,a.length=0;break}}if(i){let p={isMatch:!0,score:c/i};return n&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const ov=[];function gU(...e){ov.push(...e)}function iv(e,t){for(let r=0,n=ov.length;r<n;r+=1){let s=ov[r];if(s.condition(e,t))return new s(e,t)}return new cD(e,t)}const Tf={AND:"$and",OR:"$or"},av={PATH:"$path",PATTERN:"$val"},lv=e=>!!(e[Tf.AND]||e[Tf.OR]),vU=e=>!!e[av.PATH],yU=e=>!_s(e)&&oD(e)&&!lv(e),eS=e=>({[Tf.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function fD(e,t,{auto:r=!0}={}){const n=s=>{let o=Object.keys(s);const i=vU(s);if(!i&&o.length>1&&!lv(s))return n(eS(s));if(yU(s)){const c=i?s[av.PATH]:o[0],u=i?s[av.PATTERN]:s[c];if(!Jn(u))throw new Error(UV(c));const d={keyId:nv(c),pattern:u};return r&&(d.searcher=iv(u,t)),d}let a={children:[],operator:o[0]};return o.forEach(c=>{const u=s[c];_s(u)&&u.forEach(d=>{a.children.push(n(d))})}),a};return lv(e)||(e=eS(e)),n(e)}function xU(e,{ignoreFieldNorm:t=xe.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:s,norm:o,score:i})=>{const a=s?s.weight:null;n*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(t?1:o))}),r.score=n})}function wU(e,t){const r=e.matches;t.matches=[],zr(r)&&r.forEach(n=>{if(!zr(n.indices)||!n.indices.length)return;const{indices:s,value:o}=n;let i={indices:s,value:o};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),t.matches.push(i)})}function bU(e,t){t.score=e.score}function SU(e,t,{includeMatches:r=xe.includeMatches,includeScore:n=xe.includeScore}={}){const s=[];return r&&s.push(wU),n&&s.push(bU),e.map(o=>{const{idx:i}=o,a={item:t[i],refIndex:i};return s.length&&s.forEach(c=>{c(o,a)}),a})}class ll{constructor(t,r={},n){this.options={...xe,...r},this.options.useExtendedSearch,this._keyStore=new qV(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof cx))throw new Error(VV);this._myIndex=r||lD(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){zr(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,s=this._docs.length;n<s;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,s-=1,r.push(o))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let c=Jn(t)?Jn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return xU(c,{ignoreFieldNorm:a}),o&&c.sort(i),sD(r)&&r>-1&&(c=c.slice(0,r)),SU(c,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(t){const r=iv(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:o,i,n:a})=>{if(!zr(o))return;const{isMatch:c,score:u,indices:d}=r.searchIn(o);c&&s.push({item:o,idx:i,matches:[{score:u,value:o,norm:a,indices:d}]})}),s}_searchLogical(t){const r=fD(t,this.options),n=(a,c,u)=>{if(!a.children){const{keyId:f,searcher:p}=a,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:p});return m&&m.length?[{idx:u,item:c,matches:m}]:[]}const d=[];for(let f=0,p=a.children.length;f<p;f+=1){const m=a.children[f],v=n(m,c,u);if(v.length)d.push(...v);else if(a.operator===Tf.AND)return[]}return d},s=this._myIndex.records,o={},i=[];return s.forEach(({$:a,i:c})=>{if(zr(a)){let u=n(r,a,c);u.length&&(o[c]||(o[c]={idx:c,item:a,matches:[]},i.push(o[c])),u.forEach(({matches:d})=>{o[c].matches.push(...d)}))}}),i}_searchObjectList(t){const r=iv(t,this.options),{keys:n,records:s}=this._myIndex,o=[];return s.forEach(({$:i,i:a})=>{if(!zr(i))return;let c=[];n.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:i[d],searcher:r}))}),c.length&&o.push({idx:a,item:i,matches:c})}),o}_findMatches({key:t,value:r,searcher:n}){if(!zr(r))return[];let s=[];if(_s(r))r.forEach(({v:o,i,n:a})=>{if(!zr(o))return;const{isMatch:c,score:u,indices:d}=n.searchIn(o);c&&s.push({score:u,key:t,value:o,idx:i,norm:a,indices:d})});else{const{v:o,n:i}=r,{isMatch:a,score:c,indices:u}=n.searchIn(o);a&&s.push({score:c,key:t,value:o,norm:i,indices:u})}return s}}ll.version="7.1.0";ll.createIndex=lD;ll.parseIndex=tU;ll.config=xe;ll.parseQuery=fD;gU(mU);let Tn=[],po=null,Cs=!1,No=!1;const CU={keys:[{name:"title",weight:.3},{name:"description",weight:.2},{name:"keywords",weight:.3},{name:"category",weight:.1},{name:"searchText",weight:.1}],threshold:.6,distance:100,minMatchCharLength:1,includeScore:!0,ignoreLocation:!0,useExtendedSearch:!0};async function kf(){if(!(No||Cs)){No=!0,console.log("📊 画像検索データの読み込みを開始します");try{let e=await fetch("/knowledge-base/data/image_search_data.json?t="+Date.now(),{cache:"no-store",headers:{pragma:"no-cache","cache-control":"no-cache"}});if(e.ok||(console.log("knowledge-baseから読み込めないため、APIから初期化します"),(await fetch("/api/tech-support/init-image-search-data",{method:"POST"})).ok&&(console.log("APIからの初期化が成功しました"),e=await fetch("/knowledge-base/data/image_search_data.json?t="+Date.now(),{cache:"no-store"}))),e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){Tn=t,Tn=Tn.map(n=>({...n,searchText:[n.title,n.description,...n.keywords||[],n.category].filter(Boolean).join(" ")})),po=new ll(Tn,CU),Cs=!0,console.log(`✅ 画像検索データを読み込みました: ${Tn.length}件`),console.log("🔍 Fuseインスタンスを作成しました");const r=po.search("保守用車");console.log(`🧪 テスト検索結果: ${r.length}件`);return}}throw new Error("データの読み込みに失敗しました")}catch(e){console.error("❌ 画像検索データの読み込みに失敗:",e),Tn=[],po=null,Cs=!1}finally{No=!1}}}async function pD(e){if(console.log("🔍 画像検索開始:",e),!Cs&&!No&&await kf(),No){console.log("⏳ データ読み込み中のため少し待機します...");let t=0;for(;No&&t<50;)await new Promise(r=>setTimeout(r,100)),t++}if(!po||!Cs||Tn.length===0){if(console.log("❌ 検索データまたはFuseインスタンスが利用できません"),console.log("データ状態:",{fuseExists:!!po,isDataLoaded:Cs,dataCount:Tn.length}),Cs)return[];if(console.log("🔄 データの再読み込みを試行します"),await kf(),po&&Tn.length>0)console.log("✅ 再読み込み後にデータが利用可能になりました");else return[]}if(!e||e.trim().length===0)return console.log("⚠️ 検索クエリが空です"),[];try{console.log(`🔍 Fuseで検索実行: "${e}"`),console.log("📊 検索対象データ数:",Tn.length);const t=po.search(e);console.log(`🎯 Fuse検索結果: ${t.length}件`),t.length>0&&t.forEach((n,s)=>{console.log(`結果 ${s+1}: ${n.item.title} (スコア: ${n.score})`)});const r=t.map(n=>n.item).slice(0,10);return console.log(`✅ 最終返却データ: ${r.length}件`),r}catch(t){return console.error("❌ 検索中にエラーが発生:",t),[]}}const EU=async()=>{console.log("🔄 画像検索データを強制的に再読み込みします"),Cs=!1,No=!1,Tn=[],po=null,await kf()},hD=()=>{},NU=async(e,t=!1)=>await pD(e),mD=async()=>{!Cs&&!No&&await kf()};mD();const tS=Object.freeze(Object.defineProperty({__proto__:null,cancelSearch:hD,initializeImageSearch:mD,reloadImageSearchData:EU,searchByText:NU,searchImages:pD},Symbol.toStringTag,{value:"Module"}));function jU({results:e,onClear:t}){const r=nD(),{isMobile:n}=lx();h.useEffect(()=>{if(e&&e.length>0){console.log("🔍 検索結果表示開始 - 継続表示モード");try{hD(),typeof window<"u"&&(window._fuseSearchDisabled=!0)}catch(f){console.warn("検索キャンセルエラー:",f)}console.log("📌 画像検索結果を継続表示します（自動クリアなし）")}},[e.length]);const o=n&&r==="landscape"?"fixed inset-0 z-50 bg-transparent p-4 overflow-auto chat-controls-container":"p-4",i=f=>{if(!f)return console.warn("空の画像パスが渡されました"),"";if(console.log("画像パス修正前:",f),f.startsWith("/knowledge-base/images/"))return console.log("正しいパスのため変更なし:",f),f;const p=f.split("/").pop();if(!p)return console.warn("ファイル名を抽出できませんでした:",f),f;const m=`/knowledge-base/images/${p}`;return console.log("画像パス修正後:",m),m},a=(f,p)=>{var m;try{const v=(m=f.parentElement)==null?void 0:m.querySelector(".loading-placeholder");v&&(v.style.display="none")}catch(v){console.error("画像ロード処理エラー:",v)}},c=(f,p,m=0)=>{try{const v=f.src,y=(p.url||p.file||"").split("/").pop()||"";if(console.error(`画像読み込みエラー (試行${m+1}):`,{src:v,fileName:y}),m<1){const w=`/knowledge-base/images/${y}`;if(w!==v){console.log("画像読み込み再試行:",w),f.src=w,f.onerror=()=>c(f,p,m+1);return}}u(f,p,y)}catch(v){console.error("画像エラーハンドリング処理エラー:",v)}},u=(f,p,m)=>{var w;const v=(w=f.parentElement)==null?void 0:w.querySelector(".loading-placeholder");v&&(v.style.display="none"),f.style.display="none";const y=f.parentElement;if(y&&!y.querySelector(".image-error")){const x=document.createElement("div");x.className="image-error flex items-center justify-center h-full w-full bg-gray-100 text-gray-500 text-sm rounded-md min-h-[150px]",x.innerHTML=`
        <div class="text-center p-4">
          <div class="text-gray-400 mb-2">📷</div>
          <div class="font-medium">画像が見つかりません</div>
          <div class="text-xs mt-1 text-gray-400">${m}</div>
          <div class="text-xs mt-1">${p.title||"タイトル不明"}</div>
        </div>
      `,y.appendChild(x)}},d=e.filter(f=>{const p=f.url||f.file||f.src||f.pngFallback||"";if(console.log("🔍 画像パス取得試行:",{url:f.url,file:f.file,src:f.src,pngFallback:f.pngFallback,finalPath:p}),!p)return console.warn("❌ すべてのプロパティから画像パスが取得できません:",f),!1;const m=p.split("/").pop();return m&&(m.endsWith(".png")||m.endsWith(".jpg")||m.endsWith(".jpeg"))?(console.log(`✅ 画像ファイルを表示対象に追加: ${m} (パス: ${p})`),!0):m?(console.warn(`❌ 画像ファイルとして認識されません: ${m}`),!1):(console.warn(`❌ ファイル名が取得できません - パス: ${p}`),!1)});return console.log(`表示する画像: ${d.length}件 (元: ${e.length}件)`),l.jsxs("div",{className:o,children:[d.length>0&&l.jsx("div",{className:"sticky top-0 bg-blue-600 text-white p-2 z-10 mb-3 rounded-t-md",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"font-medium text-lg",children:["関連画像 (",d.length,"件)"]}),l.jsx("button",{onClick:t,className:"text-white hover:text-blue-200 px-2 py-1 rounded hover:bg-blue-500 transition-colors",title:"画像をクリア",children:"✕ クリア"})]})}),d.length===0?l.jsxs("div",{className:"text-center text-gray-500 p-4",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:"📷"}),l.jsx("div",{children:"表示可能な画像がありません"})]}):l.jsx("div",{className:"flex flex-col gap-4",children:d.map(f=>{const p=f.url||f.file||f.src||f.pngFallback||"",m=i(p);console.log("🖼️ 画像表示:",{resultId:f.id,originalPath:p,fixedPath:m,title:f.title});const v=(y,w)=>{var b;const x=f.description||f.content||"",g=[w,x,f.category?`カテゴリ: ${f.category}`:"",f.keywords?`キーワード: ${f.keywords.join(", ")}`:""].filter(Boolean).join(`

`);window.dispatchEvent(new CustomEvent("preview-image",{detail:{url:y,title:w,content:g,metadata_json:f.metadata_json,all_slides:(b=f.all_slides)==null?void 0:b.map(S=>i(S))}}))};return l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:`relative overflow-hidden cursor-pointer transition-transform duration-200 hover:scale-105 ${n?"aspect-square":"aspect-[4/3]"}`,onClick:()=>v(m,f.title||""),children:[l.jsx("div",{className:"loading-placeholder absolute inset-0 flex items-center justify-center z-0 bg-gray-100 rounded-md",children:l.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-blue-600 border-t-transparent animate-spin"})}),l.jsx("img",{src:m,alt:f.title||"関連画像",className:"absolute inset-0 w-full h-full object-cover z-10 rounded-md",onLoad:y=>{const w=y.currentTarget;a(w),console.log("画像表示成功:",m)},onError:y=>{const w=y.currentTarget;console.error("画像の読み込みに失敗しました:",m),c(w,f)}})]}),n&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 rounded-b-md truncate z-20",children:f.title||"タイトル不明"}),!1]},f.id)})})]})}var PU=$v[" useId ".trim().toString()]||(()=>{}),TU=0;function jo(e){const[t,r]=h.useState(PU());return Wt(()=>{r(n=>n??String(TU++))},[e]),t?`radix-${t}`:""}var rm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",rS={bubbles:!1,cancelable:!0},kU="FocusScope",Cp=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=bt(s),d=bt(o),f=h.useRef(null),p=we(t,y=>c(y)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let y=function(b){if(m.paused||!a)return;const S=b.target;a.contains(S)?f.current=S:Hs(f.current,{select:!0})},w=function(b){if(m.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||Hs(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Hs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const g=new MutationObserver(x);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),g.disconnect()}}},[n,a,m.paused]),h.useEffect(()=>{if(a){sS.add(m);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(rm,rS);a.addEventListener(rm,u),a.dispatchEvent(x),x.defaultPrevented||(AU(OU(gD(a)),{select:!0}),document.activeElement===y&&Hs(a))}return()=>{a.removeEventListener(rm,u),setTimeout(()=>{const x=new CustomEvent(nm,rS);a.addEventListener(nm,d),a.dispatchEvent(x),x.defaultPrevented||Hs(y??document.body,{select:!0}),a.removeEventListener(nm,d),sS.remove(m)},0)}}},[a,u,d,m]);const v=h.useCallback(y=>{if(!r&&!n||m.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(w&&x){const g=y.currentTarget,[b,S]=DU(g);b&&S?!y.shiftKey&&x===S?(y.preventDefault(),r&&Hs(b,{select:!0})):y.shiftKey&&x===b&&(y.preventDefault(),r&&Hs(S,{select:!0})):x===g&&y.preventDefault()}},[r,n,m.paused]);return l.jsx(ue.div,{tabIndex:-1,...i,ref:p,onKeyDown:v})});Cp.displayName=kU;function AU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Hs(n,{select:t}),document.activeElement!==r)return}function DU(e){const t=gD(e),r=nS(t,e),n=nS(t.reverse(),e);return[r,n]}function gD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nS(e,t){for(const r of e)if(!RU(r,{upTo:t}))return r}function RU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IU(e){return e instanceof HTMLInputElement&&"select"in e}function Hs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&IU(e)&&t&&e.select()}}var sS=_U();function _U(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=oS(e,t),e.unshift(t)},remove(t){var r;e=oS(e,t),(r=e[0])==null||r.resume()}}}function oS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function OU(e){return e.filter(t=>t.tagName!=="A")}var sm=0;function ux(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iS()),document.body.insertAdjacentElement("beforeend",e[1]??iS()),sm++,()=>{sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sm--}},[])}function iS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xn=function(){return Xn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Xn.apply(this,arguments)};function vD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function MU(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Od="right-scroll-bar-position",Md="width-before-scroll-bar",LU="with-scroll-bars-hidden",FU="--removed-body-scroll-bar-size";function om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $U(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var BU=typeof window<"u"?h.useLayoutEffect:h.useEffect,aS=new WeakMap;function zU(e,t){var r=$U(null,function(n){return e.forEach(function(s){return om(s,n)})});return BU(function(){var n=aS.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||om(a,null)}),o.forEach(function(a){s.has(a)||om(a,i)})}aS.set(r,e)},[e]),r}function VU(e){return e}function UU(e,t){t===void 0&&(t=VU);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function WU(e){e===void 0&&(e={});var t=UU(null);return t.options=Xn({async:!0,ssr:!1},e),t}var yD=function(e){var t=e.sideCar,r=vD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Xn({},r))};yD.isSideCarExport=!0;function HU(e,t){return e.useMedium(t),yD}var xD=WU(),im=function(){},Ep=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:im,onWheelCapture:im,onTouchMoveCapture:im}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,m=e.noRelative,v=e.noIsolation,y=e.inert,w=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,b=e.gapMode,S=vD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,E=zU([r,t]),N=Xn(Xn({},S),s);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:xD,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:y,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:b}),i?h.cloneElement(h.Children.only(a),Xn(Xn({},N),{ref:E})):h.createElement(g,Xn({},N,{className:c,ref:E}),a))});Ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ep.classNames={fullWidth:Md,zeroRight:Od};var GU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GU();return t&&e.setAttribute("nonce",t),e}function KU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function QU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qU())&&(KU(t,r),QU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XU=function(){var e=YU();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},wD=function(){var e=XU(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ZU={left:0,top:0,right:0,gap:0},am=function(e){return parseInt(e||"",10)||0},JU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[am(r),am(n),am(s)]},e8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZU;var t=JU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},t8=wD(),xa="data-scroll-locked",r8=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(LU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(xa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Od,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xa,`] {
    `).concat(FU,": ").concat(a,`px;
  }
`)},lS=function(){var e=parseInt(document.body.getAttribute(xa)||"0",10);return isFinite(e)?e:0},n8=function(){h.useEffect(function(){return document.body.setAttribute(xa,(lS()+1).toString()),function(){var e=lS()-1;e<=0?document.body.removeAttribute(xa):document.body.setAttribute(xa,e.toString())}},[])},s8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;n8();var o=h.useMemo(function(){return e8(s)},[s]);return h.createElement(t8,{styles:r8(o,!t,s,r?"":"!important")})},cv=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return cv=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{cv=!1}var Hi=cv?{passive:!1}:!1,o8=function(e){return e.tagName==="TEXTAREA"},bD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!o8(e)&&r[t]==="visible")},i8=function(e){return bD(e,"overflowY")},a8=function(e){return bD(e,"overflowX")},cS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=SD(e,n);if(s){var o=CD(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},l8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},c8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},SD=function(e,t){return e==="v"?i8(t):a8(t)},CD=function(e,t){return e==="v"?l8(t):c8(t)},u8=function(e,t){return e==="h"&&t==="rtl"?-1:1},d8=function(e,t,r,n,s){var o=u8(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,f=0,p=0;do{if(!a)break;var m=CD(e,a),v=m[0],y=m[1],w=m[2],x=y-w-o*v;(v||x)&&SD(e,a)&&(f+=x,p+=v);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},id=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uS=function(e){return[e.deltaX,e.deltaY]},dS=function(e){return e&&"current"in e?e.current:e},f8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h8=0,Gi=[];function m8(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(h8++)[0],o=h.useState(wD)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=MU([e.lockRef.current],(e.shards||[]).map(dS),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=id(y),g=r.current,b="deltaX"in y?y.deltaX:g[0]-x[0],S="deltaY"in y?y.deltaY:g[1]-x[1],C,E=y.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in y&&N==="h"&&E.type==="range")return!1;var j=cS(N,E);if(!j)return!0;if(j?C=N:(C=N==="v"?"h":"v",j=cS(N,E)),!j)return!1;if(!n.current&&"changedTouches"in y&&(b||S)&&(n.current=C),!C)return!0;var T=n.current||C;return d8(T,w,y,T==="h"?b:S)},[]),c=h.useCallback(function(y){var w=y;if(!(!Gi.length||Gi[Gi.length-1]!==o)){var x="deltaY"in w?uS(w):id(w),g=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&f8(C.delta,x)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var b=(i.current.shards||[]).map(dS).filter(Boolean).filter(function(C){return C.contains(w.target)}),S=b.length>0?a(w,b[0]):!i.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(y,w,x,g){var b={name:y,delta:w,target:x,should:g,shadowParent:g8(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=h.useCallback(function(y){r.current=id(y),n.current=void 0},[]),f=h.useCallback(function(y){u(y.type,uS(y),y.target,a(y,e.lockRef.current))},[]),p=h.useCallback(function(y){u(y.type,id(y),y.target,a(y,e.lockRef.current))},[]);h.useEffect(function(){return Gi.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Hi),document.addEventListener("touchmove",c,Hi),document.addEventListener("touchstart",d,Hi),function(){Gi=Gi.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,Hi),document.removeEventListener("touchmove",c,Hi),document.removeEventListener("touchstart",d,Hi)}},[]);var m=e.removeScrollBar,v=e.inert;return h.createElement(h.Fragment,null,v?h.createElement(o,{styles:p8(s)}):null,m?h.createElement(s8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function g8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const v8=HU(xD,m8);var Np=h.forwardRef(function(e,t){return h.createElement(Ep,Xn({},e,{ref:t,sideCar:v8}))});Np.classNames=Ep.classNames;var y8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qi=new WeakMap,ad=new WeakMap,ld={},lm=0,ED=function(e){return e&&(e.host||ED(e.parentNode))},x8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ED(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},w8=function(e,t,r,n){var s=x8(t,Array.isArray(e)?e:[e]);ld[r]||(ld[r]=new WeakMap);var o=ld[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(n),v=m!==null&&m!=="false",y=(qi.get(p)||0)+1,w=(o.get(p)||0)+1;qi.set(p,y),o.set(p,w),i.push(p),y===1&&v&&ad.set(p,!0),w===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),a.clear(),lm++,function(){i.forEach(function(f){var p=qi.get(f)-1,m=o.get(f)-1;qi.set(f,p),o.set(f,m),p||(ad.has(f)||f.removeAttribute(n),ad.delete(f)),m||f.removeAttribute(r)}),lm--,lm||(qi=new WeakMap,qi=new WeakMap,ad=new WeakMap,ld={})}},dx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=y8(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),w8(n,s,r,"aria-hidden")):function(){return null}},jp="Dialog",[ND,jD]=Er(jp),[b8,Bn]=ND(jp),PD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u,d]=Rs({prop:n,defaultProp:s??!1,onChange:o,caller:jp});return l.jsx(b8,{scope:t,triggerRef:a,contentRef:c,contentId:jo(),titleId:jo(),descriptionId:jo(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};PD.displayName=jp;var TD="DialogTrigger",kD=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(TD,r),o=we(t,s.triggerRef);return l.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hx(s.open),...n,ref:o,onClick:Q(e.onClick,s.onOpenToggle)})});kD.displayName=TD;var fx="DialogPortal",[S8,AD]=ND(fx,{forceMount:void 0}),DD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Bn(fx,t);return l.jsx(S8,{scope:t,forceMount:r,children:h.Children.map(n,i=>l.jsx(Nr,{present:r||o.open,children:l.jsx(ou,{asChild:!0,container:s,children:i})}))})};DD.displayName=fx;var Af="DialogOverlay",RD=h.forwardRef((e,t)=>{const r=AD(Af,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Bn(Af,e.__scopeDialog);return o.modal?l.jsx(Nr,{present:n||o.open,children:l.jsx(E8,{...s,ref:t})}):null});RD.displayName=Af;var C8=Wa("DialogOverlay.RemoveScroll"),E8=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(Af,r);return l.jsx(Np,{as:C8,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ue.div,{"data-state":hx(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ai="DialogContent",ID=h.forwardRef((e,t)=>{const r=AD(Ai,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Bn(Ai,e.__scopeDialog);return l.jsx(Nr,{present:n||o.open,children:o.modal?l.jsx(N8,{...s,ref:t}):l.jsx(j8,{...s,ref:t})})});ID.displayName=Ai;var N8=h.forwardRef((e,t)=>{const r=Bn(Ai,e.__scopeDialog),n=h.useRef(null),s=we(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return dx(o)},[]),l.jsx(_D,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault())})}),j8=h.forwardRef((e,t)=>{const r=Bn(Ai,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(_D,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),_D=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Bn(Ai,r),c=h.useRef(null),u=we(t,c);return ux(),l.jsxs(l.Fragment,{children:[l.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(su,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hx(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(T8,{titleId:a.titleId}),l.jsx(A8,{contentRef:c,descriptionId:a.descriptionId})]})]})}),px="DialogTitle",OD=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(px,r);return l.jsx(ue.h2,{id:s.titleId,...n,ref:t})});OD.displayName=px;var MD="DialogDescription",LD=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(MD,r);return l.jsx(ue.p,{id:s.descriptionId,...n,ref:t})});LD.displayName=MD;var FD="DialogClose",$D=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(FD,r);return l.jsx(ue.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});$D.displayName=FD;function hx(e){return e?"open":"closed"}var BD="DialogTitleWarning",[P8,zD]=Q$(BD,{contentName:Ai,titleName:px,docsSlug:"dialog"}),T8=({titleId:e})=>{const t=zD(BD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},k8="DialogDescriptionWarning",A8=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zD(k8).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},mx=PD,gx=kD,vx=DD,fu=RD,pu=ID,hu=OD,mu=LD,Pp=$D;const Ns=mx,VD=gx,D8=vx,UD=h.forwardRef(({className:e,...t},r)=>l.jsx(fu,{ref:r,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UD.displayName=fu.displayName;const ss=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(D8,{children:[l.jsx(UD,{}),l.jsxs(pu,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(Pp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ss.displayName=pu.displayName;const js=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});js.displayName="DialogHeader";const xi=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xi.displayName="DialogFooter";const os=h.forwardRef(({className:e,...t},r)=>l.jsx(hu,{ref:r,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));os.displayName=hu.displayName;const Po=h.forwardRef(({className:e,...t},r)=>l.jsx(mu,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));Po.displayName=mu.displayName;function Tp(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function kp(e){const[t,r]=h.useState(void 0);return Wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ap="Switch",[R8,pJ]=Er(Ap),[I8,_8]=R8(Ap),WD=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,m]=h.useState(null),v=we(t,b=>m(b)),y=h.useRef(!1),w=p?d||!!p.closest("form"):!0,[x,g]=Rs({prop:s,defaultProp:o??!1,onChange:u,caller:Ap});return l.jsxs(I8,{scope:r,checked:x,disabled:a,children:[l.jsx(ue.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":KD(x),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:v,onClick:Q(e.onClick,b=>{g(S=>!S),w&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),w&&l.jsx(qD,{control:p,bubbles:!y.current,name:n,value:c,checked:x,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});WD.displayName=Ap;var HD="SwitchThumb",GD=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=_8(HD,r);return l.jsx(ue.span,{"data-state":KD(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});GD.displayName=HD;var O8="SwitchBubbleInput",qD=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),a=we(i,o),c=Tp(r),u=kp(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qD.displayName=O8;function KD(e){return e?"checked":"unchecked"}var QD=WD,M8=GD;const Qs=h.forwardRef(({className:e,...t},r)=>l.jsx(QD,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(M8,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qs.displayName=QD.displayName;function L8(){const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[s,o]=h.useState(!1),[i,a]=h.useState(null),[c,u]=h.useState(null),[d]=h.useState(!0),f=h.useRef(null),p=h.useRef(null),m=h.useRef([]),{captureImage:v,sendMessage:y}=uu(),{toast:w}=Cr(),x=nD();h.useEffect(()=>{const T=()=>t(!0);return window.addEventListener("open-camera",T),()=>{window.removeEventListener("open-camera",T)}},[]),h.useEffect(()=>{e?setTimeout(()=>{g()},300):b()},[e]);const g=async()=>{try{c&&c.getTracks().forEach(O=>O.stop()),console.log("カメラ開始: facingMode =",d?"environment":"user");const T={video:{facingMode:d?"environment":"user",width:{ideal:1280},height:{ideal:720}},audio:r},P=await navigator.mediaDevices.getUserMedia(T);u(P),f.current&&(f.current.srcObject=P)}catch(T){console.error("Error accessing camera:",T),w({title:"カメラエラー",description:"カメラにアクセスできませんでした: "+(T instanceof Error?T.message:String(T)),variant:"destructive"})}},b=()=>{c&&(c.getTracks().forEach(T=>T.stop()),u(null)),s&&E(),a(null)},S=()=>{if(f.current)if(r)s?E():C();else{const T=document.createElement("canvas"),P=f.current,O=874,D=1240;let{videoWidth:_,videoHeight:k}=P;if(_>O||k>D){const I=_/k;_>k?(_=O,k=O/I):(k=D,_=D*I)}T.width=_,T.height=k;const F=T.getContext("2d");if(F&&P){F.drawImage(P,0,0,_,k);try{const I=T.toDataURL("image/jpeg",.4);if(!I.startsWith("data:image/")){console.error("Base64データの形式が不正です:",I.substring(0,50)),console.error("canvas.toDataURL()の結果:",typeof I,I.length);return}console.log("✅ 撮影画像をBase64形式で生成成功:",{format:"image/jpeg",quality:.4,resolution:"150dpi相当",originalSize:`${P.videoWidth}x${P.videoHeight}`,compressedSize:`${_}x${k}`,maxResolution:`${O}x${D}`,dataLength:I.length,dataSizeMB:(I.length/1024/1024).toFixed(2),isValidBase64:I.startsWith("data:image/jpeg;base64,"),mimeType:I.split(";")[0],preview:I.substring(0,50)+"..."}),a(I)}catch(I){console.error("canvas.toDataURL()でエラーが発生:",I)}}}},C=()=>{if(m.current=[],c){const T=new MediaRecorder(c);p.current=T,T.ondataavailable=P=>{P.data.size>0&&m.current.push(P.data)},T.onstop=()=>{const P=new Blob(m.current,{type:"video/mp4"}),O=URL.createObjectURL(P);a(O),o(!1)},T.start(),o(!0)}},E=()=>{p.current&&s&&p.current.stop()},N=async()=>{if(i)try{console.log("撮影した画像をチャットに送信します");let T=i;if(!i.startsWith("data:image/")){if(console.log("画像データがBase64形式ではありません。変換します:",typeof i),typeof i=="object"){console.error("画像データがオブジェクト形式です。Base64変換が必要です。");return}T=`data:image/jpeg;base64,${i}`}console.log("送信する画像データ:",{isBase64:T.startsWith("data:image/"),urlLength:T.length,mimeType:T.split(";")[0],preview:T.substring(0,50)+"..."}),await y(T),t(!1),a(null)}catch(T){console.error("画像送信エラー:",T)}},j=()=>{s&&E(),n(!r),a(null),b(),setTimeout(()=>g(),300)};return l.jsx(Ns,{open:e,onOpenChange:t,children:l.jsxs(ss,{className:`${x==="landscape"?"max-w-3xl":"max-w-md"} p-0 overflow-hidden bg-blue-50 border border-blue-200 camera-modal`,"aria-describedby":"camera-modal-desc",children:[l.jsx(os,{className:"sr-only",children:"カメラ"}),l.jsx("div",{id:"camera-modal-desc",className:"sr-only",children:"写真や動画を撮影するためのカメラモーダル"}),l.jsxs(js,{className:"p-4 border-b border-blue-200 flex flex-row justify-between items-center bg-blue-100",children:[l.jsx(os,{className:"text-indigo-600 text-lg font-bold",children:"カメラ起動"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center bg-white px-2 py-1 rounded-full",children:[l.jsx(l3,{className:"h-6 w-6 mr-2 text-indigo-600"}),l.jsx(Qs,{id:"camera-mode",checked:r,onCheckedChange:j}),l.jsx(f3,{className:"h-6 w-6 ml-2 text-indigo-600"})]}),l.jsx(H,{variant:"ghost",size:"icon",className:"p-2 rounded-full hover:bg-blue-200 text-blue-700",onClick:()=>t(!1),children:l.jsx(Oo,{})})]})]}),l.jsxs("div",{className:"relative bg-black",children:[i?r?l.jsx("video",{src:i,controls:!0,className:`w-full ${x==="landscape"?"h-64":"h-80"} bg-neutral-800 object-contain`,onClick:()=>window.dispatchEvent(new CustomEvent("preview-image",{detail:{url:i}}))}):l.jsx("img",{src:i,alt:"Captured",className:`w-full ${x==="landscape"?"h-64":"h-80"} bg-neutral-800 object-contain`,onClick:()=>window.dispatchEvent(new CustomEvent("preview-image",{detail:{url:i}}))}):l.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full ${x==="landscape"?"h-64":"h-80"} bg-neutral-800 object-cover`}),!i&&l.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:r?l.jsx(l.Fragment,{children:s?l.jsxs(l.Fragment,{children:[l.jsx(H,{className:"bg-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg",variant:"outline",size:"icon",onClick:E,children:l.jsx(n3,{className:"h-6 w-6 text-blue-600"})}),l.jsx(H,{className:"bg-red-500 rounded-full w-14 h-14 flex items-center justify-center shadow-lg",variant:"outline",size:"icon",onClick:E,children:l.jsx(a3,{className:"h-6 w-6 text-white"})})]}):l.jsx(H,{className:"bg-blue-600 rounded-full w-16 h-16 flex items-center justify-center shadow-lg border-2 border-white",variant:"outline",size:"icon",onClick:C,children:l.jsx(Lg,{className:"h-8 w-8 text-white"})})}):l.jsx(H,{className:"bg-blue-600 rounded-full w-16 h-16 flex items-center justify-center shadow-lg border-2 border-white",variant:"outline",size:"icon",onClick:S,children:l.jsx(Lg,{className:"h-12 w-12 text-white"})})})]}),l.jsx("div",{className:"p-4 bg-blue-50",children:i?l.jsx(H,{className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium text-lg",onClick:N,children:"送信する"}):l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("p",{className:"text-sm text-blue-700 font-medium",children:r?s?"録画中... 停止するには□をタップ":"◎ をタップして録画開始":"○ をタップして写真撮影"})})})]})})}var F8=h.createContext(void 0);function cl(e){const t=h.useContext(F8);return e||t||"ltr"}var cm="rovingFocusGroup.onEntryFocus",$8={bubbles:!1,cancelable:!0},gu="RovingFocusGroup",[uv,YD,B8]=nu(gu),[z8,Dp]=Er(gu,[B8]),[V8,U8]=z8(gu),XD=h.forwardRef((e,t)=>l.jsx(uv.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(uv.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(W8,{...e,ref:t})})}));XD.displayName=gu;var W8=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),m=we(t,p),v=cl(o),[y,w]=Rs({prop:i,defaultProp:a??null,onChange:c,caller:gu}),[x,g]=h.useState(!1),b=bt(u),S=YD(r),C=h.useRef(!1),[E,N]=h.useState(0);return h.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(cm,b),()=>j.removeEventListener(cm,b)},[b]),l.jsx(V8,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(j=>w(j),[w]),onItemShiftTab:h.useCallback(()=>g(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:h.useCallback(()=>N(j=>j-1),[]),children:l.jsx(ue.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{C.current=!0}),onFocus:Q(e.onFocus,j=>{const T=!C.current;if(j.target===j.currentTarget&&T&&!x){const P=new CustomEvent(cm,$8);if(j.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=S().filter(I=>I.focusable),D=O.find(I=>I.active),_=O.find(I=>I.id===y),F=[D,_,...O].filter(Boolean).map(I=>I.ref.current);eR(F,d)}}C.current=!1}),onBlur:Q(e.onBlur,()=>g(!1))})})}),ZD="RovingFocusGroupItem",JD=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=jo(),u=o||c,d=U8(ZD,r),f=d.currentTabStopId===u,p=YD(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:y}=d;return h.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),l.jsx(uv.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:l.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Q(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=q8(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=p().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const S=b.indexOf(w.currentTarget);b=d.loop?K8(b,S+1):b.slice(S+1)}setTimeout(()=>eR(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});JD.displayName=ZD;var H8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function q8(e,t,r){const n=G8(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return H8[n]}function eR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function K8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var tR=XD,rR=JD,Rp="Tabs",[Q8,hJ]=Er(Rp,[Dp]),nR=Dp(),[Y8,yx]=Q8(Rp),sR=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=cl(a),[f,p]=Rs({prop:n,onChange:s,defaultProp:o??"",caller:Rp});return l.jsx(Y8,{scope:r,baseId:jo(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:l.jsx(ue.div,{dir:d,"data-orientation":i,...u,ref:t})})});sR.displayName=Rp;var oR="TabsList",iR=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=yx(oR,r),i=nR(r);return l.jsx(tR,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(ue.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});iR.displayName=oR;var aR="TabsTrigger",lR=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=yx(aR,r),a=nR(r),c=dR(i.baseId,n),u=fR(i.baseId,n),d=n===i.value;return l.jsx(rR,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:Q(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Q(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Q(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});lR.displayName=aR;var cR="TabsContent",uR=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=yx(cR,r),c=dR(a.baseId,n),u=fR(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Nr,{present:s||d,children:({present:p})=>l.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});uR.displayName=cR;function dR(e,t){return`${e}-trigger-${t}`}function fR(e,t){return`${e}-content-${t}`}var X8=sR,pR=iR,hR=lR,mR=uR;const Ip=X8,vu=h.forwardRef(({className:e,...t},r)=>l.jsx(pR,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vu.displayName=pR.displayName;const is=h.forwardRef(({className:e,...t},r)=>l.jsx(hR,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));is.displayName=hR.displayName;const as=h.forwardRef(({className:e,...t},r)=>l.jsx(mR,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));as.displayName=mR.displayName;function um(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://")||e.includes("/knowledge-base/images/"))return e;if(e.includes("/uploads/"))return e.replace("/uploads/","/knowledge-base/");if(e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".svg")){const t=e.split("/").pop();if(t)return t.endsWith(".svg")?`/knowledge-base/images/${t.replace(".svg",".png")}`:`/knowledge-base/images/${t}`}return e}function Z8(){var T,P;const[e,t]=h.useState(!1),[r,n]=h.useState(""),[s,o]=h.useState(""),[i,a]=h.useState(""),[c,u]=h.useState([]),[d,f]=h.useState(0),[p,m]=h.useState(null),[v,y]=h.useState(!1),w=!1,[x,g]=h.useState("画像プレビュー"),[b,S]=h.useState(""),C=async O=>{try{y(!0);const D=await fetch(O);if(!D.ok)throw new Error("Metadata fetch failed");const _=await D.json();m(_)}catch(D){console.error("Failed to load metadata:",D),m(null)}finally{y(!1)}},E=O=>{if(!c.length)return;let D;O==="next"?D=(d+1)%c.length:D=(d-1+c.length)%c.length,f(D);const _=c[D];n(_),o("")};h.useEffect(()=>{const O=D=>{const _=D;if(_.detail){if(_.detail.url&&n(_.detail.url),_.detail.pngFallbackUrl?o(_.detail.pngFallbackUrl):o(""),_.detail.title?g(_.detail.title):g("画像プレビュー"),_.detail.content?S(_.detail.content):S(""),_.detail.metadata_json?(a(_.detail.metadata_json),C(_.detail.metadata_json)):(a(""),m(null)),_.detail.all_slides&&Array.isArray(_.detail.all_slides)){u(_.detail.all_slides);const k=_.detail.all_slides.findIndex(F=>F===_.detail.url);f(k>=0?k:0)}else u([]),f(0);t(!0)}};return window.addEventListener("preview-image",O),()=>{window.removeEventListener("preview-image",O)}},[]);const j=(()=>{if(!p||!p.slides)return null;const O=d+1;return p.slides.find(D=>D.スライド番号===O)})();return l.jsx(Ns,{open:e,onOpenChange:t,children:l.jsxs(ss,{className:"max-w-5xl bg-black bg-opacity-90 border border-blue-400 flex flex-col items-center justify-center p-0 rounded-xl","aria-labelledby":"dialog-title","aria-describedby":"dialog-description image-preview-description",children:[l.jsxs("div",{className:"sr-only",children:[l.jsx("h2",{id:"dialog-title",children:((T=p==null?void 0:p.metadata)==null?void 0:T.タイトル)||x}),l.jsx("p",{id:"dialog-description",children:"拡大画像ビューワー"}),l.jsx("p",{id:"image-preview-description",children:"画像のプレビュー表示と関連情報の確認ができます"})]}),l.jsxs("div",{className:"w-full flex justify-between items-center p-2 bg-blue-700 text-white",children:[l.jsxs("h3",{className:"text-sm font-medium ml-2",children:[((P=p==null?void 0:p.metadata)==null?void 0:P.タイトル)||x,c.length>1&&` - スライド ${d+1}/${c.length}`]}),l.jsx("div",{className:"flex items-center",children:l.jsx(H,{className:"text-white hover:bg-blue-600 rounded-full",variant:"ghost",size:"icon",onClick:()=>t(!1),children:l.jsx(Oo,{className:"h-5 w-5"})})})]}),l.jsxs("div",{className:"relative w-full max-h-[70vh] flex items-center justify-center p-2",children:[c.length>1&&l.jsx(H,{className:"absolute left-2 z-10 bg-blue-600 hover:bg-blue-700 text-white rounded-full opacity-75 hover:opacity-100",size:"icon",onClick:()=>E("prev"),children:l.jsx(HB,{className:"h-5 w-5"})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-0 bg-gray-50",children:l.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-blue-600 border-t-transparent animate-spin"})}),l.jsx("img",{src:um(r||""),alt:(j==null?void 0:j.タイトル)||x||"拡大画像",className:"max-w-full max-h-[70vh] object-contain rounded-lg border border-blue-500 z-10 relative",loading:"eager",decoding:"async",onLoad:O=>{const D=O.currentTarget;D.classList.add("loaded");const _=D.parentElement;_&&_.querySelectorAll(".animate-spin").forEach(F=>{F.parentElement&&(F.parentElement.style.display="none")})},onError:O=>{const D=O.currentTarget,_=D.src||"";console.log("画像表示エラー:",_);try{if(s&&s.trim()!==""){console.log("指定されたフォールバックURLを使用:",s),D.src=um(s);return}if(_.endsWith(".svg")){console.log("SVG->PNGのフォールバック");const F=_.replace(".svg",".png");D.src=F;return}if(_.endsWith(".jpeg")||_.endsWith(".jpg")){console.log("JPEG->PNGのフォールバック");const F=_.replace(/\.(jpeg|jpg)$/,".png");D.src=F;return}if(!_.includes("/knowledge-base/")){const F=_.split("/").pop();if(F){console.log("パス形式エラー、knowledge-baseパスに修正"),D.src=`/knowledge-base/images/${F}`;return}}if(c.length>1){const F=(d+1)%c.length;console.log(`現在のスライドが表示できないため、次のスライド(${F})に切り替え`),E("next");return}console.log("すべてのフォールバック試行が失敗、エラー表示");const k=D.parentElement;if(k&&(D.style.opacity="0.2",!k.querySelector(".error-message"))){const F=document.createElement("div");F.className="error-message absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-50 text-white p-4 rounded-lg z-20";const I=document.createElement("p");I.className="text-xl mb-2",I.textContent="画像を読み込めませんでした";const U=document.createElement("p");U.className="text-sm",U.textContent=_.split("/").pop()||"",F.appendChild(I),F.appendChild(U),k.appendChild(F)}}catch(k){console.error("エラー処理中に例外が発生:",k)}}}),c.length>1&&l.jsx(H,{className:"absolute right-2 z-10 bg-blue-600 hover:bg-blue-700 text-white rounded-full opacity-75 hover:opacity-100",size:"icon",onClick:()=>E("next"),children:l.jsx(T2,{className:"h-5 w-5"})})]}),w,c.length>1&&l.jsx("div",{className:"w-full px-2 py-3 border-t border-blue-500 overflow-x-auto flex bg-gray-800",children:c.map((O,D)=>l.jsx("div",{className:`flex-shrink-0 mx-1 cursor-pointer transition-all ${D===d?"border-2 border-blue-500 scale-105":"border border-gray-600 hover:border-blue-400"}`,onClick:()=>{f(D),n(O),o("")},children:l.jsxs("div",{className:"relative h-16 w-24",children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-700 z-0",children:l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-blue-500 border-t-transparent animate-spin"})}),l.jsx("img",{src:um(O),alt:`スライド ${D+1}`,className:"h-16 w-24 object-cover relative z-10",loading:"eager",decoding:"async",onLoad:_=>{const F=_.currentTarget.parentElement;F&&F.querySelectorAll(".animate-spin").forEach(U=>{U.parentElement&&(U.parentElement.style.display="none")})},onError:_=>{console.log(`サムネイル(${D})読み込みエラー`);const k=_.currentTarget;k.style.opacity="0.3";const F=k.parentElement;if(F){const I=document.createElement("div");I.className="absolute inset-0 flex items-center justify-center z-20 bg-black bg-opacity-50 text-white text-xs",I.textContent="読込エラー",F.appendChild(I)}}})]})},D))})]})})}function J8({id:e,onComplete:t,onExit:r}){const[n,s]=h.useState(null),[o,i]=h.useState(""),[a,c]=h.useState(!0),[u,d]=h.useState("");h.useEffect(()=>{e&&(async()=>{try{c(!0),console.log(`🔄 フローデータ取得開始: ${e}`);const g=await fetch(`/api/emergency-flow/${e}`);if(!g.ok)throw new Error(`Failed to fetch flow data: ${g.status}`);const b=await g.json();console.log("✅ フローデータ取得完了:",b),s(b),b.steps&&b.steps.length>0&&i(b.steps[0].id)}catch(g){console.error("❌ Flow data fetch error:",g),d("フローデータの取得に失敗しました")}finally{c(!1)}})()},[e]);const f=()=>!n||!o?null:n.steps.find(x=>x.id===o)||null,p=x=>{if(n)if(x)x==="complete"?t():i(x);else{const g=n.steps.findIndex(b=>b.id===o);g<n.steps.length-1?i(n.steps[g+1].id):t()}},m=()=>{if(!n)return;const x=n.steps.findIndex(g=>g.id===o);x>0&&i(n.steps[x-1].id)};if(a)return l.jsx(rt,{className:"w-full max-w-4xl mx-auto",children:l.jsx(nt,{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})});if(u||!n)return l.jsxs(rt,{className:"w-full max-w-4xl mx-auto",children:[l.jsx(ar,{children:l.jsx(lr,{className:"text-red-600",children:"エラー"})}),l.jsxs(nt,{children:[l.jsx("p",{className:"mb-4",children:u||"フローデータが見つかりません"}),l.jsx(H,{onClick:r,children:"戻る"})]})]});const v=f(),y=n.steps.findIndex(x=>x.id===o),w=y===n.steps.length-1;return l.jsxs(rt,{className:"w-full max-w-4xl mx-auto",children:[l.jsx(ar,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(H,{variant:"ghost",size:"sm",onClick:r,children:[l.jsx(Pc,{className:"h-4 w-4"}),"戻る"]}),l.jsx(lr,{className:"text-xl",children:n.title})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["ステップ ",y+1," / ",n.steps.length]})]})}),l.jsx(nt,{children:v&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:v.title}),l.jsx("div",{className:"text-blue-800 whitespace-pre-line",children:v.message||v.description})]}),v.imageUrl&&l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:v.imageUrl,alt:v.title,className:"max-w-full h-auto rounded-lg border"})}),l.jsxs("div",{className:"flex justify-between items-center pt-4",children:[l.jsx(H,{variant:"outline",onClick:m,disabled:y===0,children:"前へ"}),l.jsx("div",{className:"flex flex-col gap-2 max-h-72 overflow-auto w-full max-w-xs ml-4",children:v.options&&v.options.length>0?v.options.map((x,g)=>l.jsx(H,{onClick:()=>p(x.nextStepId),className:"w-full",children:x.text},g)):l.jsx(H,{onClick:()=>p(),className:"w-full",children:w?l.jsxs(l.Fragment,{children:[l.jsx(Gy,{className:"h-4 w-4 mr-2"}),"完了"]}):"次へ"})})]})]})})]})}function eW({initialSearchKeyword:e=""}){const{toast:t}=Cr(),[r,n]=h.useState(!0),[s,o]=h.useState([]),[i,a]=h.useState(e||""),[c,u]=h.useState([]),[d,f]=h.useState(null),p=async()=>{try{n(!0),console.log("🔄 フロー一覧取得開始");const g=await fetch("/api/emergency-flow/list");if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const b=await g.json();console.log("✅ 取得したフローデータ:",b);const S=b.map(C=>({id:C.id,title:C.title||"タイトルなし",description:C.description||C.title||"説明なし",trigger:C.trigger||C.triggerKeywords||[],source:C.dataSource||"unknown"}));console.log("📋 正規化されたフローデータ:",S),o(S),u(S)}catch(g){console.error("❌ フロー取得エラー:",g),t({title:"エラー",description:"フローの取得に失敗しました",variant:"destructive"})}finally{n(!1)}};h.useEffect(()=>{p()},[]),h.useEffect(()=>{if(e&&e.trim()&&s.length>0){const g=e.toLowerCase(),b=s.filter(S=>S.id.toLowerCase().includes(g)||S.description.toLowerCase().includes(g)||S.trigger&&S.trigger.some(C=>C.toLowerCase().includes(g)));u(b),b.length===1&&f(b[0].id)}},[e,s]),h.useEffect(()=>{if(!i.trim()){u(s);return}const g=i.toLowerCase(),b=s.filter(S=>S.id.toLowerCase().includes(g)||S.description.toLowerCase().includes(g)||S.trigger&&S.trigger.some(C=>C.toLowerCase().includes(g)));u(b)},[i,s]);const m=g=>{console.log("🎯 フロー選択:",g),f(g)},v=()=>{f(null)},y=()=>{t({title:"完了",description:"トラブルシューティングが完了しました"}),f(null)},w=()=>{a("")},x=async()=>{if(i.trim())try{n(!0),console.log("🔍 ローカル検索実行:",i);const g=i.toLowerCase(),b=s.filter(S=>S.id.toLowerCase().includes(g)||S.title.toLowerCase().includes(g)||S.description.toLowerCase().includes(g)||S.trigger&&S.trigger.some(C=>C.toLowerCase().includes(g)));console.log("🔍 検索結果:",b.length,"件"),u(b)}catch(g){console.error("❌ 検索処理に失敗しました:",g),t({title:"エラー",description:"検索処理に失敗しました",variant:"destructive"})}finally{n(!1)}};return d?l.jsx("div",{className:"w-full max-w-4xl mx-auto p-4",children:l.jsx(J8,{id:d,onComplete:y,onExit:v})}):l.jsxs(rt,{className:"w-full max-w-3xl mx-auto",children:[l.jsx(ar,{children:l.jsx(lr,{className:"text-xl",children:"応急処置ガイド"})}),l.jsxs(nt,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"以下から症状を選択するか、キーワードで検索してください。"}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx(Et,{placeholder:"キーワードで検索...",value:i,onChange:g=>a(g.target.value),onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),x())},className:"flex-1"}),l.jsx(H,{variant:"outline",onClick:w,children:"クリア"}),l.jsx(H,{onClick:x,children:"検索"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[l.jsx("span",{className:"text-sm text-gray-600 self-center mr-1",children:"代表的なキーワード:"}),["エンジン","トルコン","ブレーキ","エアー","バッテリー"].map(g=>l.jsx(H,{variant:"outline",size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",onClick:()=>{a(g),setTimeout(()=>x(),0)},children:g},g))]})]}),r?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.length>0?l.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.map(g=>l.jsx(H,{variant:"outline",className:"justify-start h-auto py-3 px-4 text-left",onClick:()=>m(g.id),children:l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("p",{className:"font-medium",children:g.description||g.title||"タイトルなし"})}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.trigger&&g.trigger.slice(0,3).join(", "),g.trigger&&g.trigger.length>3?" など":""]})]})},g.id))}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"検索結果がありません。別のキーワードで試してください。"})})]})]})}function tW(){var _;const{messages:e,setMessages:t,isLoading:r,selectedText:n,setSelectedText:s,searchBySelectedText:o,searchResults:i,clearSearchResults:a,exportChatHistory:c,isExporting:u,hasUnexportedMessages:d,draftMessage:f,setDraftMessage:p,clearChatHistory:m,isClearing:v,isRecording:y}=uu(),{user:w}=gn(),[x,g]=h.useState(!1),{data:b,isLoading:S}=Fy({queryKey:["/api/chats/1/messages"],staleTime:1e3*60*5,enabled:!1});h.useEffect(()=>{const k=()=>{const F=window.getSelection();F&&F.toString().trim().length>0?s(F.toString().trim()):s("")};return document.addEventListener("mouseup",k),()=>{document.removeEventListener("mouseup",k)}},[s]);const C=v?[]:e||[];h.useEffect(()=>{if(console.log("📊 Chat.tsx - 表示メッセージ数:",C.length),C.length>0){const k=C.filter(I=>I.content&&(I.content.includes("応急処置ガイド実施記録")||I.content.includes("応急処置ガイド「")||I.content.includes("を実施しました")));console.log("🏥 Chat.tsx - 応急処置関連メッセージ数:",k.length),k.length>0&&(console.log("✅ Chat.tsx - 応急処置ガイドメッセージが表示されています:"),k.forEach((I,U)=>{console.log(`  ${U+1}. ID: ${I.id}, AI応答: ${I.isAiResponse}, 内容: ${I.content.substring(0,50)}...`)}));const F=C[C.length-1];F&&F.content&&F.content.includes("応急処置ガイド")&&console.log("🔔 Chat.tsx - 最新メッセージが応急処置ガイド関連です:",{id:F.id,isAiResponse:F.isAiResponse,timestamp:F.timestamp,contentPreview:F.content.substring(0,100)+"..."})}},[C]),Fs();const E=()=>{d?g(!0):fetch("/api/auth/logout",{method:"POST",credentials:"include"}).then(()=>{console.log("ログアウト成功 - ログイン画面に遷移します"),yi.clear();for(const k of Object.keys(localStorage))k.startsWith("rq-")&&localStorage.removeItem(k);window.location.href="/login"}).catch(k=>{console.error("ログアウトエラー:",k),window.location.href="/login"})},N=async()=>{try{await c(),g(!1),console.log("チャットエクスポート完了。チャット画面を維持します。")}catch(k){console.error("チャットエクスポートエラー:",k),g(!1),console.log("エラーが発生しましたが、チャット画面を維持します。")}},j=lx(),[T,P]=h.useState(!1),[O,D]=h.useState("");return h.useEffect(()=>{const k=()=>{console.log("応急処置ガイド画面を閉じるイベントを受信"),P(!1)},F=I=>{console.log("🏥 応急処置ガイド送信イベントを受信:",I.detail),setTimeout(()=>{const U=document.getElementById("chatMessages");U&&(U.scrollTop=U.scrollHeight,console.log("📜 応急処置ガイド送信後にチャットを最下部にスクロールしました")),P(!1),console.log("🏥 応急処置ガイド送信後に画面を閉じました")},500)};return window.addEventListener("close-emergency-guide",k),window.addEventListener("emergency-guide-sent",F),()=>{window.removeEventListener("close-emergency-guide",k),window.removeEventListener("emergency-guide-sent",F)}},[]),l.jsxs("div",{className:"flex flex-col w-full h-full overflow-auto bg-blue-900 chat-layout-container overflow-scroll-container",style:{maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{className:"bg-gray-100 border-b border-gray-200 px-4 py-2",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(H,{variant:"outline",size:"sm",onClick:async()=>{await m()},disabled:v||!C.length,className:"flex items-center gap-1 bg-purple-600 text-white border-white hover:bg-purple-700 text-sm h-8 py-0 px-3",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Co,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"クリア中"})]}):l.jsxs(l.Fragment,{children:[l.jsx(_o,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"新しいチャット"})]})})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(H,{variant:"outline",size:"sm",onClick:c,disabled:u||!d,className:"flex items-center gap-2 border-green-400 bg-green-50 hover:bg-green-100 text-green-700 h-8 py-0 px-3",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Co,{className:"h-4 w-4 animate-spin text-green-600"}),l.jsx("span",{className:"text-sm",children:"送信中"})]}):l.jsxs(l.Fragment,{children:[l.jsx(R2,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"履歴送信"})]})}),l.jsx(H,{variant:"destructive",size:"sm",onClick:E,className:"flex items-center gap-1 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white border-0 h-8 py-0 px-3",children:l.jsx("span",{className:"text-sm",children:"チャット終了"})})]})]})}),l.jsx("div",{className:"w-full flex justify-center items-center p-4 bg-gradient-to-r from-blue-100 to-blue-50 border-b border-blue-200",children:l.jsxs(H,{variant:"default",size:"lg",onClick:()=>{const k=document.querySelector('textarea, input[type="text"]');if(k){const F=k.value.trim();D(F)}else D("");P(!0)},className:"flex items-center gap-2 border-2 border-white bg-blue-600 hover:bg-blue-700 text-white font-bold px-6 py-3 shadow-md rounded-lg",children:[l.jsx(tb,{className:"h-6 w-6 text-white"}),l.jsx("span",{className:"text-lg font-bold",children:"応急処置ガイド"})]})}),l.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-auto chat-layout-container",style:{minHeight:"75vh"},children:[l.jsxs("div",{className:"flex-1 flex flex-col h-full min-h-[75vh] overflow-auto md:w-2/3 bg-white chat-messages-container",style:{maxWidth:"100%",overflowX:"hidden"},children:[l.jsxs("div",{id:"chatMessages",className:"flex-1 overflow-y-auto p-2 sm:p-3 md:p-4 md:px-6 space-y-4 min-w-[300px]",style:{minHeight:"60vh"},children:[r?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-blue-700",children:"メッセージを送信中..."})}):!C||C.length===0?l.jsx("div",{className:`flex items-center justify-center h-full text-center ${y?"hidden":""}`,children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xl font-semibold mb-2 text-blue-800",children:"会話を始めましょう"}),l.jsx("p",{className:"text-sm text-blue-500",children:"保守用車に関する質問を入力するか、マイクボタンをタップして話しかけてください。"})]})}):l.jsx(l.Fragment,{children:C.map((k,F)=>{const I={...k,content:k.content||k.text||"",text:k.text||k.content||"",id:k.id||`temp_${F}`,timestamp:k.timestamp||k.createdAt||new Date};return l.jsx("div",{className:"w-full md:max-w-2xl mx-auto",children:l.jsx(Qb,{message:I})},I.id||F)})}),f&&f.content&&l.jsx("div",{className:"w-full md:max-w-2xl mx-auto",children:l.jsx(Qb,{message:{id:-1,content:f.content,senderId:1,isAiResponse:!1,timestamp:new Date,media:(_=f.media)==null?void 0:_.map((k,F)=>({id:F,messageId:-1,...k}))},isDraft:!0})}),l.jsx("div",{className:"hidden",children:l.jsxs("p",{children:["draftMessage: ",f?JSON.stringify(f):"null"]})})]}),n&&l.jsx(LV,{text:n,onSearch:k=>o(k,!0)}),l.jsx(MV,{})]}),l.jsx("div",{className:"hidden md:block md:w-1/3 border-l border-blue-200 bg-blue-50 overflow-y-auto search-results-panel",style:{minHeight:"75vh"},children:l.jsxs("div",{className:"w-full h-full",children:[l.jsx("div",{className:"sticky top-0 bg-blue-600 text-white py-2 px-4 font-medium z-10",children:l.jsx("h2",{className:"text-lg",children:"関係画像"})}),l.jsx("div",{className:"p-2",children:l.jsx(jU,{results:i||[],onClear:a})})]})})]}),l.jsx(Ns,{open:x,onOpenChange:g,children:l.jsxs(ss,{className:"bg-blue-50 border border-blue-200",children:[l.jsxs(js,{className:"border-b border-blue-200 pb-3",children:[l.jsx(os,{className:"text-blue-800 text-lg font-bold",children:"チャット履歴が未送信です"}),l.jsx(Po,{className:"text-blue-700",children:"まだ送信されていないチャット履歴があります。このまま終了すると、履歴が保存されません。"})]}),l.jsxs("div",{className:"flex justify-between mt-4",children:[l.jsx(H,{variant:"outline",onClick:()=>g(!1),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:"キャンセル"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(H,{variant:"destructive",onClick:()=>{g(!1),console.log("送信せずに終了が選択されました - ダイアログを閉じてチャット画面を維持します")},className:"bg-red-500 hover:bg-red-600",children:"送信せずに終了"}),l.jsx(H,{variant:"default",onClick:N,disabled:u,className:"bg-blue-600 hover:bg-blue-700",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Co,{className:"h-4 w-4 animate-spin mr-2"}),l.jsx("span",{children:"送信中..."})]}):l.jsx("span",{children:"送信して終了"})})]})]})]})}),l.jsx(L8,{}),l.jsx(Z8,{}),l.jsx(Ns,{open:T,onOpenChange:P,children:l.jsxs(ss,{className:`bg-blue-50 border border-blue-200 ${j?"w-[95%] max-w-md":"max-w-3xl"}`,children:[l.jsxs(js,{className:"border-b border-blue-200 pb-3",children:[l.jsxs(os,{className:"text-blue-800 text-lg font-bold flex items-center gap-2",children:[l.jsx(tb,{className:"h-5 w-5 text-red-500"}),l.jsx("span",{children:"応急処置ガイド"})]}),l.jsx(Po,{className:"text-blue-700",children:"症状を選択するか、キーワードで検索してください"})]}),l.jsx("div",{className:`overflow-y-auto py-2 ${j?"max-h-[70vh]":"max-h-[75vh]"}`,children:l.jsx(eW,{initialSearchKeyword:O})}),l.jsx(xi,{children:l.jsx(H,{variant:"outline",onClick:()=>P(!1),className:"w-full border-blue-300 text-blue-700 hover:bg-blue-100",children:"閉じる"})})]})})]})}var _p="Checkbox",[rW,mJ]=Er(_p),[nW,xx]=rW(_p);function sW(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,m]=Rs({prop:r,defaultProp:s??!1,onChange:c,caller:_p}),[v,y]=h.useState(null),[w,x]=h.useState(null),g=h.useRef(!1),b=v?!!i||!!v.closest("form"):!0,S={checked:p,disabled:o,setChecked:m,control:v,setControl:y,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:To(s)?!1:s,isFormControl:b,bubbleInput:w,setBubbleInput:x};return l.jsx(nW,{scope:t,...S,children:oW(f)?f(S):n})}var gR="CheckboxTrigger",vR=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:v}=xx(gR,e),y=we(s,d),w=h.useRef(c);return h.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const g=()=>f(w.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[o,f]),l.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":To(c)?"mixed":c,"aria-required":u,"data-state":SR(c),"data-disabled":a?"":void 0,disabled:a,value:i,...n,ref:y,onKeyDown:Q(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Q(r,x=>{f(g=>To(g)?!0:!g),v&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});vR.displayName=gR;var wx=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(sW,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(vR,{...f,ref:t,__scopeCheckbox:r}),p&&l.jsx(bR,{__scopeCheckbox:r})]})})});wx.displayName=_p;var yR="CheckboxIndicator",xR=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=xx(yR,r);return l.jsx(Nr,{present:n||To(o.checked)||o.checked===!0,children:l.jsx(ue.span,{"data-state":SR(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});xR.displayName=yR;var wR="CheckboxBubbleInput",bR=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:m}=xx(wR,e),v=we(r,m),y=Tp(o),w=kp(n);h.useEffect(()=>{const g=p;if(!g)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,E=!s.current;if(y!==o&&C){const N=new Event("click",{bubbles:E});g.indeterminate=To(o),C.call(g,To(o)?!1:o),g.dispatchEvent(N)}},[p,y,o,s]);const x=h.useRef(To(o)?!1:o);return l.jsx(ue.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});bR.displayName=wR;function oW(e){return typeof e=="function"}function To(e){return e==="indeterminate"}function SR(e){return To(e)?"indeterminate":e?"checked":"unchecked"}const bx=h.forwardRef(({className:e,...t},r)=>l.jsx(wx,{ref:r,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(xR,{className:ee("flex items-center justify-center text-current"),children:l.jsx(Hy,{className:"h-4 w-4"})})}));bx.displayName=wx.displayName;const yu=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:ee("w-full caption-bottom text-sm",e),...t})}));yu.displayName="Table";const xu=h.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:ee("[&_tr]:border-b",e),...t}));xu.displayName="TableHeader";const wu=h.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:ee("[&_tr:last-child]:border-0",e),...t}));wu.displayName="TableBody";const iW=h.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));iW.displayName="TableFooter";const On=h.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));On.displayName="TableRow";const zt=h.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));zt.displayName="TableHead";const At=h.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));At.displayName="TableCell";const aW=h.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));aW.displayName="TableCaption";const lW=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!1),[s,o]=h.useState([]),[i,a]=h.useState(!1),{toast:c}=Cr(),u=h.useRef(null),[d,f]=h.useState({keepOriginalFile:!1,extractKnowledgeBase:!0,extractImageSearch:!0,createQA:!0});h.useEffect(()=>{S()},[]);const p=E=>{E.preventDefault(),E.stopPropagation()},m=E=>{if(E.preventDefault(),E.stopPropagation(),E.dataTransfer.files&&E.dataTransfer.files.length>0){const N=E.dataTransfer.files[0];t(N)}},v=()=>{u.current&&u.current.click()},y=E=>{E.target.files&&E.target.files.length>0&&(t(E.target.files[0]),E.target.value="")},w=E=>{f(N=>({...N,[E]:!N[E]}))},x=E=>{if(E===0)return"0 Bytes";const N=1024,j=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(E)/Math.log(N));return parseFloat((E/Math.pow(N,T)).toFixed(2))+" "+j[T]},g=async()=>{if(!e){c({title:"ファイルが選択されていません",description:"処理するファイルを選択してください",variant:"destructive"});return}const E=[".pdf",".docx",".txt",".xlsx",".pptx",".ppt",".doc"],N=e.name.substring(e.name.lastIndexOf(".")).toLowerCase();if(!E.includes(N)){c({title:"未対応のファイル形式",description:"PDF, Word, Excel, PowerPoint, またはテキストファイルのみ処理可能です",variant:"destructive"});return}n(!0);try{const j=new FormData;j.append("file",e),j.append("keepOriginalFile",d.keepOriginalFile.toString()),j.append("extractKnowledgeBase",d.extractKnowledgeBase.toString()),j.append("extractImageSearch",d.extractImageSearch.toString()),j.append("createQA",d.createQA.toString());const T=await fetch("/api/data-processor/process",{method:"POST",body:j});if(!T.ok){const O=await T.text();throw new Error(O||"処理に失敗しました")}const P=await T.json();c({title:"処理成功",description:`${e.name} を処理しました。${P.message||""}`}),window.dispatchEvent(new CustomEvent("image-search-data-updated")),S(),t(null)}catch(j){console.error("Processing error:",j),c({title:"処理エラー",description:j instanceof Error?j.message:"未知のエラーが発生しました",variant:"destructive"})}finally{n(!1)}},b=async(E,N)=>{try{const j=await fetch(`/api/knowledge/${E}`,{method:"DELETE"});if(!j.ok){const T=await j.text();throw new Error(T||"削除に失敗しました")}c({title:"削除成功",description:`${N} を削除しました`}),S(),window.dispatchEvent(new CustomEvent("image-search-data-updated"))}catch(j){console.error("Delete error:",j),c({title:"削除エラー",description:j instanceof Error?j.message:"未知のエラーが発生しました",variant:"destructive"})}},S=async()=>{a(!0);try{const E=await fetch("/api/knowledge");if(!E.ok)throw new Error("文書の取得に失敗しました");const N=await E.json();o(N)}catch(E){console.error("Fetch documents error:",E),c({title:"エラー",description:"文書リストの取得に失敗しました",variant:"destructive"})}finally{a(!1)}},C=E=>{try{const N=new Date(E);return new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(N)}catch{return E||"不明"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-blue-100",children:[l.jsx("h2",{className:"text-xl font-semibold text-blue-800 mb-4",children:"ファイルアップロード処理"}),l.jsxs("div",{className:`border-2 border-dashed border-blue-300 rounded-lg p-8 mb-4 text-center cursor-pointer bg-blue-50 hover:bg-blue-100 transition-colors ${e?"border-blue-600 bg-blue-100":""}`,onDragOver:p,onDrop:m,onClick:v,children:[l.jsx("input",{ref:u,type:"file",className:"hidden",accept:".pdf,.docx,.doc,.txt,.xlsx,.xls,.pptx,.ppt",onChange:y}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx(Tc,{className:"w-12 h-12 text-blue-700 mb-2"}),e?l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium text-blue-700",children:e.name}),l.jsxs("p",{className:"text-sm text-blue-600",children:["(",x(e.size),")"]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium text-blue-700",children:"ここにファイルをドラッグ&ドロップ"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["または",l.jsx("span",{className:"text-blue-600 font-medium",children:"クリックして選択"})]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(bx,{id:"keepOriginalFile",checked:d.keepOriginalFile,onCheckedChange:()=>w("keepOriginalFile")}),l.jsx(et,{htmlFor:"keepOriginalFile",className:"cursor-pointer",children:"元ファイルを保存する"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(H,{onClick:g,disabled:!e||r,className:"w-full max-w-md bg-blue-600 hover:bg-blue-700 text-white py-2 rounded",children:r?l.jsxs(l.Fragment,{children:[l.jsx(Co,{className:"mr-2 h-5 w-5 animate-spin"}),"処理中..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Fg,{className:"mr-2 h-5 w-5"}),"処理開始"]})})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-blue-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-blue-800",children:"処理済み文書一覧"}),l.jsx(H,{onClick:S,variant:"outline",className:"text-blue-600 border-blue-600",disabled:i,children:i?l.jsx(Co,{className:"h-4 w-4 animate-spin"}):l.jsx(D2,{className:"h-4 w-4"})})]}),i?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(Co,{className:"h-8 w-8 animate-spin text-blue-600"}),l.jsx("span",{className:"ml-2 text-blue-600",children:"読み込み中..."})]}):s.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(yu,{children:[l.jsx(xu,{children:l.jsxs(On,{children:[l.jsx(zt,{children:"タイトル"}),l.jsx(zt,{children:"種類"}),l.jsx(zt,{children:"追加日時"}),l.jsx(zt,{className:"text-right",children:"操作"})]})}),l.jsx(wu,{children:s.map(E=>l.jsxs(On,{children:[l.jsx(At,{className:"font-medium",children:E.title||"無題"}),l.jsx(At,{children:E.type||"不明"}),l.jsx(At,{children:C(E.addedAt)}),l.jsx(At,{className:"text-right",children:l.jsx(H,{variant:"ghost",size:"sm",onClick:()=>b(E.id,E.title),className:"text-red-600 hover:text-red-800 hover:bg-red-100",children:l.jsx(_o,{className:"h-4 w-4"})})})]},E.id))})]})}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Fg,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),l.jsx("p",{children:"処理済み文書はありません"})]})]})]})};function cW(){const{user:e}=gn();return l.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-neutral-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[l.jsx("h2",{className:"font-semibold text-lg text-indigo-600",children:"総括データ処理"}),l.jsx("p",{className:"text-sm text-neutral-500",children:"文書のアップロードと処理により、AIナレッジベース、画像検索、Q&Aデータを一度に生成します"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:l.jsx("div",{className:"mx-auto max-w-5xl",children:l.jsx(lW,{})})})]})}function Ic(e,[t,r]){return Math.min(r,Math.max(t,e))}var CR=["PageUp","PageDown"],ER=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],NR={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ul="Slider",[dv,uW,dW]=nu(ul),[jR,gJ]=Er(ul,[dW]),[fW,Op]=jR(ul),PR=h.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:v,...y}=e,w=h.useRef(new Set),x=h.useRef(0),b=i==="horizontal"?pW:hW,[S=[],C]=Rs({prop:d,defaultProp:u,onChange:O=>{var _;(_=[...w.current][x.current])==null||_.focus(),f(O)}}),E=h.useRef(S);function N(O){const D=xW(S,O);P(O,D)}function j(O){P(O,x.current)}function T(){const O=E.current[x.current];S[x.current]!==O&&p(S)}function P(O,D,{commit:_}={commit:!1}){const k=CW(o),F=EW(Math.round((O-n)/o)*o+n,k),I=Ic(F,[n,s]);C((U=[])=>{const L=vW(U,I,D);if(SW(L,c*o)){x.current=L.indexOf(I);const B=String(L)!==String(U);return B&&_&&p(L),B?L:U}else return U})}return l.jsx(fW,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:x,thumbs:w.current,values:S,orientation:i,form:v,children:l.jsx(dv.Provider,{scope:e.__scopeSlider,children:l.jsx(dv.Slot,{scope:e.__scopeSlider,children:l.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:t,onPointerDown:Q(y.onPointerDown,()=>{a||(E.current=S)}),min:n,max:s,inverted:m,onSlideStart:a?void 0:N,onSlideMove:a?void 0:j,onSlideEnd:a?void 0:T,onHomeKeyDown:()=>!a&&P(n,0,{commit:!0}),onEndKeyDown:()=>!a&&P(s,S.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:D})=>{if(!a){const F=CR.includes(O.key)||O.shiftKey&&ER.includes(O.key)?10:1,I=x.current,U=S[I],L=o*F*D;P(U+L,I,{commit:!0})}}})})})})});PR.displayName=ul;var[TR,kR]=jR(ul,{startEdge:"left",endEdge:"right",size:"width",direction:1}),pW=h.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,p]=h.useState(null),m=we(t,b=>p(b)),v=h.useRef(void 0),y=cl(s),w=y==="ltr",x=w&&!o||!w&&o;function g(b){const S=v.current||f.getBoundingClientRect(),C=[0,S.width],N=Sx(C,x?[r,n]:[n,r]);return v.current=S,N(b-S.left)}return l.jsx(TR,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:l.jsx(AR,{dir:y,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=g(b.clientX);i==null||i(S)},onSlideMove:b=>{const S=g(b.clientX);a==null||a(S)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:b=>{const C=NR[x?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:C?-1:1})}})})}),hW=h.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onStepKeyDown:c,...u}=e,d=h.useRef(null),f=we(t,d),p=h.useRef(void 0),m=!s;function v(y){const w=p.current||d.current.getBoundingClientRect(),x=[0,w.height],b=Sx(x,m?[n,r]:[r,n]);return p.current=w,b(y-w.top)}return l.jsx(TR,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(AR,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const w=v(y.clientY);o==null||o(w)},onSlideMove:y=>{const w=v(y.clientY);i==null||i(w)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:y=>{const x=NR[m?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:x?-1:1})}})})}),AR=h.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:c,...u}=e,d=Op(ul,r);return l.jsx(ue.span,{...u,ref:t,onKeyDown:Q(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):CR.concat(ER).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Q(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(p)?p.focus():n(f)}),onPointerMove:Q(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Q(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),o(f))})})}),DR="SliderTrack",RR=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Op(DR,r);return l.jsx(ue.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});RR.displayName=DR;var fv="SliderRange",IR=h.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Op(fv,r),o=kR(fv,r),i=h.useRef(null),a=we(t,i),c=s.values.length,u=s.values.map(p=>MR(p,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(ue.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});IR.displayName=fv;var pv="SliderThumb",_R=h.forwardRef((e,t)=>{const r=uW(e.__scopeSlider),[n,s]=h.useState(null),o=we(t,a=>s(a)),i=h.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return l.jsx(mW,{...e,ref:o,index:i})}),mW=h.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=Op(pv,r),a=kR(pv,r),[c,u]=h.useState(null),d=we(t,g=>u(g)),f=c?i.form||!!c.closest("form"):!0,p=kp(c),m=i.values[n],v=m===void 0?0:MR(m,i.min,i.max),y=yW(n,i.values.length),w=p==null?void 0:p[a.size],x=w?wW(w,v,a.direction):0;return h.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${x}px)`},children:[l.jsx(dv.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(ue.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Q(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&l.jsx(OR,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},n)]})});_R.displayName=pv;var gW="RadioBubbleInput",OR=h.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=h.useRef(null),o=we(s,n),i=Tp(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(ue.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});OR.displayName=gW;function vW(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function MR(e,t,r){const o=100/(r-t)*(e-t);return Ic(o,[0,100])}function yW(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function xW(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function wW(e,t,r){const n=e/2,o=Sx([0,50],[0,n]);return(n-o(t)*r)*r}function bW(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function SW(e,t){if(t>0){const r=bW(e);return Math.min(...r)>=t}return!0}function Sx(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function CW(e){return(String(e).split(".")[1]||"").length}function EW(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var LR=PR,NW=RR,jW=IR,PW=_R;const FR=h.forwardRef(({className:e,...t},r)=>l.jsxs(LR,{ref:r,className:ee("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(NW,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(jW,{className:"absolute h-full bg-primary"})}),l.jsx(PW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));FR.displayName=LR.displayName;function TW({open:e,title:t,message:r,onCancel:n,onConfirm:s}){return l.jsx(Ns,{open:e,onOpenChange:n,children:l.jsxs(ss,{className:"sm:max-w-md",children:[l.jsxs(js,{children:[l.jsx("div",{className:"text-orange-500 mb-2",children:l.jsx(u3,{className:"h-8 w-8"})}),l.jsx(os,{className:"text-lg font-semibold",children:t}),l.jsx(Po,{className:"mt-2 text-sm",children:r})]}),l.jsxs(xi,{className:"flex justify-end space-x-2 pt-2",children:[l.jsx(H,{variant:"outline",onClick:n,children:"キャンセル"}),l.jsx(H,{variant:"default",className:"bg-red-500 hover:bg-red-600 text-white",onClick:s,children:"OK"})]})]})})}function kW(){const{user:e,logout:t}=gn(),{toast:r}=Cr(),[n,s]=h.useState(!1),[o,i]=h.useState(!0),[a,c]=h.useState(!0),[u,d]=h.useState([80]),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[y,w]=h.useState(!0),[x,g]=h.useState(!1);h.useEffect(()=>{(()=>{try{const T=localStorage.getItem("emergencyRecoverySettings");if(T){const P=JSON.parse(T);P.notifications!==void 0&&i(P.notifications),P.textToSpeech!==void 0&&c(P.textToSpeech),P.speechVolume!==void 0&&d(P.speechVolume),P.darkMode!==void 0&&p(P.darkMode),P.autoSave!==void 0&&v(P.autoSave),P.useOnlyKnowledgeBase!==void 0&&w(P.useOnlyKnowledgeBase),P.usePerplexity!==void 0&&g(P.usePerplexity)}}catch(T){console.error("設定の読み込みに失敗しました:",T)}})()},[]),h.useEffect(()=>{(()=>{try{const T={notifications:o,textToSpeech:a,speechVolume:u,darkMode:f,autoSave:m,useOnlyKnowledgeBase:y,usePerplexity:x};localStorage.setItem("emergencyRecoverySettings",JSON.stringify(T)),localStorage.setItem("useOnlyKnowledgeBase",y.toString()),localStorage.setItem("usePerplexity",x.toString())}catch(T){console.error("設定の保存に失敗しました:",T)}})()},[o,a,u,f,m,y,x]);const b=()=>{try{const j={notifications:o,textToSpeech:a,speechVolume:u,darkMode:f,autoSave:m,useOnlyKnowledgeBase:y,usePerplexity:x};localStorage.setItem("emergencyRecoverySettings",JSON.stringify(j)),localStorage.setItem("useOnlyKnowledgeBase",y.toString()),localStorage.setItem("usePerplexity",x.toString()),r({title:"設定を保存しました",description:"設定が正常に保存されました。"})}catch{r({title:"設定の保存に失敗しました",description:"設定の保存中にエラーが発生しました。",variant:"destructive"})}},S=async()=>{s(!0)},C=async()=>{try{await t()}catch{r({title:"ログアウト失敗",description:"ログアウト中にエラーが発生しました。",variant:"destructive"})}finally{s(!1)}},E=async()=>{try{const j=await fetch("/api/tech-support/cleanup-uploads",{method:"POST"});if(!j.ok)throw new Error("クリーンアップに失敗しました");const T=await j.json();r({title:"クリーンアップ完了",description:"アップロードファイルをクリーンアップしました"})}catch{r({title:"エラー",description:"クリーンアップに失敗しました",variant:"destructive"})}},N=async()=>{try{const j=await fetch("/api/tech-support/cleanup-logs",{method:"POST"});if(!j.ok)throw new Error("ログクリーンアップに失敗しました");const T=await j.json();r({title:"ログクリーンアップ完了",description:`${T.deletedCount}件のログファイルを削除しました (${(T.totalSize/1024/1024).toFixed(2)} MB)`})}catch{r({title:"エラー",description:"ログクリーンアップに失敗しました",variant:"destructive"})}};return l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 max-w-5xl mx-auto w-full bg-gradient-to-br from-blue-50 to-indigo-50",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:[l.jsx($g,{className:"mr-2 h-6 w-6 text-indigo-500"}),"設定"]}),l.jsx("p",{className:"text-blue-400",children:"アプリケーションの設定を管理します"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(rt,{className:"border border-blue-200 shadow-md overflow-hidden",children:[l.jsx(ar,{className:"pb-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx(O2,{className:"mr-2 h-5 w-5"}),"ユーザープロフィール"]})}),l.jsx(nt,{className:"bg-white",children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:e==null?void 0:e.displayName}),l.jsx("p",{className:"text-sm text-blue-400",children:e==null?void 0:e.username}),l.jsx("p",{className:"text-sm text-blue-400",children:(e==null?void 0:e.department)||"部署未設定"})]}),l.jsx("div",{className:`text-white text-xs px-3 py-1 rounded-full ${(e==null?void 0:e.role)==="admin"?"bg-gradient-to-r from-purple-500 to-indigo-500":"bg-gradient-to-r from-blue-500 to-green-500"}`,children:(e==null?void 0:e.role)==="admin"?"管理者":"一般ユーザー"})]})})})]}),l.jsxs(rt,{className:"border border-blue-200 shadow-md overflow-hidden",children:[l.jsx(ar,{className:"pb-2 bg-gradient-to-r from-blue-400 to-sky-500 text-white",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx(VB,{className:"mr-2 h-5 w-5"}),"通知設定"]})}),l.jsx(nt,{className:"bg-white",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-700",children:"通知を有効にする"}),l.jsx("p",{className:"text-sm text-blue-400",children:"新しいメッセージの通知を受け取る"})]}),l.jsx(Qs,{checked:o,onCheckedChange:i,className:"data-[state=checked]:bg-blue-500"})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-700",children:"音声読み上げ"}),l.jsx("p",{className:"text-sm text-blue-400",children:"AI応答を音声で読み上げる"})]}),l.jsx(Qs,{checked:a,onCheckedChange:c,className:"data-[state=checked]:bg-blue-500"})]}),a&&l.jsxs("div",{className:"py-2 border-t border-blue-100 pt-3",children:[l.jsx("p",{className:"font-medium mb-2 text-blue-700",children:"音声の音量"}),l.jsx(FR,{value:u,onValueChange:d,max:100,step:1,className:"data-[state=checked]:bg-blue-500"}),l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx(M2,{className:"h-4 w-4 text-blue-400"}),l.jsxs("span",{className:"text-sm text-blue-500 font-medium",children:[u[0],"%"]})]})]})]})})]}),l.jsxs(rt,{className:"border border-blue-200 shadow-md overflow-hidden",children:[l.jsx(ar,{className:"pb-2 bg-gradient-to-r from-indigo-500 to-blue-600 text-white",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx($g,{className:"mr-2 h-5 w-5"}),"アプリ設定"]})}),l.jsx(nt,{className:"bg-white",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-indigo-700",children:"ダークモード"}),l.jsx("p",{className:"text-sm text-indigo-400",children:"暗い色のテーマを使用する"})]}),l.jsx(Qs,{checked:f,onCheckedChange:p,className:"data-[state=checked]:bg-indigo-500"})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-indigo-700",children:"自動保存"}),l.jsx("p",{className:"text-sm text-indigo-400",children:"会話を自動的に保存する"})]}),l.jsx(Qs,{checked:m,onCheckedChange:v,className:"data-[state=checked]:bg-indigo-500"})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-indigo-700",children:"独自の技術資料のみを使用"}),l.jsx("p",{className:"text-sm text-indigo-400",children:"AI応答に登録済みナレッジのみを使用する"})]}),l.jsx(Qs,{checked:y,onCheckedChange:w,className:"data-[state=checked]:bg-indigo-500"})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-indigo-700",children:"Perplexity AIを使用"}),l.jsx("p",{className:"text-sm text-indigo-400",children:"代替AIエンジンを使用する（APIキー設定後に有効化）"})]}),l.jsx(Qs,{checked:!1,onCheckedChange:()=>{r({title:"準備中",description:"Perplexity APIキーの設定が必要です。この機能は現在利用できません。",variant:"default"})},disabled:!0,className:"data-[state=checked]:bg-purple-500 opacity-60"})]}),l.jsx("div",{className:"py-2 border-t border-blue-100 pt-3 flex justify-end",children:l.jsxs(H,{onClick:b,className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white hover:from-blue-600 hover:to-indigo-600",children:[l.jsx(s3,{className:"mr-2 h-4 w-4"}),"設定を保存"]})})]})})]}),(e==null?void 0:e.role)==="admin"&&l.jsxs(rt,{className:"border border-blue-200 shadow-md overflow-hidden",children:[l.jsx(ar,{className:"pb-2 bg-gradient-to-r from-blue-700 to-indigo-700 text-white",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx(I2,{className:"mr-2 h-5 w-5"}),"管理者設定"]})}),l.jsx(nt,{className:"bg-white",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:"ユーザー管理"}),l.jsx("p",{className:"text-sm text-blue-400",children:"ユーザーアカウントを管理する"})]}),l.jsx(Nc,{href:"/users",children:l.jsxs(H,{variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[l.jsx(_2,{className:"mr-2 h-4 w-4 text-blue-500"}),"管理"]})})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:"ドキュメント管理"}),l.jsx("p",{className:"text-sm text-blue-400",children:"検索対象の資料を管理する"})]}),l.jsx(Nc,{href:"/documents",children:l.jsxs(H,{variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[l.jsx(A2,{className:"mr-2 h-4 w-4 text-blue-500"}),"管理"]})})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs(H,{onClick:E,variant:"destructive",className:"w-full",children:[l.jsx(_o,{className:"mr-2 h-4 w-4"}),"一時ファイルを削除"]}),l.jsxs(H,{onClick:N,variant:"outline",className:"w-full",children:[l.jsx(QB,{className:"mr-2 h-4 w-4"}),"ログファイルを削除"]})]}),l.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-blue-100 pt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:"ログアウト"}),l.jsx("p",{className:"text-sm text-blue-400",children:"システムからログアウトする"})]}),l.jsxs(H,{onClick:S,variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50",children:[l.jsx(e3,{className:"mr-2 h-4 w-4 text-red-500"}),"ログアウト"]})]})]})})]}),l.jsxs(rt,{className:"border border-blue-200 shadow-md overflow-hidden",children:[l.jsx(ar,{className:"pb-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx(JB,{className:"mr-2 h-5 w-5"}),"このアプリについて"]})}),l.jsx(nt,{className:"bg-white",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Emergency Recovery Chat"}),l.jsx("p",{className:"text-sm text-cyan-500",children:"バージョン 1.0.0"}),l.jsx("p",{className:"text-sm text-cyan-500",children:"© 2024 All Rights Reserved"}),l.jsx("div",{className:"pt-2 mt-2 border-t border-blue-100",children:l.jsx("p",{className:"text-xs text-blue-400",children:"応急復旧サポートのための対話型アシスタントシステム"})})]})})]})]}),l.jsx(TW,{open:n,title:"ログアウト確認",message:"ログアウトしてもよろしいですか？未保存のデータは失われる可能性があります。",onCancel:()=>s(!1),onConfirm:C})]})}const AW=["top","right","bottom","left"],Fo=Math.min,Vr=Math.max,Df=Math.round,cd=Math.floor,ls=e=>({x:e,y:e}),DW={left:"right",right:"left",bottom:"top",top:"bottom"},RW={start:"end",end:"start"};function hv(e,t,r){return Vr(e,Fo(t,r))}function Os(e,t){return typeof e=="function"?e(t):e}function Ms(e){return e.split("-")[0]}function dl(e){return e.split("-")[1]}function Cx(e){return e==="x"?"y":"x"}function Ex(e){return e==="y"?"height":"width"}function es(e){return["top","bottom"].includes(Ms(e))?"y":"x"}function Nx(e){return Cx(es(e))}function IW(e,t,r){r===void 0&&(r=!1);const n=dl(e),s=Nx(e),o=Ex(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Rf(i)),[i,Rf(i)]}function _W(e){const t=Rf(e);return[mv(e),t,mv(t)]}function mv(e){return e.replace(/start|end/g,t=>RW[t])}function OW(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function MW(e,t,r,n){const s=dl(e);let o=OW(Ms(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(mv)))),o}function Rf(e){return e.replace(/left|right|bottom|top/g,t=>DW[t])}function LW(e){return{top:0,right:0,bottom:0,left:0,...e}}function $R(e){return typeof e!="number"?LW(e):{top:e,right:e,bottom:e,left:e}}function If(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function fS(e,t,r){let{reference:n,floating:s}=e;const o=es(t),i=Nx(t),a=Ex(i),c=Ms(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(dl(t)){case"start":m[i]-=p*(r&&u?-1:1);break;case"end":m[i]+=p*(r&&u?-1:1);break}return m}const FW=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=fS(u,n,c),p=n,m={},v=0;for(let y=0;y<a.length;y++){const{name:w,fn:x}=a[y],{x:g,y:b,data:S,reset:C}=await x({x:d,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=g??d,f=b??f,m={...m,[w]:{...m[w],...S}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=fS(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function _c(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Os(t,e),v=$R(m),w=a[p?f==="floating"?"reference":"floating":f],x=If(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},C=If(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:b,strategy:c}):g);return{top:(x.top-C.top+v.top)/S.y,bottom:(C.bottom-x.bottom+v.bottom)/S.y,left:(x.left-C.left+v.left)/S.x,right:(C.right-x.right+v.right)/S.x}}const $W=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=Os(e,t)||{};if(u==null)return{};const f=$R(d),p={x:r,y:n},m=Nx(s),v=Ex(m),y=await i.getDimensions(u),w=m==="y",x=w?"top":"left",g=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=o.reference[v]+o.reference[m]-p[m]-o.floating[v],C=p[m]-o.reference[m],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=E?E[b]:0;(!N||!await(i.isElement==null?void 0:i.isElement(E)))&&(N=a.floating[b]||o.floating[v]);const j=S/2-C/2,T=N/2-y[v]/2-1,P=Fo(f[x],T),O=Fo(f[g],T),D=P,_=N-y[v]-O,k=N/2-y[v]/2+j,F=hv(D,k,_),I=!c.arrow&&dl(s)!=null&&k!==F&&o.reference[v]/2-(k<D?P:O)-y[v]/2<0,U=I?k<D?k-D:k-_:0;return{[m]:p[m]+U,data:{[m]:F,centerOffset:k-F-U,...I&&{alignmentOffset:U}},reset:I}}}),BW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=Os(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=Ms(s),g=es(a),b=Ms(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(b||!y?[Rf(a)]:_W(a)),E=v!=="none";!p&&E&&C.push(...MW(a,y,v,S));const N=[a,...C],j=await _c(t,w),T=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&T.push(j[x]),f){const k=IW(s,i,S);T.push(j[k[0]],j[k[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(k=>k<=0)){var O,D;const k=(((O=o.flip)==null?void 0:O.index)||0)+1,F=N[k];if(F&&(!(f==="alignment"?g!==es(F):!1)||P.every(L=>L.overflows[0]>0&&es(L.placement)===g)))return{data:{index:k,overflows:P},reset:{placement:F}};let I=(D=P.filter(U=>U.overflows[0]<=0).sort((U,L)=>U.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!I)switch(m){case"bestFit":{var _;const U=(_=P.filter(L=>{if(E){const B=es(L.placement);return B===g||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,q)=>B+q,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:_[0];U&&(I=U);break}case"initialPlacement":I=a;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function pS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hS(e){return AW.some(t=>e[t]>=0)}const zW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Os(e,t);switch(n){case"referenceHidden":{const o=await _c(t,{...s,elementContext:"reference"}),i=pS(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:hS(i)}}}case"escaped":{const o=await _c(t,{...s,altBoundary:!0}),i=pS(o,r.floating);return{data:{escapedOffsets:i,escaped:hS(i)}}}default:return{}}}}};async function VW(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Ms(r),a=dl(r),c=es(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=Os(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const UW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await VW(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},WW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x,y:g}=w;return{x,y:g}}},...c}=Os(e,t),u={x:r,y:n},d=await _c(t,c),f=es(Ms(s)),p=Cx(f);let m=u[p],v=u[f];if(o){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",g=m+d[w],b=m-d[x];m=hv(g,m,b)}if(i){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=v+d[w],b=v-d[x];v=hv(g,v,b)}const y=a.fn({...t,[p]:m,[f]:v});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:o,[f]:i}}}}}},HW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Os(e,t),d={x:r,y:n},f=es(s),p=Cx(f);let m=d[p],v=d[f];const y=Os(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=p==="y"?"height":"width",S=o.reference[p]-o.floating[b]+w.mainAxis,C=o.reference[p]+o.reference[b]-w.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var x,g;const b=p==="y"?"width":"height",S=["top","left"].includes(Ms(s)),C=o.reference[f]-o.floating[b]+(S&&((x=i.offset)==null?void 0:x[f])||0)+(S?0:w.crossAxis),E=o.reference[f]+o.reference[b]+(S?0:((g=i.offset)==null?void 0:g[f])||0)-(S?w.crossAxis:0);v<C?v=C:v>E&&(v=E)}return{[p]:m,[f]:v}}}},GW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=Os(e,t),d=await _c(t,u),f=Ms(s),p=dl(s),m=es(s)==="y",{width:v,height:y}=o.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,w=p==="end"?"top":"bottom");const g=y-d.top-d.bottom,b=v-d.left-d.right,S=Fo(y-d[w],g),C=Fo(v-d[x],b),E=!t.middlewareData.shift;let N=S,j=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=g),E&&!p){const P=Vr(d.left,0),O=Vr(d.right,0),D=Vr(d.top,0),_=Vr(d.bottom,0);m?j=v-2*(P!==0||O!==0?P+O:Vr(d.left,d.right)):N=y-2*(D!==0||_!==0?D+_:Vr(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:N});const T=await i.getDimensions(a.floating);return v!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function Mp(){return typeof window<"u"}function fl(e){return BR(e)?(e.nodeName||"").toLowerCase():"#document"}function Gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function us(e){var t;return(t=(BR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BR(e){return Mp()?e instanceof Node||e instanceof Gr(e).Node:!1}function Ln(e){return Mp()?e instanceof Element||e instanceof Gr(e).Element:!1}function cs(e){return Mp()?e instanceof HTMLElement||e instanceof Gr(e).HTMLElement:!1}function mS(e){return!Mp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gr(e).ShadowRoot}function bu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function qW(e){return["table","td","th"].includes(fl(e))}function Lp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jx(e){const t=Px(),r=Ln(e)?Fn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function KW(e){let t=$o(e);for(;cs(t)&&!Ya(t);){if(jx(t))return t;if(Lp(t))return null;t=$o(t)}return null}function Px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ya(e){return["html","body","#document"].includes(fl(e))}function Fn(e){return Gr(e).getComputedStyle(e)}function Fp(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $o(e){if(fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mS(e)&&e.host||us(e);return mS(t)?t.host:t}function zR(e){const t=$o(e);return Ya(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&bu(t)?t:zR(t)}function Oc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=zR(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Gr(s);if(o){const a=gv(i);return t.concat(i,i.visualViewport||[],bu(s)?s:[],a&&r?Oc(a):[])}return t.concat(s,Oc(s,[],r))}function gv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VR(e){const t=Fn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=cs(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=Df(r)!==o||Df(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Tx(e){return Ln(e)?e:e.contextElement}function wa(e){const t=Tx(e);if(!cs(t))return ls(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=VR(t);let i=(o?Df(r.width):r.width)/n,a=(o?Df(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const QW=ls(0);function UR(e){const t=Gr(e);return!Px()||!t.visualViewport?QW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Gr(e)?!1:t}function Di(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Tx(e);let i=ls(1);t&&(n?Ln(n)&&(i=wa(n)):i=wa(e));const a=YW(o,r,n)?UR(o):ls(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Gr(o),m=n&&Ln(n)?Gr(n):n;let v=p,y=gv(v);for(;y&&n&&m!==v;){const w=wa(y),x=y.getBoundingClientRect(),g=Fn(y),b=x.left+(y.clientLeft+parseFloat(g.paddingLeft))*w.x,S=x.top+(y.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,v=Gr(y),y=gv(v)}}return If({width:d,height:f,x:c,y:u})}function kx(e,t){const r=Fp(e).scrollLeft;return t?t.left+r:Di(us(e)).left+r}function WR(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:kx(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function XW(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=us(n),a=t?Lp(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=ls(1);const d=ls(0),f=cs(n);if((f||!f&&!o)&&((fl(n)!=="body"||bu(i))&&(c=Fp(n)),cs(n))){const m=Di(n);u=wa(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const p=i&&!f&&!o?WR(i,c,!0):ls(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function ZW(e){return Array.from(e.getClientRects())}function JW(e){const t=us(e),r=Fp(e),n=e.ownerDocument.body,s=Vr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Vr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+kx(e);const a=-r.scrollTop;return Fn(n).direction==="rtl"&&(i+=Vr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function e9(e,t){const r=Gr(e),n=us(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=Px();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function t9(e,t){const r=Di(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=cs(e)?wa(e):ls(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function gS(e,t,r){let n;if(t==="viewport")n=e9(e,r);else if(t==="document")n=JW(us(e));else if(Ln(t))n=t9(t,r);else{const s=UR(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return If(n)}function HR(e,t){const r=$o(e);return r===t||!Ln(r)||Ya(r)?!1:Fn(r).position==="fixed"||HR(r,t)}function r9(e,t){const r=t.get(e);if(r)return r;let n=Oc(e,[],!1).filter(a=>Ln(a)&&fl(a)!=="body"),s=null;const o=Fn(e).position==="fixed";let i=o?$o(e):e;for(;Ln(i)&&!Ya(i);){const a=Fn(i),c=jx(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bu(i)&&!c&&HR(e,i))?n=n.filter(d=>d!==i):s=a,i=$o(i)}return t.set(e,n),n}function n9(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Lp(t)?[]:r9(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const f=gS(t,d,s);return u.top=Vr(f.top,u.top),u.right=Fo(f.right,u.right),u.bottom=Fo(f.bottom,u.bottom),u.left=Vr(f.left,u.left),u},gS(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s9(e){const{width:t,height:r}=VR(e);return{width:t,height:r}}function o9(e,t,r){const n=cs(t),s=us(t),o=r==="fixed",i=Di(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=ls(0);function u(){c.x=kx(s)}if(n||!n&&!o)if((fl(t)!=="body"||bu(s))&&(a=Fp(t)),n){const m=Di(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?WR(s,a):ls(0),f=i.left+a.scrollLeft-c.x-d.x,p=i.top+a.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function dm(e){return Fn(e).position==="static"}function vS(e,t){if(!cs(e)||Fn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return us(e)===r&&(r=r.ownerDocument.body),r}function GR(e,t){const r=Gr(e);if(Lp(e))return r;if(!cs(e)){let s=$o(e);for(;s&&!Ya(s);){if(Ln(s)&&!dm(s))return s;s=$o(s)}return r}let n=vS(e,t);for(;n&&qW(n)&&dm(n);)n=vS(n,t);return n&&Ya(n)&&dm(n)&&!jx(n)?r:n||KW(e)||r}const i9=async function(e){const t=this.getOffsetParent||GR,r=this.getDimensions,n=await r(e.floating);return{reference:o9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function a9(e){return Fn(e).direction==="rtl"}const l9={convertOffsetParentRelativeRectToViewportRelativeRect:XW,getDocumentElement:us,getClippingRect:n9,getOffsetParent:GR,getElementRects:i9,getClientRects:ZW,getDimensions:s9,getScale:wa,isElement:Ln,isRTL:a9};function qR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c9(e,t){let r=null,n;const s=us(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(a||t(),!p||!m)return;const v=cd(f),y=cd(s.clientWidth-(d+p)),w=cd(s.clientHeight-(f+m)),x=cd(d),b={rootMargin:-v+"px "+-y+"px "+-w+"px "+-x+"px",threshold:Vr(0,Fo(1,c))||1};let S=!0;function C(E){const N=E[0].intersectionRatio;if(N!==c){if(!S)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!qR(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,b)}r.observe(e)}return i(!0),o}function u9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Tx(e),d=s||o?[...u?Oc(u):[],...Oc(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const f=u&&a?c9(u,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,y=c?Di(e):null;c&&w();function w(){const x=Di(e);y&&!qR(y,x)&&r(),y=x,v=requestAnimationFrame(w)}return r(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const d9=UW,f9=WW,p9=BW,h9=GW,m9=zW,yS=$W,g9=HW,v9=(e,t,r)=>{const n=new Map,s={platform:l9,...r},o={...s.platform,_c:n};return FW(e,t,{...s,platform:o})};var y9=typeof document<"u",x9=function(){},Ld=y9?h.useLayoutEffect:x9;function _f(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!_f(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!_f(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function KR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xS(e,t){const r=KR(e);return Math.round(t*r)/r}function fm(e){const t=h.useRef(e);return Ld(()=>{t.current=e}),t}function w9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(n);_f(p,n)||m(n);const[v,y]=h.useState(null),[w,x]=h.useState(null),g=h.useCallback(L=>{L!==E.current&&(E.current=L,y(L))},[]),b=h.useCallback(L=>{L!==N.current&&(N.current=L,x(L))},[]),S=o||v,C=i||w,E=h.useRef(null),N=h.useRef(null),j=h.useRef(d),T=c!=null,P=fm(c),O=fm(s),D=fm(u),_=h.useCallback(()=>{if(!E.current||!N.current)return;const L={placement:t,strategy:r,middleware:p};O.current&&(L.platform=O.current),v9(E.current,N.current,L).then(B=>{const q={...B,isPositioned:D.current!==!1};k.current&&!_f(j.current,q)&&(j.current=q,Wo.flushSync(()=>{f(q)}))})},[p,t,r,O,D]);Ld(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const k=h.useRef(!1);Ld(()=>(k.current=!0,()=>{k.current=!1}),[]),Ld(()=>{if(S&&(E.current=S),C&&(N.current=C),S&&C){if(P.current)return P.current(S,C,_);_()}},[S,C,_,P,T]);const F=h.useMemo(()=>({reference:E,floating:N,setReference:g,setFloating:b}),[g,b]),I=h.useMemo(()=>({reference:S,floating:C}),[S,C]),U=h.useMemo(()=>{const L={position:r,left:0,top:0};if(!I.floating)return L;const B=xS(I.floating,d.x),q=xS(I.floating,d.y);return a?{...L,transform:"translate("+B+"px, "+q+"px)",...KR(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:q}},[r,a,I.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:_,refs:F,elements:I,floatingStyles:U}),[d,_,F,I,U])}const b9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?yS({element:n.current,padding:s}).fn(r):{}:n?yS({element:n,padding:s}).fn(r):{}}}},S9=(e,t)=>({...d9(e),options:[e,t]}),C9=(e,t)=>({...f9(e),options:[e,t]}),E9=(e,t)=>({...g9(e),options:[e,t]}),N9=(e,t)=>({...p9(e),options:[e,t]}),j9=(e,t)=>({...h9(e),options:[e,t]}),P9=(e,t)=>({...m9(e),options:[e,t]}),T9=(e,t)=>({...b9(e),options:[e,t]});var k9="Arrow",QR=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(ue.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});QR.displayName=k9;var A9=QR,Ax="Popper",[YR,$p]=Er(Ax),[D9,XR]=YR(Ax),ZR=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return l.jsx(D9,{scope:t,anchor:n,onAnchorChange:s,children:r})};ZR.displayName=Ax;var JR="PopperAnchor",eI=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=XR(JR,r),i=h.useRef(null),a=we(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(ue.div,{...s,ref:a})});eI.displayName=JR;var Dx="PopperContent",[R9,I9]=YR(Dx),tI=h.forwardRef((e,t)=>{var ae,ke,Re,Ne,Ie,De;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...y}=e,w=XR(Dx,r),[x,g]=h.useState(null),b=we(t,ut=>g(ut)),[S,C]=h.useState(null),E=kp(S),N=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,T=n+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,_={padding:P,boundary:O.filter(O9),altBoundary:D},{refs:k,floatingStyles:F,placement:I,isPositioned:U,middlewareData:L}=w9({strategy:"fixed",placement:T,whileElementsMounted:(...ut)=>u9(...ut,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[S9({mainAxis:s+j,alignmentAxis:i}),c&&C9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?E9():void 0,..._}),c&&N9({..._}),j9({..._,apply:({elements:ut,rects:gt,availableWidth:Pt,availableHeight:ur})=>{const{width:dr,height:Pr}=gt.reference,vt=ut.floating.style;vt.setProperty("--radix-popper-available-width",`${Pt}px`),vt.setProperty("--radix-popper-available-height",`${ur}px`),vt.setProperty("--radix-popper-anchor-width",`${dr}px`),vt.setProperty("--radix-popper-anchor-height",`${Pr}px`)}}),S&&T9({element:S,padding:a}),M9({arrowWidth:N,arrowHeight:j}),p&&P9({strategy:"referenceHidden",..._})]}),[B,q]=sI(I),ie=bt(v);Wt(()=>{U&&(ie==null||ie())},[U,ie]);const fe=(ae=L.arrow)==null?void 0:ae.x,qe=(ke=L.arrow)==null?void 0:ke.y,Oe=((Re=L.arrow)==null?void 0:Re.centerOffset)!==0,[Je,Ke]=h.useState();return Wt(()=>{x&&Ke(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:U?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Ne=L.transformOrigin)==null?void 0:Ne.x,(Ie=L.transformOrigin)==null?void 0:Ie.y].join(" "),...((De=L.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(R9,{scope:r,placedSide:B,onArrowChange:C,arrowX:fe,arrowY:qe,shouldHideArrow:Oe,children:l.jsx(ue.div,{"data-side":B,"data-align":q,...y,ref:b,style:{...y.style,animation:U?void 0:"none"}})})})});tI.displayName=Dx;var rI="PopperArrow",_9={top:"bottom",right:"left",bottom:"top",left:"right"},nI=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=I9(rI,n),i=_9[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(A9,{...s,ref:r,style:{...s.style,display:"block"}})})});nI.displayName=rI;function O9(e){return e!==null}var M9=e=>({name:"transformOrigin",options:e,fn(t){var w,x,g;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=sI(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=i?f:`${p}px`,y=`${-c}px`):u==="top"?(v=i?f:`${p}px`,y=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=i?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,y=i?f:`${m}px`),{data:{x:v,y}}}});function sI(e){const[t,r="center"]=e.split("-");return[t,r]}var oI=ZR,iI=eI,aI=tI,lI=nI,L9=[" ","Enter","ArrowUp","ArrowDown"],F9=[" ","Enter"],Ri="Select",[Bp,zp,$9]=nu(Ri),[pl,vJ]=Er(Ri,[$9,$p]),Vp=$p(),[B9,Go]=pl(Ri),[z9,V9]=pl(Ri),cI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:v}=e,y=Vp(t),[w,x]=h.useState(null),[g,b]=h.useState(null),[S,C]=h.useState(!1),E=cl(u),[N,j]=Rs({prop:n,defaultProp:s??!1,onChange:o,caller:Ri}),[T,P]=Rs({prop:i,defaultProp:a,onChange:c,caller:Ri}),O=h.useRef(null),D=w?v||!!w.closest("form"):!0,[_,k]=h.useState(new Set),F=Array.from(_).map(I=>I.props.value).join(";");return l.jsx(oI,{...y,children:l.jsxs(B9,{required:m,scope:t,trigger:w,onTriggerChange:x,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:jo(),value:T,onValueChange:P,open:N,onOpenChange:j,dir:E,triggerPointerDownPosRef:O,disabled:p,children:[l.jsx(Bp.Provider,{scope:t,children:l.jsx(z9,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(I=>{k(U=>new Set(U).add(I))},[]),onNativeOptionRemove:h.useCallback(I=>{k(U=>{const L=new Set(U);return L.delete(I),L})},[]),children:r})}),D?l.jsxs(II,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:I=>P(I.target.value),disabled:p,form:v,children:[T===void 0?l.jsx("option",{value:""}):null,Array.from(_)]},F):null]})})};cI.displayName=Ri;var uI="SelectTrigger",dI=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Vp(r),i=Go(uI,r),a=i.disabled||n,c=we(t,i.onTriggerChange),u=zp(r),d=h.useRef("touch"),[f,p,m]=OI(y=>{const w=u().filter(b=>!b.disabled),x=w.find(b=>b.value===i.value),g=MI(w,y,x);g!==void 0&&i.onValueChange(g.value)}),v=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(iI,{asChild:!0,...o,children:l.jsx(ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_I(i.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:Q(s.onPointerDown,y=>{d.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Q(s.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(w&&y.key===" ")&&L9.includes(y.key)&&(v(),y.preventDefault())})})})});dI.displayName=uI;var fI="SelectValue",pI=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=Go(fI,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=we(t,c.onValueNodeChange);return Wt(()=>{u(d)},[u,d]),l.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:_I(c.value)?l.jsx(l.Fragment,{children:i}):o})});pI.displayName=fI;var U9="SelectIcon",hI=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});hI.displayName=U9;var W9="SelectPortal",mI=e=>l.jsx(ou,{asChild:!0,...e});mI.displayName=W9;var Ii="SelectContent",gI=h.forwardRef((e,t)=>{const r=Go(Ii,e.__scopeSelect),[n,s]=h.useState();if(Wt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Wo.createPortal(l.jsx(vI,{scope:e.__scopeSelect,children:l.jsx(Bp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(yI,{...e,ref:t})});gI.displayName=Ii;var bn=10,[vI,qo]=pl(Ii),H9="SelectContentImpl",G9=Wa("SelectContent.RemoveScroll"),yI=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:w,...x}=e,g=Go(Ii,r),[b,S]=h.useState(null),[C,E]=h.useState(null),N=we(t,ae=>S(ae)),[j,T]=h.useState(null),[P,O]=h.useState(null),D=zp(r),[_,k]=h.useState(!1),F=h.useRef(!1);h.useEffect(()=>{if(b)return dx(b)},[b]),ux();const I=h.useCallback(ae=>{const[ke,...Re]=D().map(De=>De.ref.current),[Ne]=Re.slice(-1),Ie=document.activeElement;for(const De of ae)if(De===Ie||(De==null||De.scrollIntoView({block:"nearest"}),De===ke&&C&&(C.scrollTop=0),De===Ne&&C&&(C.scrollTop=C.scrollHeight),De==null||De.focus(),document.activeElement!==Ie))return},[D,C]),U=h.useCallback(()=>I([j,b]),[I,j,b]);h.useEffect(()=>{_&&U()},[_,U]);const{onOpenChange:L,triggerPointerDownPosRef:B}=g;h.useEffect(()=>{if(b){let ae={x:0,y:0};const ke=Ne=>{var Ie,De;ae={x:Math.abs(Math.round(Ne.pageX)-(((Ie=B.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((De=B.current)==null?void 0:De.y)??0))}},Re=Ne=>{ae.x<=10&&ae.y<=10?Ne.preventDefault():b.contains(Ne.target)||L(!1),document.removeEventListener("pointermove",ke),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Re,{capture:!0})}}},[b,L,B]),h.useEffect(()=>{const ae=()=>L(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[L]);const[q,ie]=OI(ae=>{const ke=D().filter(Ie=>!Ie.disabled),Re=ke.find(Ie=>Ie.ref.current===document.activeElement),Ne=MI(ke,ae,Re);Ne&&setTimeout(()=>Ne.ref.current.focus())}),fe=h.useCallback((ae,ke,Re)=>{const Ne=!F.current&&!Re;(g.value!==void 0&&g.value===ke||Ne)&&(T(ae),Ne&&(F.current=!0))},[g.value]),qe=h.useCallback(()=>b==null?void 0:b.focus(),[b]),Oe=h.useCallback((ae,ke,Re)=>{const Ne=!F.current&&!Re;(g.value!==void 0&&g.value===ke||Ne)&&O(ae)},[g.value]),Je=n==="popper"?vv:xI,Ke=Je===vv?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return l.jsx(vI,{scope:r,content:b,viewport:C,onViewportChange:E,itemRefCallback:fe,selectedItem:j,onItemLeave:qe,itemTextRefCallback:Oe,focusSelectedItem:U,selectedItemText:P,position:n,isPositioned:_,searchRef:q,children:l.jsx(Np,{as:G9,allowPinchZoom:!0,children:l.jsx(Cp,{asChild:!0,trapped:g.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Q(s,ae=>{var ke;(ke=g.trigger)==null||ke.focus({preventScroll:!0}),ae.preventDefault()}),children:l.jsx(su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(Je,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ae=>ae.preventDefault(),...x,...Ke,onPlaced:()=>k(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Q(x.onKeyDown,ae=>{const ke=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ke&&ae.key.length===1&&ie(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ne=D().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ie=ae.target,De=Ne.indexOf(Ie);Ne=Ne.slice(De+1)}setTimeout(()=>I(Ne)),ae.preventDefault()}})})})})})})});yI.displayName=H9;var q9="SelectItemAlignedPosition",xI=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Go(Ii,r),i=qo(Ii,r),[a,c]=h.useState(null),[u,d]=h.useState(null),f=we(t,N=>d(N)),p=zp(r),m=h.useRef(!1),v=h.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:x,focusSelectedItem:g}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&w&&x){const N=o.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(o.dir!=="rtl"){const Ie=P.left-j.left,De=T.left-Ie,ut=N.left-De,gt=N.width+ut,Pt=Math.max(gt,j.width),ur=window.innerWidth-bn,dr=Ic(De,[bn,Math.max(bn,ur-Pt)]);a.style.minWidth=gt+"px",a.style.left=dr+"px"}else{const Ie=j.right-P.right,De=window.innerWidth-T.right-Ie,ut=window.innerWidth-N.right-De,gt=N.width+ut,Pt=Math.max(gt,j.width),ur=window.innerWidth-bn,dr=Ic(De,[bn,Math.max(bn,ur-Pt)]);a.style.minWidth=gt+"px",a.style.right=dr+"px"}const O=p(),D=window.innerHeight-bn*2,_=y.scrollHeight,k=window.getComputedStyle(u),F=parseInt(k.borderTopWidth,10),I=parseInt(k.paddingTop,10),U=parseInt(k.borderBottomWidth,10),L=parseInt(k.paddingBottom,10),B=F+I+_+L+U,q=Math.min(w.offsetHeight*5,B),ie=window.getComputedStyle(y),fe=parseInt(ie.paddingTop,10),qe=parseInt(ie.paddingBottom,10),Oe=N.top+N.height/2-bn,Je=D-Oe,Ke=w.offsetHeight/2,ae=w.offsetTop+Ke,ke=F+I+ae,Re=B-ke;if(ke<=Oe){const Ie=O.length>0&&w===O[O.length-1].ref.current;a.style.bottom="0px";const De=u.clientHeight-y.offsetTop-y.offsetHeight,ut=Math.max(Je,Ke+(Ie?qe:0)+De+U),gt=ke+ut;a.style.height=gt+"px"}else{const Ie=O.length>0&&w===O[0].ref.current;a.style.top="0px";const ut=Math.max(Oe,F+y.offsetTop+(Ie?fe:0)+Ke)+Re;a.style.height=ut+"px",y.scrollTop=ke-Oe+y.offsetTop}a.style.margin=`${bn}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,w,x,o.dir,n]);Wt(()=>b(),[b]);const[S,C]=h.useState();Wt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(N=>{N&&v.current===!0&&(b(),g==null||g(),v.current=!1)},[b,g]);return l.jsx(Q9,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xI.displayName=q9;var K9="SelectPopperPosition",vv=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=bn,...o}=e,i=Vp(r);return l.jsx(aI,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vv.displayName=K9;var[Q9,Rx]=pl(Ii,{}),yv="SelectViewport",wI=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=qo(yv,r),i=Rx(yv,r),a=we(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Bp.Slot,{scope:r,children:l.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-bn*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(y,w);if(x<v){const g=x+m,b=Math.min(v,g),S=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wI.displayName=yv;var bI="SelectGroup",[Y9,X9]=pl(bI),Z9=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jo();return l.jsx(Y9,{scope:r,id:s,children:l.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Z9.displayName=bI;var SI="SelectLabel",CI=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=X9(SI,r);return l.jsx(ue.div,{id:s.id,...n,ref:t})});CI.displayName=SI;var Of="SelectItem",[J9,EI]=pl(Of),NI=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Go(Of,r),c=qo(Of,r),u=a.value===n,[d,f]=h.useState(o??""),[p,m]=h.useState(!1),v=we(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,n,s)}),y=jo(),w=h.useRef("touch"),x=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(J9,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:h.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:l.jsx(Bp.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(ue.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Q(i.onFocus,()=>m(!0)),onBlur:Q(i.onBlur,()=>m(!1)),onClick:Q(i.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:Q(i.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:Q(i.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:Q(i.onPointerMove,g=>{var b;w.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Q(i.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(F9.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});NI.displayName=Of;var Hl="SelectItemText",jI=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Go(Hl,r),a=qo(Hl,r),c=EI(Hl,r),u=V9(Hl,r),[d,f]=h.useState(null),p=we(t,x=>f(x),c.onItemTextChange,x=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Wt(()=>(y(v),()=>w(v)),[y,w,v]),l.jsxs(l.Fragment,{children:[l.jsx(ue.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Wo.createPortal(o.children,i.valueNode):null]})});jI.displayName=Hl;var PI="SelectItemIndicator",TI=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return EI(PI,r).isSelected?l.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});TI.displayName=PI;var xv="SelectScrollUpButton",kI=h.forwardRef((e,t)=>{const r=qo(xv,e.__scopeSelect),n=Rx(xv,e.__scopeSelect),[s,o]=h.useState(!1),i=we(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(DI,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});kI.displayName=xv;var wv="SelectScrollDownButton",AI=h.forwardRef((e,t)=>{const r=qo(wv,e.__scopeSelect),n=Rx(wv,e.__scopeSelect),[s,o]=h.useState(!1),i=we(t,n.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(DI,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});AI.displayName=wv;var DI=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=qo("SelectScrollButton",r),i=h.useRef(null),a=zp(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Wt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Q(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),eH="SelectSeparator",RI=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});RI.displayName=eH;var bv="SelectArrow",tH=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vp(r),o=Go(bv,r),i=qo(bv,r);return o.open&&i.position==="popper"?l.jsx(lI,{...s,...n,ref:t}):null});tH.displayName=bv;var rH="SelectBubbleInput",II=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=we(n,s),i=Tp(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(ue.select,{...r,style:{...s2,...r.style},ref:o,defaultValue:t})});II.displayName=rH;function _I(e){return e===""||e===void 0}function OI(e){const t=bt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function MI(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=nH(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function nH(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sH=cI,LI=dI,oH=pI,iH=hI,aH=mI,FI=gI,lH=wI,$I=CI,BI=NI,cH=jI,uH=TI,zI=kI,VI=AI,UI=RI;const Mf=sH,Lf=oH,Mc=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(LI,{ref:n,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(iH,{asChild:!0,children:l.jsx(P2,{className:"h-4 w-4 opacity-50"})})]}));Mc.displayName=LI.displayName;const WI=h.forwardRef(({className:e,...t},r)=>l.jsx(zI,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(GB,{className:"h-4 w-4"})}));WI.displayName=zI.displayName;const HI=h.forwardRef(({className:e,...t},r)=>l.jsx(VI,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(P2,{className:"h-4 w-4"})}));HI.displayName=VI.displayName;const Lc=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(aH,{children:l.jsxs(FI,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(WI,{}),l.jsx(lH,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(HI,{})]})}));Lc.displayName=FI.displayName;const dH=h.forwardRef(({className:e,...t},r)=>l.jsx($I,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));dH.displayName=$I.displayName;const ai=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(BI,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(uH,{children:l.jsx(Hy,{className:"h-4 w-4"})})}),l.jsx(cH,{children:t})]}));ai.displayName=BI.displayName;const fH=h.forwardRef(({className:e,...t},r)=>l.jsx(UI,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));fH.displayName=UI.displayName;function pH(){const{user:e,isLoading:t}=gn(),{toast:r}=Cr(),[,n]=Fs(),[s,o]=h.useState(null);if(t)return l.jsx("div",{children:"Loading..."});if(!e||e.role!=="admin")return n("/"),null;const{data:i,isLoading:a}=Fy({queryKey:["/api/users"],queryFn:async()=>{const I=await xr("GET","/api/users");if(!I.ok)throw new Error("ユーザー取得失敗");return await I.json()},refetchOnWindowFocus:!1});h.useEffect(()=>{s&&r({title:"エラー",description:"ユーザー一覧の取得に失敗しました",variant:"destructive"})},[s,r]);const[c,u]=h.useState(!1),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,y]=h.useState(null),[w,x]=h.useState({username:"",password:"",display_name:"",role:"employee"}),[g,b]=h.useState({username:"",display_name:"",role:"employee",password:""}),S=()=>{x({username:"",password:"",display_name:"",role:"employee",department:""})},C=Dd({mutationFn:async I=>await(await xr("POST","/api/users",I)).json(),onSuccess:()=>{yi.invalidateQueries({queryKey:["/api/users"]}),r({title:"ユーザー作成完了",description:"新しいユーザーが作成されました"}),u(!1),S()},onError:I=>{r({title:"ユーザー作成失敗",description:I.message||"ユーザー作成中にエラーが発生しました",variant:"destructive"})}}),E=I=>{if(I.preventDefault(),!w.username||!w.password||!w.display_name||!w.role){r({title:"入力エラー",description:"ユーザー名、パスワード、表示名、権限は必須項目です",variant:"destructive"});return}C.mutate({username:w.username,password:w.password,display_name:w.display_name,role:w.role||"employee",department:w.department||void 0})},N=I=>{const{name:U,value:L}=I.target;x(B=>({...B,[U]:L}))},j=(I,U)=>{x(L=>({...L,[I]:U}))},T=(I,U)=>{b(L=>({...L,[I]:U}))},P=I=>{const{name:U,value:L}=I.target;b(B=>({...B,[U]:L}))},O=I=>{y(I.id),b({username:I.username,display_name:I.display_name,role:I.role,department:I.department,password:""}),f(!0)},D=I=>{y(I),m(!0)},_=Dd({mutationFn:async I=>{if(!v)throw new Error("ユーザーIDが選択されていません");console.log(`[DEBUG] ユーザー更新リクエスト送信: ID="${v}"`,I),console.log(`[DEBUG] selectedUserId type: ${typeof v}, length: ${v.length}`),console.log("[DEBUG] selectedUserId bytes:",v?Array.from(v).map(L=>L.charCodeAt(0)):"null"),console.log("[DEBUG] API URL:",`/api/users/${v}`),console.log("[DEBUG] 送信データ:",JSON.stringify(I,null,2));const U=await xr("PATCH",`/api/users/${v}`,I);if(console.log(`[DEBUG] レスポンスステータス: ${U.status}`),console.log("[DEBUG] レスポンスヘッダー:",Object.fromEntries(U.headers.entries())),!U.ok){const L=await U.json();throw console.error(`[ERROR] ユーザー更新失敗: ${U.status}`,L),console.error("[ERROR] 完全なエラーレスポンス:",JSON.stringify(L,null,2)),new Error(L.message||`HTTP ${U.status}: ユーザー更新に失敗しました`)}return await U.json()},onSuccess:()=>{yi.invalidateQueries({queryKey:["/api/users"]}),r({title:"ユーザー更新完了",description:"ユーザー情報が更新されました"}),f(!1)},onError:I=>{r({title:"ユーザー更新失敗",description:I.message||"ユーザー更新中にエラーが発生しました",variant:"destructive"})}}),k=Dd({mutationFn:async()=>{if(!v)throw new Error("ユーザーIDが選択されていません");if(e&&v===e.id)throw new Error("自分自身のアカウントは削除できません");const I=await xr("DELETE",`/api/users/${v}`);if(!I.ok){const U=await I.json();throw I.status===500?new Error("ユーザーに関連するデータが存在するため削除できません。関連データをすべて削除してから再度お試しください。"):new Error(U.message||"ユーザー削除中にエラーが発生しました")}return await I.json()},onSuccess:()=>{yi.invalidateQueries({queryKey:["/api/users"]}),r({title:"ユーザー削除完了",description:"ユーザーが削除されました"}),m(!1)},onError:I=>{r({title:"ユーザー削除失敗",description:I.message||"ユーザー削除中にエラーが発生しました",variant:"destructive"}),m(!1)}}),F=I=>{if(I.preventDefault(),!g.username||!g.display_name){r({title:"入力エラー",description:"必須項目を入力してください",variant:"destructive"});return}const U={...g};!U.password||typeof U.password!="string"||U.password.trim().length===0?(delete U.password,console.log("空のパスワードフィールドを除去しました")):console.log("パスワードフィールドを送信します"),console.log("送信するユーザーデータ:",{...U,password:U.password?"[SET]":"[NOT_SET]"}),_.mutate(U)};return!e||e&&e.role!=="admin"?l.jsx("div",{children:"Loading..."}):l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 max-w-5xl mx-auto w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[l.jsx(I2,{className:"mr-2 h-6 w-6"}),"ユーザー管理"]}),l.jsx("p",{className:"text-neutral-300",children:"システムの全ユーザーを管理します"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Nc,{href:"/settings",children:l.jsxs(H,{variant:"outline",size:"sm",children:[l.jsx(Pc,{className:"mr-2 h-4 w-4"}),"設定に戻る"]})}),l.jsxs(Ns,{open:c,onOpenChange:u,children:[l.jsx(VD,{asChild:!0,children:l.jsxs(H,{children:[l.jsx(_2,{className:"mr-2 h-4 w-4"}),"新規ユーザー作成"]})}),l.jsxs(ss,{children:[l.jsxs(js,{children:[l.jsx(os,{children:"新規ユーザー作成"}),l.jsx(Po,{children:"新しいユーザーアカウントを作成します。"})]}),l.jsxs("form",{onSubmit:E,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"username",children:"ユーザー名"}),l.jsx(Et,{id:"username",name:"username",value:w.username,onChange:N,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"password",children:"パスワード"}),l.jsx(Et,{id:"password",name:"password",type:"password",value:w.password,onChange:N,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"display_name",children:"表示名"}),l.jsx(Et,{id:"display_name",name:"display_name",value:w.display_name,onChange:N,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"department",children:"部署"}),l.jsx(Et,{id:"department",name:"department",value:w.department||"",onChange:N})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"role",children:"権限"}),l.jsxs(Mf,{value:w.role,onValueChange:I=>j("role",I),children:[l.jsx(Mc,{children:l.jsx(Lf,{placeholder:"権限を選択"})}),l.jsxs(Lc,{children:[l.jsx(ai,{value:"employee",children:"一般ユーザー"}),l.jsx(ai,{value:"admin",children:"管理者"})]})]})]})]}),l.jsxs(xi,{children:[l.jsx(H,{type:"button",variant:"outline",onClick:()=>u(!1),children:"キャンセル"}),l.jsx(H,{type:"submit",disabled:C.isPending,children:C.isPending?"作成中...":"作成"})]})]})]})]})]})]}),l.jsxs(rt,{children:[l.jsx(ar,{className:"pb-2",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx(O2,{className:"mr-2 h-5 w-5"}),"ユーザー一覧"]})}),l.jsx(nt,{children:a?l.jsx("div",{className:"flex justify-center p-4",children:"読み込み中..."}):l.jsxs(yu,{children:[l.jsx(xu,{children:l.jsxs(On,{children:[l.jsx(zt,{children:"ユーザー名"}),l.jsx(zt,{children:"表示名"}),l.jsx(zt,{children:"権限"}),l.jsx(zt,{children:"部署"}),l.jsx(zt,{className:"text-right",children:"アクション"})]})}),l.jsx(wu,{children:i&&i.length>0?i.map(I=>l.jsxs(On,{children:[l.jsx(At,{children:I.username}),l.jsx(At,{children:I.display_name}),l.jsx(At,{children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${I.role==="admin"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:I.role==="admin"?"管理者":"一般ユーザー"})}),l.jsx(At,{children:I.department||"-"}),l.jsx(At,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(H,{variant:"outline",size:"sm",onClick:()=>O(I),children:l.jsx(Bg,{className:"h-4 w-4"})}),l.jsx(H,{variant:"outline",size:"sm",onClick:()=>D(I.id),className:"text-red-500 hover:text-red-700",children:l.jsx(_o,{className:"h-4 w-4"})})]})})]},I.id)):l.jsx(On,{children:l.jsx(At,{colSpan:5,className:"text-center",children:"ユーザーが見つかりません"})})})]})})]}),l.jsx(Ns,{open:d,onOpenChange:f,children:l.jsxs(ss,{children:[l.jsxs(js,{children:[l.jsx(os,{children:"ユーザー編集"}),l.jsx(Po,{children:"ユーザーアカウント情報を編集します。"})]}),l.jsxs("form",{onSubmit:F,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"edit-username",children:"ユーザー名"}),l.jsx(Et,{id:"edit-username",name:"username",value:g.username,onChange:P,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"edit-display_name",children:"表示名"}),l.jsx(Et,{id:"edit-display_name",name:"display_name",value:g.display_name,onChange:P,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"edit-password",children:"新しいパスワード（変更する場合のみ）"}),l.jsx(Et,{id:"edit-password",name:"password",type:"password",value:g.password||"",onChange:P,placeholder:"パスワードを変更しない場合は空欄のまま"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"※パスワードを変更しない場合は空のままにしてください"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"edit-department",children:"部署"}),l.jsx(Et,{id:"edit-department",name:"department",value:g.department||"",onChange:P})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"edit-role",children:"権限"}),l.jsxs(Mf,{value:g.role,onValueChange:I=>T("role",I),children:[l.jsx(Mc,{children:l.jsx(Lf,{placeholder:"権限を選択"})}),l.jsxs(Lc,{children:[l.jsx(ai,{value:"employee",children:"一般ユーザー"}),l.jsx(ai,{value:"admin",children:"管理者"})]})]})]})]}),l.jsxs(xi,{children:[l.jsx(H,{type:"button",variant:"outline",onClick:()=>f(!1),children:"キャンセル"}),l.jsx(H,{type:"submit",disabled:_.isPending,children:_.isPending?"更新中...":"更新"})]})]})]})}),l.jsx(Ns,{open:p,onOpenChange:m,children:l.jsxs(ss,{children:[l.jsxs(js,{children:[l.jsxs(os,{className:"flex items-center",children:[l.jsx(Mg,{className:"h-5 w-5 mr-2 text-red-500"}),"ユーザー削除の確認"]}),l.jsx(Po,{children:"このユーザーを削除すると、関連するすべてのデータが削除されます。この操作は元に戻せません。"})]}),l.jsxs("div",{className:"py-4 space-y-2",children:[l.jsx("p",{className:"text-center font-medium",children:"本当にこのユーザーを削除しますか？"}),l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 text-sm text-amber-800",children:l.jsxs("p",{className:"flex items-start",children:[l.jsx(Mg,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),l.jsxs("span",{children:[l.jsx("strong",{children:"注意:"})," チャット、メッセージ、ドキュメントなど、このユーザーに関連するすべてのデータが削除されます。 ユーザーがチャットやドキュメントを持っている場合、それらも同時に削除されます。"]})]})})]}),l.jsxs(xi,{children:[l.jsx(H,{type:"button",variant:"outline",onClick:()=>m(!1),children:"キャンセル"}),l.jsx(H,{type:"button",variant:"destructive",onClick:()=>k.mutate(),disabled:k.isPending,children:k.isPending?"削除中...":"削除"})]})]})})]})}const wS=[{value:"pdf",label:"PDF文書"},{value:"excel",label:"Excel"},{value:"word",label:"Word"},{value:"powerpoint",label:"PowerPoint"},{value:"text",label:"テキスト"},{value:"image",label:"画像"}];function hH(){const{user:e}=gn(),{toast:t}=Cr(),[,r]=Fs();h.useEffect(()=>{e&&e.role!=="admin"&&r("/")},[e,r]);const{data:n,isLoading:s}=Fy({queryKey:["/api/documents"],refetchOnWindowFocus:!1}),[o,i]=h.useState(!1),[a,c]=h.useState({title:"",content:"",type:"pdf",url:"",keywords:""}),u=()=>{c({title:"",content:"",type:"pdf",url:"",keywords:""})},d=Dd({mutationFn:async v=>{const y={...v,keywords:v.keywords?v.keywords.split(",").map(g=>g.trim()):void 0};delete y.keywords;const x=await(await xr("POST","/api/documents",y)).json();if(v.keywords){const g=v.keywords.split(",").map(b=>b.trim());for(const b of g)await xr("POST","/api/keywords",{documentId:x.id,word:b})}return x},onSuccess:()=>{yi.invalidateQueries({queryKey:["/api/documents"]}),t({title:"ドキュメント作成完了",description:"新しいドキュメントが登録されました"}),i(!1),u()},onError:v=>{t({title:"ドキュメント作成失敗",description:v.message||"ドキュメント作成中にエラーが発生しました",variant:"destructive"})}}),f=v=>{if(v.preventDefault(),!a.title||!a.url){t({title:"入力エラー",description:"タイトルとURLは必須です",variant:"destructive"});return}d.mutate(a)},p=v=>{const{name:y,value:w}=v.target;c(x=>({...x,[y]:w}))},m=(v,y)=>{c(w=>({...w,[v]:y}))};return!e||e&&e.role!=="admin"?l.jsx("div",{children:"Loading..."}):l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 max-w-5xl mx-auto w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[l.jsx(A2,{className:"mr-2 h-6 w-6"}),"ドキュメント管理"]}),l.jsx("p",{className:"text-neutral-300",children:"検索と解析に利用する資料を管理します"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Nc,{href:"/settings",children:l.jsxs(H,{variant:"outline",size:"sm",children:[l.jsx(Pc,{className:"mr-2 h-4 w-4"}),"設定に戻る"]})}),l.jsxs(Ns,{open:o,onOpenChange:i,children:[l.jsx(VD,{asChild:!0,children:l.jsxs(H,{children:[l.jsx(Ha,{className:"mr-2 h-4 w-4"}),"新規ドキュメント追加"]})}),l.jsxs(ss,{className:"max-w-md",children:[l.jsxs(js,{children:[l.jsx(os,{children:"新規ドキュメント登録"}),l.jsx(Po,{children:"検索対象となる新しいドキュメントを登録します。"})]}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"title",children:"タイトル"}),l.jsx(Et,{id:"title",name:"title",value:a.title,onChange:p,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"type",children:"ドキュメントタイプ"}),l.jsxs(Mf,{value:a.type,onValueChange:v=>m("type",v),children:[l.jsx(Mc,{children:l.jsx(Lf,{placeholder:"タイプを選択"})}),l.jsx(Lc,{children:wS.map(v=>l.jsx(ai,{value:v.value,children:v.label},v.value))})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"url",children:"URL/ファイルパス"}),l.jsx(Et,{id:"url",name:"url",value:a.url,onChange:p,required:!0}),l.jsx("p",{className:"text-xs text-neutral-300",children:"ファイルの場所またはURLを指定してください"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"content",children:"説明/概要"}),l.jsx(du,{id:"content",name:"content",rows:3,value:a.content,onChange:p})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(et,{htmlFor:"keywords",children:"キーワード"}),l.jsx(Et,{id:"keywords",name:"keywords",value:a.keywords,onChange:p,placeholder:"キーワード1, キーワード2, キーワード3"}),l.jsx("p",{className:"text-xs text-neutral-300",children:"カンマ区切りで複数のキーワードを指定できます"})]})]}),l.jsxs(xi,{children:[l.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:"キャンセル"}),l.jsx(H,{type:"submit",disabled:d.isPending,children:d.isPending?"登録中...":"登録"})]})]})]})]})]})]}),l.jsxs(rt,{children:[l.jsx(ar,{className:"pb-2",children:l.jsxs(lr,{className:"text-lg flex items-center",children:[l.jsx(o3,{className:"mr-2 h-5 w-5"}),"登録済みドキュメント"]})}),l.jsx(nt,{children:s?l.jsx("div",{className:"flex justify-center p-4",children:"読み込み中..."}):l.jsxs(yu,{children:[l.jsx(xu,{children:l.jsxs(On,{children:[l.jsx(zt,{children:"ID"}),l.jsx(zt,{children:"タイトル"}),l.jsx(zt,{children:"タイプ"}),l.jsx(zt,{children:"作成日"}),l.jsx(zt,{children:"キーワード"})]})}),l.jsx(wu,{children:n&&n.length>0?n.map(v=>{var y;return l.jsxs(On,{children:[l.jsx(At,{children:v.id}),l.jsx(At,{className:"font-medium",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:v.title}),l.jsx("span",{className:"text-xs text-neutral-400 truncate max-w-[200px]",children:v.url})]})}),l.jsx(At,{children:l.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-neutral-100",children:((y=wS.find(w=>w.value===v.type))==null?void 0:y.label)||v.type})}),l.jsx(At,{children:v.createdAt?Wl(new Date(v.createdAt),"yyyy/MM/dd"):"-"}),l.jsx(At,{children:l.jsx("div",{className:"flex flex-wrap gap-1",children:v.keywords&&v.keywords.length>0?v.keywords.map((w,x)=>l.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800",children:[l.jsx(c3,{className:"h-3 w-3 mr-1"}),w]},x)):l.jsx("span",{className:"text-neutral-400 text-xs",children:"-"})})})]},v.id)}):l.jsx(On,{children:l.jsx(At,{colSpan:5,className:"text-center",children:"ドキュメントが見つかりません"})})})]})})]})]})}var Ix="Progress",_x=100,[mH,yJ]=Er(Ix),[gH,vH]=mH(Ix),GI=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=yH,...i}=e;(s||s===0)&&!bS(s)&&console.error(xH(`${s}`,"Progress"));const a=bS(s)?s:_x;n!==null&&!SS(n,a)&&console.error(wH(`${n}`,"Progress"));const c=SS(n,a)?n:null,u=Ff(c)?o(c,a):void 0;return l.jsx(gH,{scope:r,value:c,max:a,children:l.jsx(ue.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ff(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":QI(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});GI.displayName=Ix;var qI="ProgressIndicator",KI=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=vH(qI,r);return l.jsx(ue.div,{"data-state":QI(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});KI.displayName=qI;function yH(e,t){return`${Math.round(e/t*100)}%`}function QI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ff(e){return typeof e=="number"}function bS(e){return Ff(e)&&!isNaN(e)&&e>0}function SS(e,t){return Ff(e)&&!isNaN(e)&&e<=t&&e>=0}function xH(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_x}\`.`}function wH(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_x} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var YI=GI,bH=KI;const XI=h.forwardRef(({className:e,value:t,...r},n)=>l.jsx(YI,{ref:n,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(bH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));XI.displayName=YI.displayName;const SH=({onUploadSuccess:e})=>{const{toast:t}=Cr(),r=h.useRef(null),[n,s]=h.useState(null),[o,i]=h.useState(!1),[a,c]=h.useState(0),[u,d]=h.useState(!1),[f,p]=h.useState(!1),m=!0,[v,y]=h.useState(""),[w,x]=h.useState(!1),g=async()=>{if(!v.trim()){t({title:"入力エラー",description:"キーワードを入力してください",variant:"destructive"});return}try{x(!0),t({title:"フロー生成中",description:`キーワード「${v}」からフローを生成しています...`});const E=await fetch("/api/flow-generator/generate-from-keywords",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keywords:v})});if(!E.ok){const j=await E.json();throw new Error(j.error||"生成に失敗しました")}const N=await E.json();if(console.log("APIからの応答データ:",N),N.success&&N.flowData)t({title:"フロー生成完了",description:`「${N.flowData.title||"タイトルなし"}」が生成されました。`}),e&&e(N.flowData.id),y("");else throw new Error("フローデータの形式が無効です")}catch(E){console.error("フロー生成エラー:",E),t({title:"生成エラー",description:E instanceof Error?E.message:"フローの生成に失敗しました",variant:"destructive"})}finally{x(!1)}},b=()=>{r.current&&r.current.click()},S=E=>{if(E.target.files&&E.target.files.length>0){const N=E.target.files[0],j=N.name.toLowerCase().split(".").pop()||"";if(!["pptx","ppt","xlsx","xls","pdf","json"].includes(j)){t({title:"未対応のファイル形式",description:"PowerPoint(.pptx, .ppt)、Excel(.xlsx, .xls)、PDF(.pdf)、またはJSON(.json)ファイルのみアップロード可能です",variant:"destructive"});return}s(N)}},C=async()=>{if(!n){t({title:"ファイルが選択されていません",description:"アップロードするファイルを選択してください",variant:"destructive"});return}i(!0),c(0);try{const E=new FormData;E.append("file",n),E.append("saveOriginalFile",f.toString()),E.append("autoGenerateFlow",m.toString());const N=setInterval(()=>{c(P=>P>=90?(clearInterval(N),90):P+10)},500),j=await fetch("/api/emergency-guide/process",{method:"POST",body:E});if(clearInterval(N),!j.ok)throw new Error("ファイルのアップロードに失敗しました");const T=await j.json();if(T.success)c(100),d(!0),t({title:"アップロード成功",description:"ファイルが正常に処理されました"}),e&&e(T.guideId),setTimeout(()=>{s(null),d(!1),c(0)},3e3);else throw new Error(T.error||"ファイル処理中にエラーが発生しました")}catch(E){console.error("Upload error:",E),t({title:"エラー",description:E instanceof Error?E.message:"ファイルのアップロードに失敗しました",variant:"destructive"})}finally{i(!1)}};return l.jsxs(rt,{className:"w-full",children:[l.jsxs(ar,{children:[l.jsx(lr,{children:"応急処置フロー生成"}),l.jsx(Ky,{children:"キーワードやファイルから応急処置フローを生成・編集できます"})]}),l.jsx(nt,{children:l.jsxs(Ip,{defaultValue:"keywords",className:"w-full",children:[l.jsxs(vu,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsx(is,{value:"keywords",children:"キーワードから生成"}),l.jsx(is,{value:"file",children:"ファイルから生成"})]}),l.jsx(as,{value:"keywords",className:"space-y-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"発生事象キーワード"}),l.jsx(du,{placeholder:"具体的な事象や状況、機器名などを入力してください！自動的に判断します。",value:v,onChange:E=>y(E.target.value),className:"min-h-[100px]"}),l.jsx("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:l.jsxs("span",{children:[v.length,"/100文字"]})})]}),l.jsx(H,{className:"w-full",variant:"default",onClick:g,disabled:w||!v.trim(),children:w?l.jsxs(l.Fragment,{children:[l.jsx(Co,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):l.jsxs(l.Fragment,{children:[l.jsx(p3,{className:"mr-2 h-4 w-4"}),"GPTフロー生成"]})}),l.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 rounded-md border border-blue-200",children:[l.jsx(nb,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-gray-700",children:[l.jsx("p",{className:"font-medium mb-1",children:"主な流れ:"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-1 pl-1",children:[l.jsx("li",{children:"キーワードを入力してGPTフロー生成"}),l.jsx("li",{children:"生成された最適な応急処置フローを選択"}),l.jsx("li",{children:"選択したフローは以下の方法で編集可能："}),l.jsxs("ul",{className:"list-disc list-inside pl-6 space-y-1",children:[l.jsx("li",{children:"「テキスト編集」タブ：フローの内容をテキストベースで編集"}),l.jsx("li",{children:"「キャラクター編集」タブ：フローチャートとして視覚的に編集"})]})]})]})]})]})}),l.jsx(as,{value:"file",className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:r,onChange:S,accept:".pptx,.ppt,.xlsx,.xls,.pdf,.json",className:"hidden"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"ファイルアップロード"}),l.jsx(H,{variant:"outline",className:"w-full h-24 border-dashed",onClick:b,children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Tc,{className:"h-8 w-8 text-gray-400 mb-2"}),l.jsx("p",{className:"text-gray-700 font-medium",children:"クリックしてファイルを選択"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PowerPoint、Excel、PDF、またはJSONファイル"})]})})]}),n&&l.jsx("div",{className:"mb-4 p-3 bg-indigo-50 rounded-md border border-indigo-200",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Tc,{className:"h-5 w-5 text-indigo-600 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-indigo-700",children:n.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024/1024).toFixed(2)," MB"]})]})]})}),(o||u)&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:u?"完了":"処理中..."}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[a,"%"]})]}),l.jsx(XI,{value:a,className:"h-2"})]}),l.jsx("div",{className:"flex mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(bx,{id:"saveOriginalFile",checked:f,onCheckedChange:E=>p(E===!0)}),l.jsx(et,{htmlFor:"saveOriginalFile",className:"text-sm text-gray-700",children:"元のファイルも保存する"})]})}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4 bg-amber-50 p-2 rounded-md border border-amber-200",children:[l.jsx(nb,{className:"h-4 w-4 text-amber-500 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-gray-700",children:"アップロード後、自動的に応急処置フローが生成されます"})]}),l.jsx(H,{className:"w-full",onClick:C,disabled:!n||o||u,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Co,{className:"mr-2 h-4 w-4 animate-spin"}),"処理中..."]}):u?l.jsxs(l.Fragment,{children:[l.jsx(Gy,{className:"mr-2 h-4 w-4"}),"完了しました"]}):"アップロードして処理"})]})})]})})]})};var Sv=["Enter"," "],CH=["ArrowDown","PageUp","Home"],ZI=["ArrowUp","PageDown","End"],EH=[...CH,...ZI],NH={ltr:[...Sv,"ArrowRight"],rtl:[...Sv,"ArrowLeft"]},jH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Su="Menu",[Fc,PH,TH]=nu(Su),[$i,JI]=Er(Su,[TH,$p,Dp]),Up=$p(),e_=Dp(),[kH,Bi]=$i(Su),[AH,Cu]=$i(Su),t_=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=Up(t),[c,u]=h.useState(null),d=h.useRef(!1),f=bt(o),p=cl(s);return h.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(oI,{...a,children:l.jsx(kH,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(AH,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:n})})})};t_.displayName=Su;var DH="MenuAnchor",Ox=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Up(r);return l.jsx(iI,{...s,...n,ref:t})});Ox.displayName=DH;var Mx="MenuPortal",[RH,r_]=$i(Mx,{forceMount:void 0}),n_=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Bi(Mx,t);return l.jsx(RH,{scope:t,forceMount:r,children:l.jsx(Nr,{present:r||o.open,children:l.jsx(ou,{asChild:!0,container:s,children:n})})})};n_.displayName=Mx;var dn="MenuContent",[IH,Lx]=$i(dn),s_=h.forwardRef((e,t)=>{const r=r_(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Bi(dn,e.__scopeMenu),i=Cu(dn,e.__scopeMenu);return l.jsx(Fc.Provider,{scope:e.__scopeMenu,children:l.jsx(Nr,{present:n||o.open,children:l.jsx(Fc.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(_H,{...s,ref:t}):l.jsx(OH,{...s,ref:t})})})})}),_H=h.forwardRef((e,t)=>{const r=Bi(dn,e.__scopeMenu),n=h.useRef(null),s=we(t,n);return h.useEffect(()=>{const o=n.current;if(o)return dx(o)},[]),l.jsx(Fx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),OH=h.forwardRef((e,t)=>{const r=Bi(dn,e.__scopeMenu);return l.jsx(Fx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),MH=Wa("MenuContent.ScrollLock"),Fx=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...y}=e,w=Bi(dn,r),x=Cu(dn,r),g=Up(r),b=e_(r),S=PH(r),[C,E]=h.useState(null),N=h.useRef(null),j=we(t,N,w.onContentChange),T=h.useRef(0),P=h.useRef(""),O=h.useRef(0),D=h.useRef(null),_=h.useRef("right"),k=h.useRef(0),F=v?Np:h.Fragment,I=v?{as:MH,allowPinchZoom:!0}:void 0,U=B=>{var ae,ke;const q=P.current+B,ie=S().filter(Re=>!Re.disabled),fe=document.activeElement,qe=(ae=ie.find(Re=>Re.ref.current===fe))==null?void 0:ae.textValue,Oe=ie.map(Re=>Re.textValue),Je=KH(Oe,q,qe),Ke=(ke=ie.find(Re=>Re.textValue===Je))==null?void 0:ke.ref.current;(function Re(Ne){P.current=Ne,window.clearTimeout(T.current),Ne!==""&&(T.current=window.setTimeout(()=>Re(""),1e3))})(q),Ke&&setTimeout(()=>Ke.focus())};h.useEffect(()=>()=>window.clearTimeout(T.current),[]),ux();const L=h.useCallback(B=>{var ie,fe;return _.current===((ie=D.current)==null?void 0:ie.side)&&YH(B,(fe=D.current)==null?void 0:fe.area)},[]);return l.jsx(IH,{scope:r,searchRef:P,onItemEnter:h.useCallback(B=>{L(B)&&B.preventDefault()},[L]),onItemLeave:h.useCallback(B=>{var q;L(B)||((q=N.current)==null||q.focus(),E(null))},[L]),onTriggerLeave:h.useCallback(B=>{L(B)&&B.preventDefault()},[L]),pointerGraceTimerRef:O,onPointerGraceIntentChange:h.useCallback(B=>{D.current=B},[]),children:l.jsx(F,{...I,children:l.jsx(Cp,{asChild:!0,trapped:s,onMountAutoFocus:Q(o,B=>{var q;B.preventDefault(),(q=N.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(su,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:l.jsx(tR,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:E,onEntryFocus:Q(c,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(aI,{role:"menu","aria-orientation":"vertical","data-state":w_(w.open),"data-radix-menu-content":"",dir:x.dir,...g,...y,ref:j,style:{outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,B=>{const ie=B.target.closest("[data-radix-menu-content]")===B.currentTarget,fe=B.ctrlKey||B.altKey||B.metaKey,qe=B.key.length===1;ie&&(B.key==="Tab"&&B.preventDefault(),!fe&&qe&&U(B.key));const Oe=N.current;if(B.target!==Oe||!EH.includes(B.key))return;B.preventDefault();const Ke=S().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);ZI.includes(B.key)&&Ke.reverse(),GH(Ke)}),onBlur:Q(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(T.current),P.current="")}),onPointerMove:Q(e.onPointerMove,$c(B=>{const q=B.target,ie=k.current!==B.clientX;if(B.currentTarget.contains(q)&&ie){const fe=B.clientX>k.current?"right":"left";_.current=fe,k.current=B.clientX}}))})})})})})})});s_.displayName=dn;var LH="MenuGroup",$x=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ue.div,{role:"group",...n,ref:t})});$x.displayName=LH;var FH="MenuLabel",o_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ue.div,{...n,ref:t})});o_.displayName=FH;var $f="MenuItem",CS="menu.itemSelect",Wp=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=Cu($f,e.__scopeMenu),a=Lx($f,e.__scopeMenu),c=we(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(CS,{bubbles:!0,cancelable:!0});f.addEventListener(CS,m=>n==null?void 0:n(m),{once:!0}),By(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(i_,{...s,ref:c,disabled:r,onClick:Q(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:Q(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Q(e.onKeyDown,f=>{const p=a.searchRef.current!=="";r||p&&f.key===" "||Sv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Wp.displayName=$f;var i_=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=Lx($f,r),a=e_(r),c=h.useRef(null),u=we(t,c),[d,f]=h.useState(!1),[p,m]=h.useState("");return h.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[o.children]),l.jsx(Fc.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:l.jsx(rR,{asChild:!0,...a,focusable:!n,children:l.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:Q(e.onPointerMove,$c(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,$c(v=>i.onItemLeave(v))),onFocus:Q(e.onFocus,()=>f(!0)),onBlur:Q(e.onBlur,()=>f(!1))})})})}),$H="MenuCheckboxItem",a_=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(f_,{scope:e.__scopeMenu,checked:r,children:l.jsx(Wp,{role:"menuitemcheckbox","aria-checked":Bf(r)?"mixed":r,...s,ref:t,"data-state":zx(r),onSelect:Q(s.onSelect,()=>n==null?void 0:n(Bf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});a_.displayName=$H;var l_="MenuRadioGroup",[BH,zH]=$i(l_,{value:void 0,onValueChange:()=>{}}),c_=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=bt(n);return l.jsx(BH,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx($x,{...s,ref:t})})});c_.displayName=l_;var u_="MenuRadioItem",d_=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=zH(u_,e.__scopeMenu),o=r===s.value;return l.jsx(f_,{scope:e.__scopeMenu,checked:o,children:l.jsx(Wp,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":zx(o),onSelect:Q(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});d_.displayName=u_;var Bx="MenuItemIndicator",[f_,VH]=$i(Bx,{checked:!1}),p_=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=VH(Bx,r);return l.jsx(Nr,{present:n||Bf(o.checked)||o.checked===!0,children:l.jsx(ue.span,{...s,ref:t,"data-state":zx(o.checked)})})});p_.displayName=Bx;var UH="MenuSeparator",h_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});h_.displayName=UH;var WH="MenuArrow",m_=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Up(r);return l.jsx(lI,{...s,...n,ref:t})});m_.displayName=WH;var HH="MenuSub",[xJ,g_]=$i(HH),Gl="MenuSubTrigger",v_=h.forwardRef((e,t)=>{const r=Bi(Gl,e.__scopeMenu),n=Cu(Gl,e.__scopeMenu),s=g_(Gl,e.__scopeMenu),o=Lx(Gl,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Ox,{asChild:!0,...u,children:l.jsx(i_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":w_(r.open),...e,ref:$y(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,$c(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Q(e.onPointerLeave,$c(f=>{var m,v;d();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const y=(v=r.content)==null?void 0:v.dataset.side,w=y==="right",x=w?-5:5,g=p[w?"left":"right"],b=p[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:g,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:g,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,f=>{var m;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||NH[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});v_.displayName=Gl;var y_="MenuSubContent",x_=h.forwardRef((e,t)=>{const r=r_(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Bi(dn,e.__scopeMenu),i=Cu(dn,e.__scopeMenu),a=g_(y_,e.__scopeMenu),c=h.useRef(null),u=we(t,c);return l.jsx(Fc.Provider,{scope:e.__scopeMenu,children:l.jsx(Nr,{present:n||o.open,children:l.jsx(Fc.Slot,{scope:e.__scopeMenu,children:l.jsx(Fx,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Q(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Q(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),p=jH[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});x_.displayName=y_;function w_(e){return e?"open":"closed"}function Bf(e){return e==="indeterminate"}function zx(e){return Bf(e)?"indeterminate":e?"checked":"unchecked"}function GH(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function qH(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function KH(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=qH(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function QH(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,p=c.y;d>n!=p>n&&r<(f-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function YH(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return QH(r,t)}function $c(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XH=t_,ZH=Ox,JH=n_,e7=s_,t7=$x,r7=o_,n7=Wp,s7=a_,o7=c_,i7=d_,a7=p_,l7=h_,c7=m_,u7=v_,d7=x_,Vx="ContextMenu",[f7,wJ]=Er(Vx,[JI]),jr=JI(),[p7,b_]=f7(Vx),S_=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:s,modal:o=!0}=e,[i,a]=h.useState(!1),c=jr(t),u=bt(n),d=h.useCallback(f=>{a(f),u(f)},[u]);return l.jsx(p7,{scope:t,open:i,onOpenChange:d,modal:o,children:l.jsx(XH,{...c,dir:s,open:i,onOpenChange:d,modal:o,children:r})})};S_.displayName=Vx;var C_="ContextMenuTrigger",E_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...s}=e,o=b_(C_,r),i=jr(r),a=h.useRef({x:0,y:0}),c=h.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),u=h.useRef(0),d=h.useCallback(()=>window.clearTimeout(u.current),[]),f=p=>{a.current={x:p.clientX,y:p.clientY},o.onOpenChange(!0)};return h.useEffect(()=>d,[d]),h.useEffect(()=>void(n&&d()),[n,d]),l.jsxs(l.Fragment,{children:[l.jsx(ZH,{...i,virtualRef:c}),l.jsx(ue.span,{"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:Q(e.onContextMenu,p=>{d(),f(p),p.preventDefault()}),onPointerDown:n?e.onPointerDown:Q(e.onPointerDown,ud(p=>{d(),u.current=window.setTimeout(()=>f(p),700)})),onPointerMove:n?e.onPointerMove:Q(e.onPointerMove,ud(d)),onPointerCancel:n?e.onPointerCancel:Q(e.onPointerCancel,ud(d)),onPointerUp:n?e.onPointerUp:Q(e.onPointerUp,ud(d))})]})});E_.displayName=C_;var h7="ContextMenuPortal",N_=e=>{const{__scopeContextMenu:t,...r}=e,n=jr(t);return l.jsx(JH,{...n,...r})};N_.displayName=h7;var j_="ContextMenuContent",P_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=b_(j_,r),o=jr(r),i=h.useRef(!1);return l.jsx(e7,{...o,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,a),!a.defaultPrevented&&i.current&&a.preventDefault(),i.current=!1},onInteractOutside:a=>{var c;(c=e.onInteractOutside)==null||c.call(e,a),!a.defaultPrevented&&!s.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P_.displayName=j_;var m7="ContextMenuGroup",g7=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(t7,{...s,...n,ref:t})});g7.displayName=m7;var v7="ContextMenuLabel",T_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(r7,{...s,...n,ref:t})});T_.displayName=v7;var y7="ContextMenuItem",k_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(n7,{...s,...n,ref:t})});k_.displayName=y7;var x7="ContextMenuCheckboxItem",A_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(s7,{...s,...n,ref:t})});A_.displayName=x7;var w7="ContextMenuRadioGroup",b7=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(o7,{...s,...n,ref:t})});b7.displayName=w7;var S7="ContextMenuRadioItem",D_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(i7,{...s,...n,ref:t})});D_.displayName=S7;var C7="ContextMenuItemIndicator",R_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(a7,{...s,...n,ref:t})});R_.displayName=C7;var E7="ContextMenuSeparator",I_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(l7,{...s,...n,ref:t})});I_.displayName=E7;var N7="ContextMenuArrow",j7=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(c7,{...s,...n,ref:t})});j7.displayName=N7;var P7="ContextMenuSubTrigger",__=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(u7,{...s,...n,ref:t})});__.displayName=P7;var T7="ContextMenuSubContent",O_=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=jr(r);return l.jsx(d7,{...s,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O_.displayName=T7;function ud(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var k7=S_,A7=E_,D7=N_,M_=P_,L_=T_,F_=k_,$_=A_,B_=D_,z_=R_,V_=I_,U_=__,W_=O_;const R7=k7,I7=A7,_7=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(U_,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,l.jsx(T2,{className:"ml-auto h-4 w-4"})]}));_7.displayName=U_.displayName;const O7=h.forwardRef(({className:e,...t},r)=>l.jsx(W_,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));O7.displayName=W_.displayName;const H_=h.forwardRef(({className:e,...t},r)=>l.jsx(D7,{children:l.jsx(M_,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));H_.displayName=M_.displayName;const Fd=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(F_,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Fd.displayName=F_.displayName;const M7=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs($_,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(z_,{children:l.jsx(Hy,{className:"h-4 w-4"})})}),t]}));M7.displayName=$_.displayName;const L7=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(B_,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(z_,{children:l.jsx(Lg,{className:"h-2 w-2 fill-current"})})}),t]}));L7.displayName=B_.displayName;const F7=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(L_,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));F7.displayName=L_.displayName;const G_=h.forwardRef(({className:e,...t},r)=>l.jsx(V_,{ref:r,className:ee("-mx-1 my-1 h-px bg-border",e),...t}));G_.displayName=V_.displayName;function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Cv(e,t)}function q_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cv(e,t)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(null,arguments)}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function $7(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B7(e){var t=$7(e,"string");return Bc(t)=="symbol"?t:t+""}function z7(e,t,r){return(t=B7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var jS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),PS=function(){return Math.random().toString(36).substring(7).split("").join(".")},TS={INIT:"@@redux/INIT"+PS(),REPLACE:"@@redux/REPLACE"+PS()};function V7(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function K_(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(kr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(kr(1));return r(K_)(e,t)}if(typeof e!="function")throw new Error(kr(2));var s=e,o=t,i=[],a=i,c=!1;function u(){a===i&&(a=i.slice())}function d(){if(c)throw new Error(kr(3));return o}function f(y){if(typeof y!="function")throw new Error(kr(4));if(c)throw new Error(kr(5));var w=!0;return u(),a.push(y),function(){if(w){if(c)throw new Error(kr(6));w=!1,u();var g=a.indexOf(y);a.splice(g,1),i=null}}}function p(y){if(!V7(y))throw new Error(kr(7));if(typeof y.type>"u")throw new Error(kr(8));if(c)throw new Error(kr(9));try{c=!0,o=s(o,y)}finally{c=!1}for(var w=i=a,x=0;x<w.length;x++){var g=w[x];g()}return y}function m(y){if(typeof y!="function")throw new Error(kr(10));s=y,p({type:TS.REPLACE})}function v(){var y,w=f;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(kr(11));function b(){g.next&&g.next(d())}b();var S=w(b);return{unsubscribe:S}}},y[jS]=function(){return this},y}return p({type:TS.INIT}),n={dispatch:p,subscribe:f,getState:d,replaceReducer:m},n[jS]=v,n}function kS(e,t){return function(){return t(e.apply(this,arguments))}}function AS(e,t){if(typeof e=="function")return kS(e,t);if(typeof e!="object"||e===null)throw new Error(kr(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=kS(s,t))}return r}function Q_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function U7(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),o=function(){throw new Error(kr(15))},i={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(c){return c(i)});return o=Q_.apply(void 0,a)(s.dispatch),NS(NS({},s),{},{dispatch:o})}}}var Y_=oe.createContext(null);function W7(e){e()}var X_=W7,H7=function(t){return X_=t},G7=function(){return X_};function q7(){var e=G7(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],o=t;o;)s.push(o),o=o.next;return s},subscribe:function(s){var o=!0,i=r={callback:s,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var DS={notify:function(){},get:function(){return[]}};function Z_(e,t){var r,n=DS;function s(f){return c(),n.subscribe(f)}function o(){n.notify()}function i(){d.onStateChange&&d.onStateChange()}function a(){return!!r}function c(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=q7())}function u(){r&&(r(),r=void 0,n.clear(),n=DS)}var d={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:a,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var J_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect;function K7(e){var t=e.store,r=e.context,n=e.children,s=h.useMemo(function(){var a=Z_(t);return{store:t,subscription:a}},[t]),o=h.useMemo(function(){return t.getState()},[t]);J_(function(){var a=s.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[s,o]);var i=r||Y_;return oe.createElement(i.Provider,{value:s},n)}function zf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eO={exports:{}},Xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,Ux=Kt?Symbol.for("react.element"):60103,Wx=Kt?Symbol.for("react.portal"):60106,Hp=Kt?Symbol.for("react.fragment"):60107,Gp=Kt?Symbol.for("react.strict_mode"):60108,qp=Kt?Symbol.for("react.profiler"):60114,Kp=Kt?Symbol.for("react.provider"):60109,Qp=Kt?Symbol.for("react.context"):60110,Hx=Kt?Symbol.for("react.async_mode"):60111,Yp=Kt?Symbol.for("react.concurrent_mode"):60111,Xp=Kt?Symbol.for("react.forward_ref"):60112,Zp=Kt?Symbol.for("react.suspense"):60113,Q7=Kt?Symbol.for("react.suspense_list"):60120,Jp=Kt?Symbol.for("react.memo"):60115,eh=Kt?Symbol.for("react.lazy"):60116,Y7=Kt?Symbol.for("react.block"):60121,X7=Kt?Symbol.for("react.fundamental"):60117,Z7=Kt?Symbol.for("react.responder"):60118,J7=Kt?Symbol.for("react.scope"):60119;function Jr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ux:switch(e=e.type,e){case Hx:case Yp:case Hp:case qp:case Gp:case Zp:return e;default:switch(e=e&&e.$$typeof,e){case Qp:case Xp:case eh:case Jp:case Kp:return e;default:return t}}case Wx:return t}}}function tO(e){return Jr(e)===Yp}Xe.AsyncMode=Hx;Xe.ConcurrentMode=Yp;Xe.ContextConsumer=Qp;Xe.ContextProvider=Kp;Xe.Element=Ux;Xe.ForwardRef=Xp;Xe.Fragment=Hp;Xe.Lazy=eh;Xe.Memo=Jp;Xe.Portal=Wx;Xe.Profiler=qp;Xe.StrictMode=Gp;Xe.Suspense=Zp;Xe.isAsyncMode=function(e){return tO(e)||Jr(e)===Hx};Xe.isConcurrentMode=tO;Xe.isContextConsumer=function(e){return Jr(e)===Qp};Xe.isContextProvider=function(e){return Jr(e)===Kp};Xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ux};Xe.isForwardRef=function(e){return Jr(e)===Xp};Xe.isFragment=function(e){return Jr(e)===Hp};Xe.isLazy=function(e){return Jr(e)===eh};Xe.isMemo=function(e){return Jr(e)===Jp};Xe.isPortal=function(e){return Jr(e)===Wx};Xe.isProfiler=function(e){return Jr(e)===qp};Xe.isStrictMode=function(e){return Jr(e)===Gp};Xe.isSuspense=function(e){return Jr(e)===Zp};Xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hp||e===Yp||e===qp||e===Gp||e===Zp||e===Q7||typeof e=="object"&&e!==null&&(e.$$typeof===eh||e.$$typeof===Jp||e.$$typeof===Kp||e.$$typeof===Qp||e.$$typeof===Xp||e.$$typeof===X7||e.$$typeof===Z7||e.$$typeof===J7||e.$$typeof===Y7)};Xe.typeOf=Jr;eO.exports=Xe;var eG=eO.exports,Gx=eG,tG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qx={};qx[Gx.ForwardRef]=nG;qx[Gx.Memo]=rO;function RS(e){return Gx.isMemo(e)?rO:qx[e.$$typeof]||tG}var sG=Object.defineProperty,oG=Object.getOwnPropertyNames,IS=Object.getOwnPropertySymbols,iG=Object.getOwnPropertyDescriptor,aG=Object.getPrototypeOf,_S=Object.prototype;function nO(e,t,r){if(typeof t!="string"){if(_S){var n=aG(t);n&&n!==_S&&nO(e,n,r)}var s=oG(t);IS&&(s=s.concat(IS(t)));for(var o=RS(e),i=RS(t),a=0;a<s.length;++a){var c=s[a];if(!rG[c]&&!(r&&r[c])&&!(i&&i[c])&&!(o&&o[c])){var u=iG(t,c);try{sG(e,c,u)}catch{}}}}return e}var lG=nO;const OS=Oi(lG);var sO={exports:{}},Ze={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=60103,rh=60106,Eu=60107,Nu=60108,ju=60114,Pu=60109,Tu=60110,ku=60112,Au=60113,Kx=60120,Du=60115,Ru=60116,oO=60121,iO=60122,aO=60117,lO=60129,cO=60131;if(typeof Symbol=="function"&&Symbol.for){var Qt=Symbol.for;th=Qt("react.element"),rh=Qt("react.portal"),Eu=Qt("react.fragment"),Nu=Qt("react.strict_mode"),ju=Qt("react.profiler"),Pu=Qt("react.provider"),Tu=Qt("react.context"),ku=Qt("react.forward_ref"),Au=Qt("react.suspense"),Kx=Qt("react.suspense_list"),Du=Qt("react.memo"),Ru=Qt("react.lazy"),oO=Qt("react.block"),iO=Qt("react.server.block"),aO=Qt("react.fundamental"),lO=Qt("react.debug_trace_mode"),cO=Qt("react.legacy_hidden")}function zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case th:switch(e=e.type,e){case Eu:case ju:case Nu:case Au:case Kx:return e;default:switch(e=e&&e.$$typeof,e){case Tu:case ku:case Ru:case Du:case Pu:return e;default:return t}}case rh:return t}}}var cG=Pu,uG=th,dG=ku,fG=Eu,pG=Ru,hG=Du,mG=rh,gG=ju,vG=Nu,yG=Au;Ze.ContextConsumer=Tu;Ze.ContextProvider=cG;Ze.Element=uG;Ze.ForwardRef=dG;Ze.Fragment=fG;Ze.Lazy=pG;Ze.Memo=hG;Ze.Portal=mG;Ze.Profiler=gG;Ze.StrictMode=vG;Ze.Suspense=yG;Ze.isAsyncMode=function(){return!1};Ze.isConcurrentMode=function(){return!1};Ze.isContextConsumer=function(e){return zn(e)===Tu};Ze.isContextProvider=function(e){return zn(e)===Pu};Ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===th};Ze.isForwardRef=function(e){return zn(e)===ku};Ze.isFragment=function(e){return zn(e)===Eu};Ze.isLazy=function(e){return zn(e)===Ru};Ze.isMemo=function(e){return zn(e)===Du};Ze.isPortal=function(e){return zn(e)===rh};Ze.isProfiler=function(e){return zn(e)===ju};Ze.isStrictMode=function(e){return zn(e)===Nu};Ze.isSuspense=function(e){return zn(e)===Au};Ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Eu||e===ju||e===lO||e===Nu||e===Au||e===Kx||e===cO||typeof e=="object"&&e!==null&&(e.$$typeof===Ru||e.$$typeof===Du||e.$$typeof===Pu||e.$$typeof===Tu||e.$$typeof===ku||e.$$typeof===aO||e.$$typeof===oO||e[0]===iO)};Ze.typeOf=zn;sO.exports=Ze;var xG=sO.exports,wG=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],bG=["reactReduxForwardedRef"],SG=[],CG=[null,null];function EG(e,t){var r=e[1];return[t.payload,r+1]}function MS(e,t,r){J_(function(){return e.apply(void 0,t)},r)}function NG(e,t,r,n,s,o,i){e.current=n,t.current=s,r.current=!1,o.current&&(o.current=null,i())}function jG(e,t,r,n,s,o,i,a,c,u){if(e){var d=!1,f=null,p=function(){if(!d){var y=t.getState(),w,x;try{w=n(y,s.current)}catch(g){x=g,f=g}x||(f=null),w===o.current?i.current||c():(o.current=w,a.current=w,i.current=!0,u({type:"STORE_UPDATED",payload:{error:x}}))}};r.onStateChange=p,r.trySubscribe(),p();var m=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return m}}var PG=function(){return[null,0]};function TG(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(b){return"ConnectAdvanced("+b+")"}:n,o=r.methodName,i=o===void 0?"connectAdvanced":o,a=r.renderCountProp,c=a===void 0?void 0:a,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,p=f===void 0?"store":f;r.withRef;var m=r.forwardRef,v=m===void 0?!1:m,y=r.context,w=y===void 0?Y_:y,x=zf(r,wG),g=w;return function(S){var C=S.displayName||S.name||"Component",E=s(C),N=ye({},x,{getDisplayName:s,methodName:i,renderCountProp:c,shouldHandleStateChanges:d,storeKey:p,displayName:E,wrappedComponentName:C,WrappedComponent:S}),j=x.pure;function T(k){return e(k.dispatch,N)}var P=j?h.useMemo:function(k){return k()};function O(k){var F=h.useMemo(function(){var vt=k.reactReduxForwardedRef,A=zf(k,bG);return[k.context,vt,A]},[k]),I=F[0],U=F[1],L=F[2],B=h.useMemo(function(){return I&&I.Consumer&&xG.isContextConsumer(oe.createElement(I.Consumer,null))?I:g},[I,g]),q=h.useContext(B),ie=!!k.store&&!!k.store.getState&&!!k.store.dispatch;q&&q.store;var fe=ie?k.store:q.store,qe=h.useMemo(function(){return T(fe)},[fe]),Oe=h.useMemo(function(){if(!d)return CG;var vt=Z_(fe,ie?null:q.subscription),A=vt.notifyNestedSubs.bind(vt);return[vt,A]},[fe,ie,q]),Je=Oe[0],Ke=Oe[1],ae=h.useMemo(function(){return ie?q:ye({},q,{subscription:Je})},[ie,q,Je]),ke=h.useReducer(EG,SG,PG),Re=ke[0],Ne=Re[0],Ie=ke[1];if(Ne&&Ne.error)throw Ne.error;var De=h.useRef(),ut=h.useRef(L),gt=h.useRef(),Pt=h.useRef(!1),ur=P(function(){return gt.current&&L===ut.current?gt.current:qe(fe.getState(),L)},[fe,Ne,L]);MS(NG,[ut,De,Pt,L,ur,gt,Ke]),MS(jG,[d,fe,Je,qe,ut,De,Pt,gt,Ke,Ie],[fe,Je,qe]);var dr=h.useMemo(function(){return oe.createElement(S,ye({},ur,{ref:U}))},[U,S,ur]),Pr=h.useMemo(function(){return d?oe.createElement(B.Provider,{value:ae},dr):dr},[B,dr,ae]);return Pr}var D=j?oe.memo(O):O;if(D.WrappedComponent=S,D.displayName=O.displayName=E,v){var _=oe.forwardRef(function(F,I){return oe.createElement(D,ye({},F,{reactReduxForwardedRef:I}))});return _.displayName=E,_.WrappedComponent=S,OS(_,S)}return OS(D,S)}}function LS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pm(e,t){if(LS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!LS(e[r[s]],t[r[s]]))return!1;return!0}function kG(e,t){var r={},n=function(i){var a=e[i];typeof a=="function"&&(r[i]=function(){return t(a.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Qx(e){return function(r,n){var s=e(r,n);function o(){return s}return o.dependsOnOwnProps=!1,o}}function FS(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function uO(e,t){return function(n,s){s.displayName;var o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=FS(e);var u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=FS(u),u=o(a,c)),u},o}}function AG(e){return typeof e=="function"?uO(e):void 0}function DG(e){return e?void 0:Qx(function(t){return{dispatch:t}})}function RG(e){return e&&typeof e=="object"?Qx(function(t){return kG(e,t)}):void 0}const IG=[AG,DG,RG];function _G(e){return typeof e=="function"?uO(e):void 0}function OG(e){return e?void 0:Qx(function(){return{}})}const MG=[_G,OG];function LG(e,t,r){return ye({},r,e,t)}function FG(e){return function(r,n){n.displayName;var s=n.pure,o=n.areMergedPropsEqual,i=!1,a;return function(u,d,f){var p=e(u,d,f);return i?(!s||!o(p,a))&&(a=p):(i=!0,a=p),a}}}function $G(e){return typeof e=="function"?FG(e):void 0}function BG(e){return e?void 0:function(){return LG}}const zG=[$G,BG];var VG=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function UG(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function WG(e,t,r,n,s){var o=s.areStatesEqual,i=s.areOwnPropsEqual,a=s.areStatePropsEqual,c=!1,u,d,f,p,m;function v(b,S){return u=b,d=S,f=e(u,d),p=t(n,d),m=r(f,p,d),c=!0,m}function y(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(n,d)),m=r(f,p,d),m}function w(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(n,d)),m=r(f,p,d),m}function x(){var b=e(u,d),S=!a(b,f);return f=b,S&&(m=r(f,p,d)),m}function g(b,S){var C=!i(S,d),E=!o(b,u,S,d);return u=b,d=S,C&&E?y():C?w():E?x():m}return function(S,C){return c?g(S,C):v(S,C)}}function HG(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,o=zf(t,VG),i=r(e,o),a=n(e,o),c=s(e,o),u=o.pure?WG:UG;return u(i,a,c,e,o)}var GG=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function hm(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(o,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function qG(e,t){return e===t}function KG(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?TG:r,s=t.mapStateToPropsFactories,o=s===void 0?MG:s,i=t.mapDispatchToPropsFactories,a=i===void 0?IG:i,c=t.mergePropsFactories,u=c===void 0?zG:c,d=t.selectorFactory,f=d===void 0?HG:d;return function(m,v,y,w){w===void 0&&(w={});var x=w,g=x.pure,b=g===void 0?!0:g,S=x.areStatesEqual,C=S===void 0?qG:S,E=x.areOwnPropsEqual,N=E===void 0?pm:E,j=x.areStatePropsEqual,T=j===void 0?pm:j,P=x.areMergedPropsEqual,O=P===void 0?pm:P,D=zf(x,GG),_=hm(m,o,"mapStateToProps"),k=hm(v,a,"mapDispatchToProps"),F=hm(y,u,"mergeProps");return n(f,ye({methodName:"connect",getDisplayName:function(U){return"Connect("+U+")"},shouldHandleStateChanges:!!m,initMapStateToProps:_,initMapDispatchToProps:k,initMergeProps:F,pure:b,areStatesEqual:C,areOwnPropsEqual:N,areStatePropsEqual:T,areMergedPropsEqual:O},D))}}const dO=KG();H7(Wo.unstable_batchedUpdates);function QG(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function fO(e,t){var r=h.useState(function(){return{inputs:t,result:e()}})[0],n=h.useRef(!0),s=h.useRef(r),o=n.current||!!(t&&s.current.inputs&&QG(t,s.current.inputs)),i=o?s.current:{inputs:t,result:e()};return h.useEffect(function(){n.current=!1,s.current=i},[i]),i.result}function YG(e,t){return fO(function(){return e},t)}var Fe=fO,me=YG,XG="Invariant failed";function ZG(e,t){throw new Error(XG)}var Dn=function(t){var r=t.top,n=t.right,s=t.bottom,o=t.left,i=n-o,a=s-r,c={top:r,right:n,bottom:s,left:o,width:i,height:a,x:o,y:r,center:{x:(n+o)/2,y:(s+r)/2}};return c},Yx=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},$S=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},JG=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},mm={top:0,right:0,bottom:0,left:0},Xx=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?mm:n,o=t.border,i=o===void 0?mm:o,a=t.padding,c=a===void 0?mm:a,u=Dn(Yx(r,s)),d=Dn($S(r,i)),f=Dn($S(d,c));return{marginBox:u,borderBox:Dn(r),paddingBox:d,contentBox:f,margin:s,border:i,padding:c}},en=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&ZG(),s},eq=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Vf=function(t,r){var n=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=JG(n,r);return Xx({borderBox:a,border:s,margin:o,padding:i})},Uf=function(t,r){return r===void 0&&(r=eq()),Vf(t,r)},pO=function(t,r){var n={top:en(r.marginTop),right:en(r.marginRight),bottom:en(r.marginBottom),left:en(r.marginLeft)},s={top:en(r.paddingTop),right:en(r.paddingRight),bottom:en(r.paddingBottom),left:en(r.paddingLeft)},o={top:en(r.borderTopWidth),right:en(r.borderRightWidth),bottom:en(r.borderBottomWidth),left:en(r.borderLeftWidth)};return Xx({borderBox:t,margin:n,padding:s,border:o})},hO=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return pO(r,n)},BS=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tq(e,t){return!!(e===t||BS(e)&&BS(t))}function rq(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!tq(e[r],t[r]))return!1;return!0}function Ut(e,t){t===void 0&&(t=rq);var r,n=[],s,o=!1;function i(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return o&&r===this&&t(a,n)||(s=e.apply(this,a),o=!0,r=this,n=a),s}return i}var zc=function(t){var r=[],n=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function mO(e,t){}mO.bind(null,"warn");mO.bind(null,"error");function ko(){}function nq(e,t){return ye({},e,{},t)}function ln(e,t,r){var n=t.map(function(s){var o=nq(r,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){n.forEach(function(o){o()})}}var sq="Invariant failed";function Wf(e){this.message=e}Wf.prototype.toString=function(){return this.message};function X(e,t){throw new Wf(sq)}var oq=function(e){q_(t,e);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.callbacks=null,n.unbind=ko,n.onWindowError=function(a){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=a.error;u instanceof Wf&&a.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(a){n.callbacks=a},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ln(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof Wf){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(oe.Component),iq=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Hf=function(t){return t+1},aq=function(t){return`
  You have lifted an item in position `+Hf(t.source.index)+`
`},gO=function(t,r){var n=t.droppableId===r.droppableId,s=Hf(t.index),o=Hf(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+o+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+o+`
  `},vO=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},lq=function(t){var r=t.destination;if(r)return gO(t.source,r);var n=t.combine;return n?vO(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},zS=function(t){return`
  The item has returned to its starting position
  of `+Hf(t.index)+`
`},cq=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+zS(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+gO(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+vO(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+zS(t.source)+`
  `},$d={dragHandleUsageInstructions:iq,onDragStart:aq,onDragUpdate:lq,onDragEnd:cq},Ht={x:0,y:0},er=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Wr=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Ao=function(t,r){return t.x===r.x&&t.y===r.y},hl=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},_i=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},Vc=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},VS=function(t,r){return Math.min.apply(Math,r.map(function(n){return Vc(t,n)}))},yO=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},uq=function(e,t){var r=Dn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Iu=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},US=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},dq={top:0,right:0,bottom:0,left:0},fq=function(t,r){return r?Iu(t,r.scroll.diff.displacement):t},pq=function(t,r,n){if(n&&n.increasedBy){var s;return ye({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},hq=function(t,r){return r&&r.shouldClipSubject?uq(r.pageMarginBox,t):Dn(t)},Xa=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,o=fq(t.marginBox,s),i=pq(o,n,r),a=hq(i,s);return{page:t,withPlaceholder:r,active:a}},Zx=function(e,t){e.frame||X();var r=e.frame,n=Wr(t,r.scroll.initial),s=hl(n),o=ye({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),i=Xa({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),a=ye({},e,{frame:o,subject:i});return a};function Gf(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Jx(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ko(e,t){if(e.find)return e.find(t);var r=Jx(e,t);if(r!==-1)return e[r]}function xO(e){return Array.prototype.slice.call(e)}var wO=Ut(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),bO=Ut(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),nh=Ut(function(e){return Gf(e)}),mq=Ut(function(e){return Gf(e)}),ml=Ut(function(e,t){var r=mq(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function e0(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function sh(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var oh=Ut(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),gq=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,o=e.previousImpact;if(!n.isCombineEnabled)return null;var i=e0(o);if(!i)return null;function a(y){var w={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return ye({},o,{at:w})}var c=o.displaced.all,u=c.length?c[0]:null;if(t)return u?a(u):null;var d=oh(r,s);if(!u){if(!d.length)return null;var f=d[d.length-1];return a(f.descriptor.id)}var p=Jx(d,function(y){return y.descriptor.id===u});p===-1&&X();var m=p-1;if(m<0)return null;var v=d[m];return a(v.descriptor.id)},gl=function(e,t){return e.descriptor.droppableId===t.descriptor.id},SO={point:Ht,value:0},Uc={invisible:{},visible:{},all:[]},vq={displaced:Uc,displacedBy:SO,at:null},fn=function(e,t){return function(r){return e<=r&&r<=t}},CO=function(e){var t=fn(e.top,e.bottom),r=fn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),a=o&&i;if(a)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=c&&u;if(d)return!0;var f=c&&i||u&&o;return f}},yq=function(e){var t=fn(e.top,e.bottom),r=fn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},t0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},EO={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},xq=function(e){return function(t){var r=fn(t.top,t.bottom),n=fn(t.left,t.right);return function(s){return e===t0?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},wq=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ht;return Iu(t,n)},bq=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Sq=function(t,r,n){return n(r)(t)},r0=function(t){var r=t.target,n=t.destination,s=t.viewport,o=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,a=o?wq(r,n):r;return bq(a,n,i)&&Sq(a,s,i)},Cq=function(t){return r0(ye({},t,{isVisibleThroughFrameFn:CO}))},NO=function(t){return r0(ye({},t,{isVisibleThroughFrameFn:yq}))},Eq=function(t){return r0(ye({},t,{isVisibleThroughFrameFn:xq(t.destination.axis)}))},Nq=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,o=r.visible;if(s[t])return!1;var i=o[t];return i?i.shouldAnimate:!0};function jq(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Dn(Yx(r,n))}function Wc(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce(function(c,u){var d=jq(u,n),f=u.descriptor.id;c.all.push(f);var p=Cq({target:d,destination:r,viewport:s,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var m=Nq(f,i,o),v={draggableId:f,shouldAnimate:m};return c.visible[f]=v,c},{all:[],visible:{},invisible:{}})}function Pq(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function WS(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,o=Pq(t,{inHomeList:r});return{displaced:Uc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function qf(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,o=e.displacedBy,i=e.last,a=e.index,c=e.forceShouldAnimate,u=gl(t,n);if(a==null)return WS({insideDestination:r,inHomeList:u,displacedBy:o,destination:n});var d=Ko(r,function(y){return y.descriptor.index===a});if(!d)return WS({insideDestination:r,inHomeList:u,displacedBy:o,destination:n});var f=oh(t,r),p=r.indexOf(d),m=f.slice(p),v=Wc({afterDragging:m,destination:n,displacedBy:o,last:i,viewport:s.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Bo(e,t){return!!t.effected[e]}var Tq=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,o=e.afterCritical;if(!r.isCombineEnabled)return null;var i=s.draggableId,a=n[i],c=a.descriptor.index,u=Bo(i,o);return u?t?c:c-1:t?c+1:c},kq=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var o=s.index,i=t?o+1:o-1,a=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return i<a||i>u?null:i},Aq=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,o=e.destination,i=e.insideDestination,a=e.previousImpact,c=e.viewport,u=e.afterCritical,d=a.at;if(d||X(),d.type==="REORDER"){var f=kq({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:i});return f==null?null:qf({draggable:n,insideDestination:i,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:f})}var p=Tq({isMovingForward:t,destination:o,displaced:a.displaced,draggables:s,combine:d.combine,afterCritical:u});return p==null?null:qf({draggable:n,insideDestination:i,destination:o,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:p})},Dq=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,o=!!(t.visible[n]||t.invisible[n]);return Bo(n,r)?o?Ht:hl(s.point):o?s.point:Ht},Rq=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=sh(r);s||X();var o=s.draggableId,i=n[o].page.borderBox.center,a=Dq({displaced:r.displaced,afterCritical:t,combineWith:o,displacedBy:r.displacedBy});return er(i,a)},jO=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Iq=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},n0=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},HS=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return _i(r.line,n.marginBox[r.end]+jO(r,s),n0(r,n.marginBox,s))},GS=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return _i(r.line,n.marginBox[r.start]-Iq(r,s),n0(r,n.marginBox,s))},_q=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return _i(r.line,n.contentBox[r.start]+jO(r,s),n0(r,n.contentBox,s))},Oq=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,o=e.afterCritical,i=ml(s.descriptor.id,n),a=r.page,c=s.axis;if(!i.length)return _q({axis:c,moveInto:s.page,isMoving:a});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var p=n[f];if(Bo(f,o))return GS({axis:c,moveRelativeTo:p.page,isMoving:a});var m=Vf(p.page,d.point);return GS({axis:c,moveRelativeTo:m,isMoving:a})}var v=i[i.length-1];if(v.descriptor.id===r.descriptor.id)return a.borderBox.center;if(Bo(v.descriptor.id,o)){var y=Vf(v.page,hl(o.displacedBy.point));return HS({axis:c,moveRelativeTo:y,isMoving:a})}return HS({axis:c,moveRelativeTo:v.page,isMoving:a})},Ev=function(e,t){var r=e.frame;return r?er(t,r.scroll.diff.displacement):t},Mq=function(t){var r=t.impact,n=t.draggable,s=t.droppable,o=t.draggables,i=t.afterCritical,a=n.page.borderBox.center,c=r.at;return!s||!c?a:c.type==="REORDER"?Oq({impact:r,draggable:n,draggables:o,droppable:s,afterCritical:i}):Rq({impact:r,draggables:o,afterCritical:i})},ih=function(e){var t=Mq(e),r=e.droppable,n=r?Ev(r,t):t;return n},PO=function(e,t){var r=Wr(t,e.scroll.initial),n=hl(r),s=Dn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return o};function qS(e,t){return e.map(function(r){return t[r]})}function Lq(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Fq=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,o=e.maxScrollChange,i=PO(r,er(r.scroll.current,o)),a=n.frame?Zx(n,er(n.frame.scroll.current,o)):n,c=t.displaced,u=Wc({afterDragging:qS(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),d=Wc({afterDragging:qS(c.all,s),destination:a,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},p={},m=[c,u,d];c.all.forEach(function(y){var w=Lq(y,m);if(w){p[y]=w;return}f[y]=!0});var v=ye({},t,{displaced:{all:c.all,invisible:f,visible:p}});return v},$q=function(e,t){return er(e.scroll.diff.displacement,t)},s0=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=$q(n,t),o=Wr(s,r.page.borderBox.center);return er(r.client.borderBox.center,o)},TO=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,a=i===void 0?!1:i,c=Wr(n,t.page.borderBox.center),u=Iu(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:o,viewport:s};return a?Eq(d):NO(d)},Bq=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,o=e.previousImpact,i=e.viewport,a=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=ml(n.descriptor.id,s),f=gl(r,n),p=gq({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:o})||Aq({isMovingForward:t,isInHomeList:f,draggable:r,draggables:s,destination:n,insideDestination:d,previousImpact:o,viewport:i,afterCritical:u});if(!p)return null;var m=ih({impact:p,draggable:r,droppable:n,draggables:s,afterCritical:u}),v=TO({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var y=s0({pageBorderBoxCenter:m,draggable:r,viewport:i});return{clientSelection:y,impact:p,scrollJumpRequest:null}}var w=Wr(m,a),x=Fq({impact:p,viewport:i,destination:n,draggables:s,maxScrollChange:w});return{clientSelection:c,impact:x,scrollJumpRequest:w}},pr=function(t){var r=t.subject.active;return r||X(),r},zq=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,o=e.viewport,i=n.subject.active;if(!i)return null;var a=n.axis,c=fn(i[a.start],i[a.end]),u=nh(s).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return CO(o.frame)(pr(f))}).filter(function(f){var p=pr(f);return t?i[a.crossAxisEnd]<p[a.crossAxisEnd]:p[a.crossAxisStart]<i[a.crossAxisStart]}).filter(function(f){var p=pr(f),m=fn(p[a.start],p[a.end]);return c(p[a.start])||c(p[a.end])||m(i[a.start])||m(i[a.end])}).sort(function(f,p){var m=pr(f)[a.crossAxisStart],v=pr(p)[a.crossAxisStart];return t?m-v:v-m}).filter(function(f,p,m){return pr(f)[a.crossAxisStart]===pr(m[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var p=fn(pr(f)[a.start],pr(f)[a.end]);return p(r[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,p){return pr(f)[a.start]-pr(p)[a.start]})[0]:u.sort(function(f,p){var m=VS(r,US(pr(f))),v=VS(r,US(pr(p)));return m!==v?m-v:pr(f)[a.start]-pr(p)[a.start]})[0]},KS=function(t,r){var n=t.page.borderBox.center;return Bo(t.descriptor.id,r)?Wr(n,r.displacedBy.point):n},Vq=function(t,r){var n=t.page.borderBox;return Bo(t.descriptor.id,r)?Iu(n,hl(r.displacedBy.point)):n},Uq=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,o=e.afterCritical,i=s.filter(function(a){return NO({target:Vq(a,o),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(a,c){var u=Vc(t,Ev(n,KS(a,o))),d=Vc(t,Ev(n,KS(c,o)));return u<d?-1:d<u?1:a.descriptor.index-c.descriptor.index});return i[0]||null},_u=Ut(function(t,r){var n=r[t.line];return{value:n,point:_i(t.line,n)}}),Wq=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return _i(s.line,r[s.line]);var o=t.subject.page.contentBox[s.size],i=ml(t.descriptor.id,n),a=i.reduce(function(d,f){return d+f.client.marginBox[s.size]},0),c=a+r[s.line],u=c-o;return u<=0?null:_i(s.line,u)},kO=function(t,r){return ye({},t,{scroll:ye({},t.scroll,{max:r})})},AO=function(t,r,n){var s=t.frame;gl(r,t)&&X(),t.subject.withPlaceholder&&X();var o=_u(t.axis,r.displaceBy).point,i=Wq(t,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Xa({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return ye({},t,{subject:c})}var u=i?er(s.scroll.max,i):s.scroll.max,d=kO(s,u),f=Xa({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:d});return ye({},t,{subject:f,frame:d})},Hq=function(t){var r=t.subject.withPlaceholder;r||X();var n=t.frame;if(!n){var s=Xa({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ye({},t,{subject:s})}var o=r.oldFrameMaxScroll;o||X();var i=kO(n,o),a=Xa({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return ye({},t,{subject:a,frame:i})},Gq=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,o=e.draggables,i=e.destination,a=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:Uc,displacedBy:SO,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},d=ih({impact:u,draggable:s,droppable:i,draggables:o,afterCritical:c}),f=gl(s,i)?i:AO(i,s,o),p=TO({draggable:s,destination:f,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var m=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],v=function(){var w=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?w:w+1}(),y=_u(i.axis,s.displaceBy);return qf({draggable:s,insideDestination:n,destination:i,viewport:a,displacedBy:y,last:Uc,index:v})},qq=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,o=e.draggables,i=e.droppables,a=e.viewport,c=e.afterCritical,u=zq({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:i,viewport:a});if(!u)return null;var d=ml(u.descriptor.id,o),f=Uq({pageBorderBoxCenter:r,viewport:a,destination:u,insideDestination:d,afterCritical:c}),p=Gq({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:o,moveRelativeTo:f,insideDestination:d,viewport:a,afterCritical:c});if(!p)return null;var m=ih({impact:p,draggable:n,droppable:u,draggables:o,afterCritical:c}),v=s0({pageBorderBoxCenter:m,draggable:n,viewport:a});return{clientSelection:v,impact:p,scrollJumpRequest:null}},qr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Kq=function(t,r){var n=qr(t);return n?r[n]:null},Qq=function(e){var t=e.state,r=e.type,n=Kq(t.impact,t.dimensions.droppables),s=!!n,o=t.dimensions.droppables[t.critical.droppable.id],i=n||o,a=i.axis.direction,c=a==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||a==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,v=p.droppables;return c?Bq({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):qq({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:i,draggables:m,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function ei(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function DO(e){var t=fn(e.top,e.bottom),r=fn(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function Yq(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Xq(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,o=n.map(function(i){var a=i.axis,c=_i(i.axis.line,t.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Vc(s,c)}}).sort(function(i,a){return a.distance-i.distance});return o[0]?o[0].id:null}function Zq(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=nh(n).filter(function(o){if(!o.isEnabled)return!1;var i=o.subject.active;if(!i||!Yq(t,i))return!1;if(DO(i)(t.center))return!0;var a=o.axis,c=i.center[a.crossAxisLine],u=t[a.crossAxisStart],d=t[a.crossAxisEnd],f=fn(i[a.crossAxisStart],i[a.crossAxisEnd]),p=f(u),m=f(d);return!p&&!m?!0:p?u<c:d>c});return s.length?s.length===1?s[0].descriptor.id:Xq({pageBorderBox:t,draggable:r,candidates:s}):null}var RO=function(t,r){return Dn(Iu(t,r))},Jq=function(e,t){var r=e.frame;return r?RO(t,r.scroll.diff.value):t};function IO(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function eK(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var tK=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,o=e.last,i=e.viewport,a=e.afterCritical,c=n.axis,u=_u(n.axis,r.displaceBy),d=u.value,f=t[c.start],p=t[c.end],m=oh(r,s),v=Ko(m,function(w){var x=w.descriptor.id,g=w.page.borderBox.center[c.line],b=Bo(x,a),S=IO({displaced:o,id:x});return b?S?p<=g:f<g-d:S?p<=g+d:f<g}),y=eK({draggable:r,closest:v,inHomeList:gl(r,n)});return qf({draggable:r,insideDestination:s,destination:n,viewport:i,last:o,displacedBy:u,index:y})},rK=4,nK=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,o=e.insideDestination,i=e.afterCritical;if(!s.isCombineEnabled)return null;var a=s.axis,c=_u(s.axis,t.displaceBy),u=c.value,d=r[a.start],f=r[a.end],p=oh(t,o),m=Ko(p,function(y){var w=y.descriptor.id,x=y.page.borderBox,g=x[a.size],b=g/rK,S=Bo(w,i),C=IO({displaced:n.displaced,id:w});return S?C?f>x[a.start]+b&&f<x[a.end]-b:d>x[a.start]-u+b&&d<x[a.end]-u-b:C?f>x[a.start]+u+b&&f<x[a.end]+u-b:d>x[a.start]+b&&d<x[a.end]-b});if(!m)return null;var v={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return v},_O=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,o=e.previousImpact,i=e.viewport,a=e.afterCritical,c=RO(r.page.borderBox,t),u=Zq({pageBorderBox:c,draggable:r,droppables:s});if(!u)return vq;var d=s[u],f=ml(d.descriptor.id,n),p=Jq(d,c);return nK({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:o,destination:d,insideDestination:f,afterCritical:a})||tK({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:d,insideDestination:f,last:o.displaced,viewport:i,afterCritical:a})},o0=function(e,t){var r;return ye({},e,(r={},r[t.descriptor.id]=t,r))},sK=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,o=qr(r),i=qr(n);if(!o||o===i)return s;var a=s[o];if(!a.subject.withPlaceholder)return s;var c=Hq(a);return o0(s,c)},oK=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,o=e.impact,i=sK({previousImpact:s,impact:o,droppables:n}),a=qr(o);if(!a)return i;var c=n[a];if(gl(t,c)||c.subject.withPlaceholder)return i;var u=AO(c,t,r);return o0(i,u)},ic=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,o=e.impact,i=e.scrollJumpRequest,a=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=Wr(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:er(t.initial.client.borderBoxCenter,d)},p={selection:er(f.selection,a.scroll.current),borderBoxCenter:er(f.borderBoxCenter,a.scroll.current),offset:er(f.offset,a.scroll.diff.value)},m={client:f,page:p};if(t.phase==="COLLECTING")return ye({phase:"COLLECTING"},t,{dimensions:c,viewport:a,current:m});var v=c.draggables[t.critical.draggable.id],y=o||_O({pageOffset:p.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),w=oK({draggable:v,impact:y,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),x=ye({},t,{current:m,dimensions:{draggables:c.draggables,droppables:w},impact:y,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return x};function iK(e,t){return e.map(function(r){return t[r]})}var OO=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,o=e.forceShouldAnimate,i=t.displaced,a=iK(i.all,n),c=Wc({afterDragging:a,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:o,last:i});return ye({},t,{displaced:c})},MO=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,o=e.viewport,i=e.afterCritical,a=ih({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:i});return s0({pageBorderBoxCenter:a,draggable:r,viewport:o})},LO=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&X();var s=t.impact,o=n||t.viewport,i=r||t.dimensions,a=i.draggables,c=i.droppables,u=a[t.critical.draggable.id],d=qr(s);d||X();var f=c[d],p=OO({impact:s,viewport:o,destination:f,draggables:a}),m=MO({impact:p,draggable:u,droppable:f,draggables:a,viewport:o,afterCritical:t.afterCritical});return ic({impact:p,clientSelection:m,state:t,dimensions:i,viewport:o})},aK=function(e){return{index:e.index,droppableId:e.droppableId}},FO=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,o=_u(r.axis,t.displaceBy),i=ml(r.descriptor.id,n),a=i.indexOf(t);a===-1&&X();var c=i.slice(a+1),u=c.reduce(function(m,v){return m[v.descriptor.id]=!0,m},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:o,effected:u},f=Wc({afterDragging:c,destination:r,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),p={displaced:f,displacedBy:o,at:{type:"REORDER",destination:aK(t.descriptor)}};return{impact:p,afterCritical:d}},lK=function(e,t){return{draggables:e.draggables,droppables:o0(e.droppables,t)}},cK=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=Vf(t.client,r),o=Uf(s,n),i=ye({},t,{placeholder:ye({},t.placeholder,{client:s}),client:s,page:o});return i},uK=function(e){var t=e.frame;return t||X(),t},dK=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(o){var i=o.descriptor.droppableId,a=r[i],c=uK(a),u=c.scroll.diff.value,d=er(s,u),f=cK({draggable:o,offset:d,initialWindowScroll:n.scroll.initial});return f})},fK=function(e){var t=e.state,r=e.published,n=r.modified.map(function(b){var S=t.dimensions.droppables[b.droppableId],C=Zx(S,b.scroll);return C}),s=ye({},t.dimensions.droppables,{},wO(n)),o=bO(dK({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),i=ye({},t.dimensions.draggables,{},o);r.removals.forEach(function(b){delete i[b]});var a={droppables:s,draggables:i},c=qr(t.impact),u=c?a.droppables[c]:null,d=a.draggables[t.critical.draggable.id],f=a.droppables[t.critical.droppable.id],p=FO({draggable:d,home:f,draggables:i,viewport:t.viewport}),m=p.impact,v=p.afterCritical,y=u&&u.isCombineEnabled?t.impact:m,w=_O({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:y,viewport:t.viewport,afterCritical:v}),x=ye({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:w,onLiftImpact:m,dimensions:a,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var g=ye({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},Nv=function(t){return t.movementMode==="SNAP"},gm=function(t,r,n){var s=lK(t.dimensions,r);return!Nv(t)||n?ic({state:t,dimensions:s}):LO({state:t,dimensions:s})};function vm(e){return e.isDragging&&e.movementMode==="SNAP"?ye({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var QS={phase:"IDLE",completed:null,shouldFlush:!1},pK=function(e,t){if(e===void 0&&(e=QS),t.type==="FLUSH")return ye({},QS,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&X();var r=t.payload,n=r.critical,s=r.clientSelection,o=r.viewport,i=r.dimensions,a=r.movementMode,c=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],d={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Ht},f={client:d,page:{selection:er(d.selection,o.scroll.initial),borderBoxCenter:er(d.selection,o.scroll.initial),offset:er(d.selection,o.scroll.diff.value)}},p=nh(i.droppables).every(function(Ie){return!Ie.isFixedOnPage}),m=FO({draggable:c,home:u,draggables:i.draggables,viewport:o}),v=m.impact,y=m.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:f,current:f,isWindowScrollAllowed:p,impact:v,afterCritical:y,onLiftImpact:v,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&X();var x=ye({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||X(),fK({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ei(e)||X();var g=t.payload.client;return Ao(g,e.current.client.selection)?e:ic({state:e,clientSelection:g,impact:Nv(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return vm(e);ei(e)||X();var b=t.payload,S=b.id,C=b.newScroll,E=e.dimensions.droppables[S];if(!E)return e;var N=Zx(E,C);return gm(e,N,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ei(e)||X();var j=t.payload,T=j.id,P=j.isEnabled,O=e.dimensions.droppables[T];O||X(),O.isEnabled===P&&X();var D=ye({},O,{isEnabled:P});return gm(e,D,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ei(e)||X();var _=t.payload,k=_.id,F=_.isCombineEnabled,I=e.dimensions.droppables[k];I||X(),I.isCombineEnabled===F&&X();var U=ye({},I,{isCombineEnabled:F});return gm(e,U,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ei(e)||X(),e.isWindowScrollAllowed||X();var L=t.payload.newScroll;if(Ao(e.viewport.scroll.current,L))return vm(e);var B=PO(e.viewport,L);return Nv(e)?LO({state:e,viewport:B}):ic({state:e,viewport:B})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ei(e))return e;var q=t.payload.maxScroll;if(Ao(q,e.viewport.scroll.max))return e;var ie=ye({},e.viewport,{scroll:ye({},e.viewport.scroll,{max:q})});return ye({phase:"DRAGGING"},e,{viewport:ie})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&X();var fe=Qq({state:e,type:t.type});return fe?ic({state:e,impact:fe.impact,clientSelection:fe.clientSelection,scrollJumpRequest:fe.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var qe=t.payload.reason;e.phase!=="COLLECTING"&&X();var Oe=ye({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:qe});return Oe}if(t.type==="DROP_ANIMATE"){var Je=t.payload,Ke=Je.completed,ae=Je.dropDuration,ke=Je.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||X();var Re={phase:"DROP_ANIMATING",completed:Ke,dropDuration:ae,newHomeClientOffset:ke,dimensions:e.dimensions};return Re}if(t.type==="DROP_COMPLETE"){var Ne=t.payload.completed;return{phase:"IDLE",completed:Ne,shouldFlush:!1}}return e},hK=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},mK=function(t){return{type:"LIFT",payload:t}},gK=function(t){return{type:"INITIAL_PUBLISH",payload:t}},vK=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},yK=function(){return{type:"COLLECTION_STARTING",payload:null}},xK=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},wK=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},bK=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},$O=function(t){return{type:"MOVE",payload:t}},SK=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},CK=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},EK=function(){return{type:"MOVE_UP",payload:null}},NK=function(){return{type:"MOVE_DOWN",payload:null}},jK=function(){return{type:"MOVE_RIGHT",payload:null}},PK=function(){return{type:"MOVE_LEFT",payload:null}},i0=function(){return{type:"FLUSH",payload:null}},TK=function(t){return{type:"DROP_ANIMATE",payload:t}},a0=function(t){return{type:"DROP_COMPLETE",payload:t}},BO=function(t){return{type:"DROP",payload:t}},kK=function(t){return{type:"DROP_PENDING",payload:t}},zO=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},AK=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(o){if(o.type!=="LIFT"){s(o);return}var i=o.payload,a=i.id,c=i.clientSelection,u=i.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(a0({completed:d.completed})),r().phase!=="IDLE"&&X(),n(i0()),n(hK({draggableId:a,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},p={draggableId:a,scrollOptions:f},m=e.startPublishing(p),v=m.critical,y=m.dimensions,w=m.viewport;n(gK({critical:v,dimensions:y,clientSelection:c,movementMode:u,viewport:w}))}}}},DK=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},l0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hc={opacity:{drop:0,combining:.7},scale:{drop:.75}},c0={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Qo=c0.outOfTheWay+"s "+l0.outOfTheWay,ac={fluid:"opacity "+Qo,snap:"transform "+Qo+", opacity "+Qo,drop:function(t){var r=t+"s "+l0.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Qo,placeholder:"height "+Qo+", width "+Qo+", margin "+Qo},YS=function(t){return Ao(t,Ht)?null:"translate("+t.x+"px, "+t.y+"px)"},jv={moveTo:YS,drop:function(t,r){var n=YS(t);return n?r?n+" scale("+Hc.scale.drop+")":n:null}},Pv=c0.minDropTime,VO=c0.maxDropTime,RK=VO-Pv,XS=1500,IK=.6,_K=function(e){var t=e.current,r=e.destination,n=e.reason,s=Vc(t,r);if(s<=0)return Pv;if(s>=XS)return VO;var o=s/XS,i=Pv+RK*o,a=n==="CANCEL"?i*IK:i;return Number(a.toFixed(2))},OK=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,o=e.afterCritical,i=n.draggables,a=n.droppables,c=qr(t),u=c?a[c]:null,d=a[r.descriptor.droppableId],f=MO({impact:t,draggable:r,draggables:i,afterCritical:o,droppable:u||d,viewport:s}),p=Wr(f,r.client.borderBox.center);return p},MK=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,o=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var a=OO({draggables:t,impact:i,destination:s,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=ye({},n,{displaced:Uc});return{impact:c,didDropInsideDroppable:!0}},LK=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var o=t(),i=s.payload.reason;if(o.phase==="COLLECTING"){r(kK({reason:i}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&X(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||X();var c=o.critical,u=o.dimensions,d=u.draggables[o.critical.draggable.id],f=MK({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=f.impact,m=f.didDropInsideDroppable,v=m?e0(p):null,y=m?sh(p):null,w={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:w,reason:i,mode:o.movementMode,destination:v,combine:y},g=OK({impact:p,draggable:d,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),b={critical:o.critical,afterCritical:o.afterCritical,result:x,impact:p},S=!Ao(o.current.client.offset,g)||!!x.combine;if(!S){r(a0({completed:b}));return}var C=_K({current:o.current.client.offset,destination:g,reason:i}),E={newHomeClientOffset:g,dropDuration:C,completed:b};r(TK(E))}}}},UO=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function FK(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function $K(e){var t=e.onWindowScroll;function r(){t(UO())}var n=zc(r),s=FK(n),o=ko;function i(){return o!==ko}function a(){i()&&X(),o=ln(window,[s])}function c(){i()||X(),n.cancel(),o(),o=ko}return{start:a,stop:c,isActive:i}}var BK=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},zK=function(e){var t=$K({onWindowScroll:function(n){e.dispatch(SK({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&BK(n)&&t.stop(),r(n)}}},VK=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=function(){return t},s},UK=function(){var e=[],t=function(o){var i=Jx(e,function(u){return u.timerId===o});i===-1&&X();var a=e.splice(i,1),c=a[0];c.callback()},r=function(o){var i=setTimeout(function(){return t(i)}),a={timerId:i,callback:o};e.push(a)},n=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},WK=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},HK=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},GK=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},Il=function(t,r){r()},dd=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},ym=function(t,r,n,s){if(!t){n(s(r));return}var o=VK(n),i={announce:o};t(r,i),o.wasCalled()||n(s(r))},qK=function(e,t){var r=UK(),n=null,s=function(p,m){n&&X(),Il("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var y={draggableId:p,mode:m};v(y)}})},o=function(p,m){n&&X(),Il("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(dd(p,m))})},i=function(p,m){n&&X();var v=dd(p,m);n={mode:m,lastCritical:p,lastLocation:v.source,lastCombine:null},r.add(function(){Il("onDragStart",function(){return ym(e().onDragStart,v,t,$d.onDragStart)})})},a=function(p,m){var v=e0(m),y=sh(m);n||X();var w=!GK(p,n.lastCritical);w&&(n.lastCritical=p);var x=!WK(n.lastLocation,v);x&&(n.lastLocation=v);var g=!HK(n.lastCombine,y);if(g&&(n.lastCombine=y),!(!w&&!x&&!g)){var b=ye({},dd(p,n.mode),{combine:y,destination:v});r.add(function(){Il("onDragUpdate",function(){return ym(e().onDragUpdate,b,t,$d.onDragUpdate)})})}},c=function(){n||X(),r.flush()},u=function(p){n||X(),n=null,Il("onDragEnd",function(){return ym(e().onDragEnd,p,t,$d.onDragEnd)})},d=function(){if(n){var p=ye({},dd(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:u,abort:d}},KK=function(e,t){var r=qK(e,t);return function(n){return function(s){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var i=o.payload.critical;r.beforeStart(i,o.payload.movementMode),s(o),r.start(i,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;r.flush(),s(o),r.drop(a);return}if(s(o),o.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},QK=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&X(),e.dispatch(a0({completed:n.completed}))}}},YK=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),s(o),o.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(zO())}};r=requestAnimationFrame(function(){r=null,t=ln(window,[i])})}}}},XK=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},ZK=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},JK=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},eQ=function(e){return function(t){return function(r){return function(n){if(JK(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&X(),e.start(s);return}r(n),e.scroll(t.getState())}}}},tQ=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(BO({reason:n.reason})))}}}},rQ=Q_,nQ=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,o=e.announce,i=e.autoScroller;return K_(pK,rQ(U7(DK(n),XK(t),AK(t),LK,QK,YK,tQ,eQ(i),zK,ZK(r),KK(s,o))))},xm=function(){return{additions:{},removals:{},modified:{}}};function sQ(e){var t=e.registry,r=e.callbacks,n=xm(),s=null,o=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var d=n,f=d.additions,p=d.removals,m=d.modified,v=Object.keys(f).map(function(x){return t.draggable.getById(x).getDimension(Ht)}).sort(function(x,g){return x.descriptor.index-g.descriptor.index}),y=Object.keys(m).map(function(x){var g=t.droppable.getById(x),b=g.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),w={additions:v,removals:Object.keys(p),modified:y};n=xm(),r.publish(w)}))},i=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],o()},a=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],o()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=xm())};return{add:i,remove:a,stop:c}}var WO=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,o=Wr({x:r,y:t},{x:s,y:n}),i={x:Math.max(0,o.x),y:Math.max(0,o.y)};return i},HO=function(){var e=document.documentElement;return e||X(),e},GO=function(){var e=HO(),t=WO({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},oQ=function(){var e=UO(),t=GO(),r=e.y,n=e.x,s=HO(),o=s.clientWidth,i=s.clientHeight,a=n+o,c=r+i,u=Dn({top:r,left:n,right:a,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Ht,displacement:Ht}}};return d},iQ=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=oQ(),o=s.scroll.current,i=t.droppable,a=n.droppable.getAllByType(i.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(o,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(o)}),u={draggables:bO(c),droppables:wO(a)},d={dimensions:u,critical:t,viewport:s};return d};function ZS(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var aQ=function(e,t){var r=null,n=sQ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,v){e.droppable.exists(m)||X(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},o=function(m,v){r&&(e.droppable.exists(m)||X(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},i=function(m,v){r&&(e.droppable.exists(m)||X(),t.updateDroppableScroll({id:m,newScroll:v}))},a=function(m,v){r&&e.droppable.getById(m).callbacks.scroll(v)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(m){r||X();var v=r.critical.draggable;m.type==="ADDITION"&&ZS(e,v,m.value)&&n.add(m.value),m.type==="REMOVAL"&&ZS(e,v,m.value)&&n.remove(m.value)},d=function(m){r&&X();var v=e.draggable.getById(m.draggableId),y=e.droppable.getById(v.descriptor.droppableId),w={draggable:v.descriptor,droppable:y.descriptor},x=e.subscribe(u);return r={critical:w,unsubscribe:x},iQ({critical:w,registry:e,scrollOptions:m.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:d,stopPublishing:c};return f},qO=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},lQ=function(e){window.scrollBy(e.x,e.y)},cQ=Ut(function(e){return nh(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),uQ=function(t,r){var n=Ko(cQ(r),function(s){return s.frame||X(),DO(s.frame.pageMarginBox)(t)});return n},dQ=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var o=uQ(t,n);return o},Do={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},fQ=function(e,t){var r=e[t.size]*Do.startFromPercentage,n=e[t.size]*Do.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},KO=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var o=n-t,i=o/s;return i},u0=1,pQ=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Do.maxPixelScroll;if(e===t.startScrollingFrom)return u0;var r=KO({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Do.maxPixelScroll*Do.ease(n);return Math.ceil(s)},JS=Do.durationDampening.accelerateAt,e1=Do.durationDampening.stopDampeningAt,hQ=function(e,t){var r=t,n=e1,s=Date.now(),o=s-r;if(o>=e1)return e;if(o<JS)return u0;var i=KO({startOfRange:JS,endOfRange:n,current:o}),a=e*Do.ease(i);return Math.ceil(a)},t1=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,o=pQ(t,r);return o===0?0:s?Math.max(hQ(o,n),u0):o},r1=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,o=e.shouldUseTimeDampening,i=fQ(t,s),a=r[s.end]<r[s.start];return a?t1({distanceToEdge:r[s.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o}):-1*t1({distanceToEdge:r[s.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o})},mQ=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,o=r.width>t.width;return!o&&!s?n:o&&s?null:{x:o?0:n.x,y:s?0:n.y}},gQ=yO(function(e){return e===0?0:e}),QO=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,o=e.shouldUseTimeDampening,i={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},a=r1({container:r,distanceToEdges:i,dragStartTime:t,axis:t0,shouldUseTimeDampening:o}),c=r1({container:r,distanceToEdges:i,dragStartTime:t,axis:EO,shouldUseTimeDampening:o}),u=gQ({x:c,y:a});if(Ao(u,Ht))return null;var d=mQ({container:r,subject:n,proposedScroll:u});return d?Ao(d,Ht)?null:d:null},vQ=yO(function(e){return e===0?0:e>0?1:-1}),d0=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,o=er(r,s),i={x:e(o.x,n.x),y:e(o.y,n.y)};return Ao(i,Ht)?null:i}}(),YO=function(t){var r=t.max,n=t.current,s=t.change,o={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=vQ(s),a=d0({max:o,current:n,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},f0=function(t,r){return YO({current:t.scroll.current,max:t.scroll.max,change:r})},yQ=function(t,r){if(!f0(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return d0({current:s,max:n,change:r})},p0=function(t,r){var n=t.frame;return n?YO({current:n.scroll.current,max:n.scroll.max,change:r}):!1},xQ=function(t,r){var n=t.frame;return!n||!p0(t,r)?null:d0({current:n.scroll.current,max:n.scroll.max,change:r})},wQ=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,o=e.shouldUseTimeDampening,i=QO({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:o});return i&&f0(t,i)?i:null},bQ=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var a=QO({dragStartTime:s,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:o});return a&&p0(t,a)?a:null},n1=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],c=a.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=wQ({dragStartTime:r,viewport:u,subject:c,center:i,shouldUseTimeDampening:n});if(d){s(d);return}}var f=dQ({center:i,destination:qr(t.impact),droppables:t.dimensions.droppables});if(f){var p=bQ({dragStartTime:r,droppable:f,subject:c,center:i,shouldUseTimeDampening:n});p&&o(f.descriptor.id,p)}},SQ=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=zc(t),s=zc(r),o=null,i=function(d){o||X();var f=o,p=f.shouldUseTimeDampening,m=f.dragStartTime;n1({state:d,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:p})},a=function(d){o&&X();var f=Date.now(),p=!1,m=function(){p=!0};n1({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),o={dragStartTime:f,shouldUseTimeDampening:p},p&&i(d)},c=function(){o&&(n.cancel(),s.cancel(),o=null)};return{start:a,stop:c,scroll:i}},CQ=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,d){var f=er(u.current.client.selection,d);t({client:f})},o=function(u,d){if(!p0(u,d))return d;var f=xQ(u,d);if(!f)return r(u.descriptor.id,d),null;var p=Wr(d,f);r(u.descriptor.id,p);var m=Wr(d,p);return m},i=function(u,d,f){if(!u||!f0(d,f))return f;var p=yQ(d,f);if(!p)return n(f),null;var m=Wr(f,p);n(m);var v=Wr(f,m);return v},a=function(u){var d=u.scrollJumpRequest;if(d){var f=qr(u.impact);f||X();var p=o(u.dimensions.droppables[f],d);if(p){var m=u.viewport,v=i(u.isWindowScrollAllowed,m,p);v&&s(u,v)}}};return a},EQ=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=SQ({scrollWindow:r,scrollDroppable:t}),o=CQ({move:n,scrollWindow:r,scrollDroppable:t}),i=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:i,start:s.start,stop:s.stop};return a},Za="data-rbd",Ja=function(){var e=Za+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Tv=function(){var e=Za+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),NQ=function(){var e=Za+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),s1={contextId:Za+"-scroll-container-context-id"},jQ=function(t){return function(r){return"["+r+'="'+t+'"]'}},_l=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},PQ="pointer-events: none;",TQ=function(e){var t=jQ(e),r=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ja.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:PQ,dropAnimating:a}}}(),n=function(){var a=`
      transition: `+ac.outOfTheWay+`;
    `;return{selector:t(Tv.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),s={selector:t(NQ.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,s,o];return{always:_l(i,"always"),resting:_l(i,"resting"),dragging:_l(i,"dragging"),dropAnimating:_l(i,"dropAnimating"),userCancel:_l(i,"userCancel")}},Kr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect,wm=function(){var t=document.querySelector("head");return t||X(),t},o1=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function kQ(e,t){var r=Fe(function(){return TQ(e)},[e]),n=h.useRef(null),s=h.useRef(null),o=me(Ut(function(f){var p=s.current;p||X(),p.textContent=f}),[]),i=me(function(f){var p=n.current;p||X(),p.textContent=f},[]);Kr(function(){!n.current&&!s.current||X();var f=o1(t),p=o1(t);return n.current=f,s.current=p,f.setAttribute(Za+"-always",e),p.setAttribute(Za+"-dynamic",e),wm().appendChild(f),wm().appendChild(p),i(r.always),o(r.resting),function(){var m=function(y){var w=y.current;w||X(),wm().removeChild(w),y.current=null};m(n),m(s)}},[t,i,o,r.always,r.resting,e]);var a=me(function(){return o(r.dragging)},[o,r.dragging]),c=me(function(f){if(f==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),u=me(function(){s.current&&o(r.resting)},[o,r.resting]),d=Fe(function(){return{dragging:a,dropping:c,resting:u}},[a,c,u]);return d}var XO=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ah(e){return e instanceof XO(e).HTMLElement}function AQ(e,t){var r="["+Ja.contextId+'="'+e+'"]',n=xO(document.querySelectorAll(r));if(!n.length)return null;var s=Ko(n,function(o){return o.getAttribute(Ja.draggableId)===t});return!s||!ah(s)?null:s}function DQ(e){var t=h.useRef({}),r=h.useRef(null),n=h.useRef(null),s=h.useRef(!1),o=me(function(p,m){var v={id:p,focus:m};return t.current[p]=v,function(){var w=t.current,x=w[p];x!==v&&delete w[p]}},[]),i=me(function(p){var m=AQ(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=me(function(p,m){r.current===p&&(r.current=m)},[]),c=me(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&i(p)}))},[i]),u=me(function(p){r.current=null;var m=document.activeElement;m&&m.getAttribute(Ja.draggableId)===p&&(r.current=p)},[]);Kr(function(){return s.current=!0,function(){s.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var d=Fe(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}},[o,u,c,a]);return d}function RQ(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function n(f){t.length&&t.forEach(function(p){return p(f)})}function s(f){return e.draggables[f]||null}function o(f){var p=s(f);return p||X(),p}var i={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,m){var v=e.draggables[m.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,v=s(m);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:p}))},getById:o,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Gf(e.draggables).filter(function(m){return m.descriptor.type===p})}};function a(f){return e.droppables[f]||null}function c(f){var p=a(f);return p||X(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var m=a(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return Gf(e.droppables).filter(function(m){return m.descriptor.type===p})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:r,clean:d}}function IQ(){var e=Fe(RQ,[]);return h.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var h0=oe.createContext(null),Kf=function(){var e=document.body;return e||X(),e},_Q={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},OQ=function(t){return"rbd-announcement-"+t};function MQ(e){var t=Fe(function(){return OQ(e)},[e]),r=h.useRef(null);h.useEffect(function(){var o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ye(o.style,_Q),Kf().appendChild(o),function(){setTimeout(function(){var c=Kf();c.contains(o)&&c.removeChild(o),o===r.current&&(r.current=null)})}},[t]);var n=me(function(s){var o=r.current;if(o){o.textContent=s;return}},[]);return n}var LQ=0,FQ={separator:"::"};function m0(e,t){return t===void 0&&(t=FQ),Fe(function(){return""+e+t.separator+LQ++},[t.separator,e])}function $Q(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function BQ(e){var t=e.contextId,r=e.text,n=m0("hidden-text",{separator:"-"}),s=Fe(function(){return $Q({contextId:t,uniqueId:n})},[n,t]);return h.useEffect(function(){var i=document.createElement("div");return i.id=s,i.textContent=r,i.style.display="none",Kf().appendChild(i),function(){var c=Kf();c.contains(i)&&c.removeChild(i)}},[s,r]),s}var lh=oe.createContext(null);function ZO(e){var t=h.useRef(e);return h.useEffect(function(){t.current=e}),t}function zQ(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&X();var a={abandon:i};return e=a,a}function s(){e||X(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:o}}var VQ=9,UQ=13,g0=27,JO=32,WQ=33,HQ=34,GQ=35,qQ=36,KQ=37,QQ=38,YQ=39,XQ=40,fd,ZQ=(fd={},fd[UQ]=!0,fd[VQ]=!0,fd),eM=function(e){ZQ[e.keyCode]&&e.preventDefault()},ch=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Ko(t,function(n){return"on"+n in document});return r||e}(),tM=0,i1=5;function JQ(e,t){return Math.abs(t.x-e.x)>=i1||Math.abs(t.y-e.y)>=i1}var a1={type:"IDLE"};function eY(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(i){var a=i.button,c=i.clientX,u=i.clientY;if(a===tM){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&X();var p=f.point;if(JQ(p,d)){i.preventDefault();var m=f.actions.fluidLift(d);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var a=n();if(a.type==="PENDING"){t();return}if(i.keyCode===g0){i.preventDefault(),t();return}eM(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var a=n();if(a.type==="IDLE"&&X(),a.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:ch,fn:t}]}function tY(e){var t=h.useRef(a1),r=h.useRef(ko),n=Fe(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===tM&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var p=e.findClosestDraggableId(f);if(p){var m=e.tryGetLock(p,i,{sourceEvent:f});if(m){f.preventDefault();var v={x:f.clientX,y:f.clientY};r.current(),u(m,v)}}}}}},[e]),s=Fe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var p=e.findClosestDraggableId(f);if(p){var m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}}}},[e]),o=me(function(){var f={passive:!1,capture:!0};r.current=ln(window,[s,n],f)},[s,n]),i=me(function(){var d=t.current;d.type!=="IDLE"&&(t.current=a1,r.current(),o())},[o]),a=me(function(){var d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),c=me(function(){var f={capture:!0,passive:!1},p=eY({cancel:a,completed:i,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=ln(window,p,f)},[a,i]),u=me(function(f,p){t.current.type!=="IDLE"&&X(),t.current={type:"PENDING",point:p,actions:f},c()},[c]);Kr(function(){return o(),function(){r.current()}},[o])}var Ki;function rY(){}var nY=(Ki={},Ki[HQ]=!0,Ki[WQ]=!0,Ki[qQ]=!0,Ki[GQ]=!0,Ki);function sY(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===g0){o.preventDefault(),r();return}if(o.keyCode===JO){o.preventDefault(),n();return}if(o.keyCode===XQ){o.preventDefault(),e.moveDown();return}if(o.keyCode===QQ){o.preventDefault(),e.moveUp();return}if(o.keyCode===YQ){o.preventDefault(),e.moveRight();return}if(o.keyCode===KQ){o.preventDefault(),e.moveLeft();return}if(nY[o.keyCode]){o.preventDefault();return}eM(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:ch,fn:r}]}function oY(e){var t=h.useRef(rY),r=Fe(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==JO)return;var i=e.findClosestDraggableId(o);if(!i)return;var a=e.tryGetLock(i,d,{sourceEvent:o});if(!a)return;o.preventDefault();var c=!0,u=a.snapLift();t.current();function d(){c||X(),c=!1,t.current(),n()}t.current=ln(window,sY(u,d),{capture:!0,passive:!1})}}},[e]),n=me(function(){var o={passive:!1,capture:!0};t.current=ln(window,[r],o)},[r]);Kr(function(){return n(),function(){t.current()}},[n])}var bm={type:"IDLE"},iY=120,aY=.15;function lY(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===g0&&s.preventDefault(),t()}},{eventName:ch,fn:t}]}function cY(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var a=o.touches[0],c=a.clientX,u=a.clientY,d={x:c,y:u};o.preventDefault(),i.actions.move(d)}},{eventName:"touchend",fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(o){if(n().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var i=n();i.type==="IDLE"&&X();var a=o.touches[0];if(a){var c=a.force>=aY;if(c){var u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:ch,fn:t}]}function uY(e){var t=h.useRef(bm),r=h.useRef(ko),n=me(function(){return t.current},[]),s=me(function(m){t.current=m},[]),o=Fe(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var v=e.findClosestDraggableId(m);if(v){var y=e.tryGetLock(v,a,{sourceEvent:m});if(y){var w=m.touches[0],x=w.clientX,g=w.clientY,b={x,y:g};r.current(),f(y,b)}}}}}},[e]),i=me(function(){var m={capture:!0,passive:!1};r.current=ln(window,[o],m)},[o]),a=me(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(bm),r.current(),i())},[i,s]),c=me(function(){var p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=me(function(){var m={capture:!0,passive:!1},v={cancel:c,completed:a,getPhase:n},y=ln(window,cY(v),m),w=ln(window,lY(v),m);r.current=function(){y(),w()}},[c,n,a]),d=me(function(){var m=n();m.type!=="PENDING"&&X();var v=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:v,hasMoved:!1})},[n,s]),f=me(function(m,v){n().type!=="IDLE"&&X();var y=setTimeout(d,iY);s({type:"PENDING",point:v,actions:m,longPressTimerId:y}),u()},[u,n,s,d]);Kr(function(){return i(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),s(bm))}},[n,i,s]),Kr(function(){var m=ln(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var dY={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function rM(e,t){if(t==null)return!1;var r=!!dY[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:rM(e,t.parentElement)}function fY(e,t){var r=t.target;return ah(r)?rM(e,r):!1}var pY=function(e){return Dn(e.getBoundingClientRect()).center};function hY(e){return e instanceof XO(e).Element}var mY=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Ko(t,function(n){return n in Element.prototype});return r||e}();function nM(e,t){return e==null?null:e[mY](t)?e:nM(e.parentElement,t)}function gY(e,t){return e.closest?e.closest(t):nM(e,t)}function vY(e){return"["+Ja.contextId+'="'+e+'"]'}function yY(e,t){var r=t.target;if(!hY(r))return null;var n=vY(e),s=gY(r,n);return!s||!ah(s)?null:s}function xY(e,t){var r=yY(e,t);return r?r.getAttribute(Ja.draggableId):null}function wY(e,t){var r="["+Tv.contextId+'="'+e+'"]',n=xO(document.querySelectorAll(r)),s=Ko(n,function(o){return o.getAttribute(Tv.id)===t});return!s||!ah(s)?null:s}function bY(e){e.preventDefault()}function pd(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function sM(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var o=n.draggable.findById(s);return!(!o||!o.options.isEnabled||!qO(r.getState(),s))}function SY(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,o=e.draggableId,i=e.forceSensorStop,a=e.sourceEvent,c=sM({lockAPI:t,store:n,registry:s,draggableId:o});if(!c)return null;var u=s.draggable.getById(o),d=wY(r,u.descriptor.id);if(!d||a&&!u.options.canDragInteractiveElements&&fY(d,a))return null;var f=t.claim(i||ko),p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function v(){return t.isActive(f)}function y(E,N){pd({expected:E,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(N())}var w=y.bind(null,"DRAGGING");function x(E){function N(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(N(),p!=="PRE_DRAG"&&X()),n.dispatch(mK(E.liftActionArgs)),p="DRAGGING";function j(T,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),E.cleanup(),P.shouldBlockNextClick){var O=ln(window,[{eventName:"click",fn:bY,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}N(),n.dispatch(BO({reason:T}))}return ye({isActive:function(){return pd({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(P){return j("DROP",P)},cancel:function(P){return j("CANCEL",P)}},E.actions)}function g(E){var N=zc(function(T){w(function(){return $O({client:T})})}),j=x({liftActionArgs:{id:o,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return ye({},j,{move:N})}function b(){var E={moveUp:function(){return w(EK)},moveRight:function(){return w(jK)},moveDown:function(){return w(NK)},moveLeft:function(){return w(PK)}};return x({liftActionArgs:{id:o,clientSelection:pY(d),movementMode:"SNAP"},cleanup:ko,actions:E})}function S(){var E=pd({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});E&&t.release()}var C={isActive:function(){return pd({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:g,snapLift:b,abort:S};return C}var CY=[tY,oY,uY];function EY(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,o=e.enableDefaultSensors,i=[].concat(o?CY:[],s||[]),a=h.useState(function(){return zQ()})[0],c=me(function(g,b){g.isDragging&&!b.isDragging&&a.tryAbandon()},[a]);Kr(function(){var g=r.getState(),b=r.subscribe(function(){var S=r.getState();c(g,S),g=S});return b},[a,r,c]),Kr(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=me(function(x){return sM({lockAPI:a,registry:n,store:r,draggableId:x})},[a,n,r]),d=me(function(x,g,b){return SY({lockAPI:a,registry:n,contextId:t,store:r,draggableId:x,forceSensorStop:g,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[t,a,n,r]),f=me(function(x){return xY(t,x)},[t]),p=me(function(x){var g=n.draggable.findById(x);return g?g.options:null},[n.draggable]),m=me(function(){a.isClaimed()&&(a.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(i0()))},[a,r]),v=me(a.isClaimed,[a]),y=Fe(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:v}},[u,d,f,p,m,v]),w=0;w<i.length;w++)i[w](y)}var NY=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Ol(e){return e.current||X(),e.current}function jY(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,o=e.dragHandleUsageInstructions,i=h.useRef(null),a=ZO(e),c=me(function(){return NY(a.current)},[a]),u=MQ(t),d=BQ({contextId:t,text:o}),f=kQ(t,s),p=me(function(T){Ol(i).dispatch(T)},[]),m=Fe(function(){return AS({publishWhileDragging:vK,updateDroppableScroll:xK,updateDroppableIsEnabled:wK,updateDroppableIsCombineEnabled:bK,collectionStarting:yK},p)},[p]),v=IQ(),y=Fe(function(){return aQ(v,m)},[v,m]),w=Fe(function(){return EQ(ye({scrollWindow:lQ,scrollDroppable:y.scrollDroppable},AS({move:$O},p)))},[y.scrollDroppable,p]),x=DQ(t),g=Fe(function(){return nQ({announce:u,autoScroller:w,dimensionMarshal:y,focusMarshal:x,getResponders:c,styleMarshal:f})},[u,w,y,x,c,f]);i.current=g;var b=me(function(){var T=Ol(i),P=T.getState();P.phase!=="IDLE"&&T.dispatch(i0())},[]),S=me(function(){var T=Ol(i).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),C=Fe(function(){return{isDragging:S,tryAbort:b}},[S,b]);r(C);var E=me(function(T){return qO(Ol(i).getState(),T)},[]),N=me(function(){return ei(Ol(i).getState())},[]),j=Fe(function(){return{marshal:y,focus:x,contextId:t,canLift:E,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:v}},[t,y,d,x,E,N,v]);return EY({contextId:t,store:g,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),h.useEffect(function(){return b},[b]),oe.createElement(lh.Provider,{value:j},oe.createElement(K7,{context:h0,store:g},e.children))}var PY=0;function TY(){return Fe(function(){return""+PY++},[])}function kY(e){var t=TY(),r=e.dragHandleUsageInstructions||$d.dragHandleUsageInstructions;return oe.createElement(oq,null,function(n){return oe.createElement(jY,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var oM=function(t){return function(r){return t===r}},AY=oM("scroll"),DY=oM("auto"),l1=function(t,r){return r(t.overflowX)||r(t.overflowY)},RY=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return l1(n,AY)||l1(n,DY)},IY=function(){return!1},_Y=function e(t){return t==null?null:t===document.body?IY()?t:null:t===document.documentElement?null:RY(t)?t:e(t.parentElement)},kv=function(e){return{x:e.scrollLeft,y:e.scrollTop}},OY=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},MY=function(e){var t=_Y(e),r=OY(e);return{closestScrollable:t,isFixedOnPage:r}},LY=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,o=e.direction,i=e.client,a=e.page,c=e.closest,u=function(){if(!c)return null;var m=c.scrollSize,v=c.client,y=WO({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:Ht,displacement:Ht}}}}(),d=o==="vertical"?t0:EO,f=Xa({page:a,withPlaceholder:null,axis:d,frame:u}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:d,isEnabled:r,client:i,page:a,frame:u,subject:f};return p},FY=function(t,r){var n=hO(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,o=n.paddingBox.left-r.scrollLeft,i=s+r.scrollHeight,a=o+r.scrollWidth,c={top:s,right:a,bottom:i,left:o},u=Yx(c,n.border),d=Xx({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},$Y=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,o=e.direction,i=e.isDropDisabled,a=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,d=FY(t,u),f=Uf(d,s),p=function(){if(!u)return null;var v=hO(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Uf(v,s),scroll:kv(u),scrollSize:y,shouldClipSubject:c}}(),m=LY({descriptor:r,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:o,client:d,page:f,closest:p});return m},BY={passive:!1},zY={passive:!0},c1=function(e){return e.shouldPublishImmediately?BY:zY};function Qf(e){var t=h.useContext(e);return t||X(),t}var hd=function(t){return t&&t.env.closestScrollable||null};function VY(e){var t=h.useRef(null),r=Qf(lh),n=m0("droppable"),s=r.registry,o=r.marshal,i=ZO(e),a=Fe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=h.useRef(a),u=Fe(function(){return Ut(function(S,C){t.current||X();var E={x:S,y:C};o.updateDroppableScroll(a.id,E)})},[a.id,o]),d=me(function(){var S=t.current;return!S||!S.env.closestScrollable?Ht:kv(S.env.closestScrollable)},[]),f=me(function(){var S=d();u(S.x,S.y)},[d,u]),p=Fe(function(){return zc(f)},[f]),m=me(function(){var S=t.current,C=hd(S);S&&C||X();var E=S.scrollOptions;if(E.shouldPublishImmediately){f();return}p()},[p,f]),v=me(function(S,C){t.current&&X();var E=i.current,N=E.getDroppableRef();N||X();var j=MY(N),T={ref:N,descriptor:a,env:j,scrollOptions:C};t.current=T;var P=$Y({ref:N,descriptor:a,env:j,windowScroll:S,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),O=j.closestScrollable;return O&&(O.setAttribute(s1.contextId,r.contextId),O.addEventListener("scroll",m,c1(T.scrollOptions))),P},[r.contextId,a,m,i]),y=me(function(){var S=t.current,C=hd(S);return S&&C||X(),kv(C)},[]),w=me(function(){var S=t.current;S||X();var C=hd(S);t.current=null,C&&(p.cancel(),C.removeAttribute(s1.contextId),C.removeEventListener("scroll",m,c1(S.scrollOptions)))},[m,p]),x=me(function(S){var C=t.current;C||X();var E=hd(C);E||X(),E.scrollTop+=S.y,E.scrollLeft+=S.x},[]),g=Fe(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:y,dragStopped:w,scroll:x}},[w,v,y,x]),b=Fe(function(){return{uniqueId:n,descriptor:a,callbacks:g}},[g,a,n]);Kr(function(){return c.current=b.descriptor,s.droppable.register(b),function(){t.current&&w(),s.droppable.unregister(b)}},[g,a,w,b,o,s.droppable]),Kr(function(){t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Kr(function(){t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Sm(){}var u1={width:0,height:0,margin:dq},UY=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?u1:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},WY=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,o=UY({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?ac.placeholder:null}};function HY(e){var t=h.useRef(null),r=me(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,o=e.onClose,i=e.contextId,a=h.useState(e.animate==="open"),c=a[0],u=a[1];h.useEffect(function(){return c?n!=="open"?(r(),u(!1),Sm):t.current?Sm:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):Sm},[n,c,r]);var d=me(function(p){p.propertyName==="height"&&(s(),n==="close"&&o())},[n,o,s]),f=WY({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return oe.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}var GY=oe.memo(HY),v0=oe.createContext(null),qY=function(e){q_(t,e);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,o){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(oe.PureComponent),d1={dragging:5e3,dropAnimating:4500},KY=function(t,r){return r?ac.drop(r.duration):t?ac.snap:ac.fluid},QY=function(t,r){return t?r?Hc.opacity.drop:Hc.opacity.combining:null},YY=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function XY(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,o=e.dropping,i=!!s,a=YY(e),c=!!o,u=c?jv.drop(n,i):jv.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:KY(a,o),transform:u,opacity:QY(i,c),zIndex:c?d1.dropAnimating:d1.dragging,pointerEvents:"none"};return d}function ZY(e){return{transform:jv.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function JY(e){return e.type==="DRAGGING"?XY(e):ZY(e)}function eX(e,t,r){r===void 0&&(r=Ht);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=pO(s,n),i=Uf(o,r),a={client:o,tagName:t.tagName.toLowerCase(),display:n.display},c={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:e,placeholder:a,displaceBy:c,client:o,page:i};return u}function tX(e){var t=m0("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,o=e.canDragInteractiveElements,i=e.shouldRespectForcePress,a=e.isEnabled,c=Fe(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}},[o,a,i]),u=me(function(m){var v=s();return v||X(),eX(r,v,m)},[r,s]),d=Fe(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),f=h.useRef(d),p=h.useRef(!0);Kr(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Kr(function(){if(p.current){p.current=!1;return}var m=f.current;f.current=d,n.draggable.update(d,m)},[d,n.draggable])}function rX(e){e.preventDefault()}function nX(e){var t=h.useRef(null),r=me(function(T){t.current=T},[]),n=me(function(){return t.current},[]),s=Qf(lh),o=s.contextId,i=s.dragHandleUsageInstructionsId,a=s.registry,c=Qf(v0),u=c.type,d=c.droppableId,f=Fe(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),p=e.children,m=e.draggableId,v=e.isEnabled,y=e.shouldRespectForcePress,w=e.canDragInteractiveElements,x=e.isClone,g=e.mapped,b=e.dropAnimationFinished;if(!x){var S=Fe(function(){return{descriptor:f,registry:a,getDraggableRef:n,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:v}},[f,a,n,w,y,v]);tX(S)}var C=Fe(function(){return v?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:rX}:null},[o,i,m,v]),E=me(function(T){g.type==="DRAGGING"&&g.dropping&&T.propertyName==="transform"&&b()},[b,g]),N=Fe(function(){var T=JY(g),P=g.type==="DRAGGING"&&g.dropping?E:null,O={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:T,onTransitionEnd:P},dragHandleProps:C};return O},[o,C,m,g,E,r]),j=Fe(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return p(N,g.snapshot,j)}var iM=function(e,t){return e===t},aM=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},sX=function(t){return t.combine?t.combine.draggableId:null},oX=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function iX(){var e=Ut(function(s,o){return{x:s,y:o}}),t=Ut(function(s,o,i,a,c){return{isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null}}),r=Ut(function(s,o,i,a,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:d,snapshot:t(o,a,c,u,null)}}}),n=function(o,i){if(o.isDragging){if(o.critical.draggable.id!==i.draggableId)return null;var a=o.current.client.offset,c=o.dimensions.draggables[i.draggableId],u=qr(o.impact),d=oX(o.impact),f=o.forceShouldAnimate;return r(e(a.x,a.y),o.movementMode,c,i.isClone,u,d,f)}if(o.phase==="DROP_ANIMATING"){var p=o.completed;if(p.result.draggableId!==i.draggableId)return null;var m=i.isClone,v=o.dimensions.draggables[i.draggableId],y=p.result,w=y.mode,x=aM(y),g=sX(y),b=o.dropDuration,S={duration:b,curve:l0.drop,moveTo:o.newHomeClientOffset,opacity:g?Hc.opacity.drop:null,scale:g?Hc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:v,dropping:S,draggingOver:x,combineWith:g,mode:w,forceShouldAnimate:null,snapshot:t(w,m,x,g,S)}}}return null};return n}function lM(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var aX={mapped:{type:"SECONDARY",offset:Ht,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lM(null)}};function lX(){var e=Ut(function(i,a){return{x:i,y:a}}),t=Ut(lM),r=Ut(function(i,a,c){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}}}),n=function(a){return a?r(Ht,a,!0):null},s=function(a,c,u,d){var f=u.displaced.visible[a],p=!!(d.inVirtualList&&d.effected[a]),m=sh(u),v=m&&m.draggableId===a?c:null;if(!f){if(!p)return n(v);if(u.displaced.invisible[a])return null;var y=hl(d.displacedBy.point),w=e(y.x,y.y);return r(w,v,!0)}if(p)return n(v);var x=u.displacedBy.point,g=e(x.x,x.y);return r(g,v,f.shouldAnimate)},o=function(a,c){if(a.isDragging)return a.critical.draggable.id===c.draggableId?null:s(c.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var cX=function(){var t=iX(),r=lX(),n=function(o,i){return t(o,i)||r(o,i)||aX};return n},uX={dropAnimationFinished:zO},dX=dO(cX,uX,null,{context:h0,pure:!0,areStatePropsEqual:iM})(nX);function cM(e){var t=Qf(v0),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:oe.createElement(dX,e)}function fX(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return oe.createElement(cM,ye({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function pX(e){var t=h.useContext(lh);t||X();var r=t.contextId,n=t.isMovementAllowed,s=h.useRef(null),o=h.useRef(null),i=e.children,a=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,v=e.snapshot,y=e.useClone,w=e.updateViewportMaxScroll,x=e.getContainerForClone,g=me(function(){return s.current},[]),b=me(function(O){s.current=O},[]);me(function(){return o.current},[]);var S=me(function(O){o.current=O},[]),C=me(function(){n()&&w({maxScroll:GO()})},[n,w]);VY({droppableId:a,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:g});var E=oe.createElement(qY,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(O){var D=O.onClose,_=O.data,k=O.animate;return oe.createElement(GY,{placeholder:_,onClose:D,innerRef:S,animate:k,contextId:r,onTransitionEnd:C})}),N=Fe(function(){return{innerRef:b,placeholder:E,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":r}}},[r,a,E,b]),j=y?y.dragging.draggableId:null,T=Fe(function(){return{droppableId:a,type:c,isUsingCloneFor:j}},[a,j,c]);function P(){if(!y)return null;var O=y.dragging,D=y.render,_=oe.createElement(cM,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(k,F){return D(k,F,O)});return jT.createPortal(_,x())}return oe.createElement(v0.Provider,{value:T},i(N,v),P())}var Cm=function(t,r){return t===r.droppable.type},f1=function(t,r){return r.draggables[t.draggable.id]},hX=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ye({},t,{shouldAnimatePlaceholder:!1}),n=Ut(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),s=Ut(function(i,a,c,u,d,f){var p=d.descriptor.id,m=d.descriptor.droppableId===i;if(m){var v=f?{render:f,dragging:n(d.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:v}}if(!a)return r;if(!u)return t;var w={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),o=function(a,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,p=c.renderClone;if(a.isDragging){var m=a.critical;if(!Cm(d,m))return r;var v=f1(m,a.dimensions),y=qr(a.impact)===u;return s(u,f,y,y,v,p)}if(a.phase==="DROP_ANIMATING"){var w=a.completed;if(!Cm(d,w.critical))return r;var x=f1(w.critical,a.dimensions);return s(u,f,aM(w.result)===u,qr(w.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var g=a.completed;if(!Cm(d,g.critical))return r;var b=qr(g.impact)===u,S=!!(g.impact.at&&g.impact.at.type==="COMBINE"),C=g.critical.droppable.id===u;return b?S?t:r:C?t:r}return r};return o},mX={updateViewportMaxScroll:CK};function gX(){return document.body||X(),document.body}var vX={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:gX},uM=dO(hX,mX,null,{context:h0,pure:!0,areStatePropsEqual:iM})(pX);uM.defaultProps=vX;const yX=({steps:e,onStepsChange:t,onSave:r,onCancel:n})=>{const[s,o]=h.useState({}),i=h.useRef({}),a=h.useRef(e);h.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)?(console.log("🔄 StepEditor: 外部からの変更を検出",{oldLength:a.current.length,newLength:e.length,oldIds:a.current.map(E=>E.id),newIds:e.map(E=>E.id)}),a.current=e):console.log("⏭️ StepEditor: 外部からの変更なし")},[e]);const c=C=>{JSON.stringify(C)!==JSON.stringify(a.current)?(console.log("🔄 StepEditor: ステップを更新",{oldLength:a.current.length,newLength:C.length,oldIds:a.current.map(N=>N.id),newIds:C.map(N=>N.id)}),a.current=C,t(C)):console.log("⏭️ StepEditor: 変更なしなのでスキップ")},u=C=>{console.log("🗑️ StepEditor: ステップ削除開始",{stepId:C});const E=e.filter(N=>N.id!==C);c(E)},d=(C,E)=>{console.log("➕ StepEditor: ステップ追加開始",{type:C,index:E});const N={id:`step_${Date.now()}`,title:"",description:"",message:"",type:C,imageUrl:"",options:C==="decision"?[]:void 0,conditions:C==="decision"?[{label:"",nextId:""}]:void 0},j=[...e.slice(0,E+1),N,...e.slice(E+1)];c(j)},f=C=>{var N;console.log("➕ StepEditor: 条件追加開始",{stepId:C});const E=e.find(j=>j.id===C);if(E&&E.type==="decision"&&(!E.conditions||E.conditions.length<4)){const j={label:"",nextId:""},T=e.map(P=>P.id===C?{...P,conditions:[...P.conditions||[],j]}:P);c(T)}else console.log("⏭️ StepEditor: 条件追加条件不適合",{stepExists:!!E,stepType:E==null?void 0:E.type,conditionsLength:(N=E==null?void 0:E.conditions)==null?void 0:N.length})},p=(C,E,N,j)=>{var _;console.log("✏️ StepEditor: 条件編集",{stepId:C,conditionIndex:E,field:N,value:j});const T=e.find(k=>k.id===C),P=(_=T==null?void 0:T.conditions)==null?void 0:_[E],O=P==null?void 0:P[N];if(O===j){console.log("⏭️ StepEditor: 条件編集 - 値が変更されていないのでスキップ",{field:N,currentValue:O,newValue:j});return}const D=e.map(k=>{if(k.id===C&&k.type==="decision"){const F=[...k.conditions||[]];return F[E]={...F[E],[N]:j},{...k,conditions:F}}return k});c(D)},m=(C,E)=>{console.log("🗑️ StepEditor: 条件削除",{stepId:C,conditionIndex:E});const N=e.map(j=>j.id===C&&j.type==="decision"?{...j,conditions:(j.conditions||[]).filter((T,P)=>P!==E)}:j);c(N)},v=(C,E,N)=>{console.log("✏️ StepEditor: ステップフィールド変更",{stepId:C,field:E,value:N});const j=e.find(O=>O.id===C),T=j==null?void 0:j[E];if(T===N){console.log("⏭️ StepEditor: ステップフィールド変更 - 値が変更されていないのでスキップ",{field:E,currentValue:T,newValue:N});return}const P=e.map(O=>O.id===C?{...O,[E]:N}:O);c(P)},y=async(C,E)=>{o(N=>({...N,[C]:!0}));try{const N=new FormData;N.append("image",E);const j=await fetch("/api/upload",{method:"POST",body:N});if(!j.ok)throw new Error("Upload failed");const T=await j.json(),P=e.map(O=>O.id===C?{...O,imageUrl:T.url}:O);c(P)}catch(N){console.error("Image upload failed:",N)}finally{o(N=>({...N,[C]:!1}))}},w=C=>{const E=e.map(N=>N.id===C?{...N,imageUrl:""}:N);c(E)},x=(C,E)=>{var j;const N=(j=E.target.files)==null?void 0:j[0];N&&y(C,N)},g=C=>{if(!C.destination)return;const E=Array.from(e),[N]=E.splice(C.source.index,1);E.splice(C.destination.index,0,N),c(E)},b=C=>{var E,N;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(et,{htmlFor:`title-${C.id}`,children:"タイトル"}),l.jsx(Et,{id:`title-${C.id}`,value:C.title,onChange:j=>v(C.id,"title",j.target.value),placeholder:"スライドのタイトルを入力"})]}),l.jsxs("div",{children:[l.jsx(et,{htmlFor:`description-${C.id}`,children:"説明"}),l.jsx(Et,{id:`description-${C.id}`,value:C.description,onChange:j=>v(C.id,"description",j.target.value),placeholder:"スライドの説明を入力"})]})]}),l.jsxs("div",{children:[l.jsx(et,{htmlFor:`message-${C.id}`,children:"メッセージ"}),l.jsx(du,{id:`message-${C.id}`,value:C.message,onChange:j=>v(C.id,"message",j.target.value),placeholder:"表示するメッセージを入力",rows:3})]}),l.jsxs("div",{children:[l.jsx(et,{children:"画像"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{var j;return(j=i.current[C.id])==null?void 0:j.click()},disabled:s[C.id],children:[s[C.id]?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}):l.jsx(d3,{className:"h-4 w-4"}),"画像をアップロード"]}),C.imageUrl&&l.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>w(C.id),children:[l.jsx(Oo,{className:"h-4 w-4"}),"削除"]}),l.jsx("input",{ref:j=>i.current[C.id]=j,type:"file",accept:"image/*",onChange:j=>x(C.id,j),style:{display:"none"}})]}),C.imageUrl&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:C.imageUrl,alt:"Step",className:"max-w-full h-auto max-h-48 rounded border"})})]}),C.type==="decision"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(et,{children:"条件分岐"}),l.jsxs("div",{className:"text-sm text-gray-500",children:["条件数: ",((E=C.conditions)==null?void 0:E.length)||0,"/4"]})]}),l.jsxs("div",{className:"space-y-2",children:[(N=C.conditions)==null?void 0:N.map((j,T)=>l.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Et,{value:j.label,onChange:P=>p(C.id,T,"label",P.target.value),placeholder:"条件の説明",className:"mb-2"}),l.jsxs(Mf,{value:j.nextId,onValueChange:P=>p(C.id,T,"nextId",P),children:[l.jsx(Mc,{children:l.jsx(Lf,{placeholder:"次のスライドを選択"})}),l.jsx(Lc,{children:e.filter(P=>P.id!==C.id).map(P=>l.jsx(ai,{value:P.id,children:P.title||`スライド ${P.id}`},P.id))})]})]}),l.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>m(C.id,T),children:l.jsx(_o,{className:"h-4 w-4"})})]},T)),(!C.conditions||C.conditions.length<4)&&l.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>f(C.id),className:"w-full",children:[l.jsx(Ha,{className:"h-4 w-4 mr-2"}),"条件を追加"]})]})]})]})},S=()=>l.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:["スライド数: ",e.length]}),l.jsx("div",{className:"text-sm text-gray-600",children:"最後のスライドは自動的に終了スライドになります"})]});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(S,{}),l.jsx("div",{className:"max-h-[calc(100vh-300px)] overflow-y-auto border rounded-lg p-4",children:l.jsx(kY,{onDragEnd:g,children:l.jsx(uM,{droppableId:"steps",children:C=>l.jsxs("div",{...C.droppableProps,ref:C.innerRef,className:"space-y-4",children:[e.map((E,N)=>l.jsx(fX,{draggableId:E.id,index:N,children:j=>l.jsx("div",{ref:j.innerRef,...j.draggableProps,className:"relative",children:l.jsx(rt,{children:l.jsxs(nt,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{...j.dragHandleProps,className:"cursor-grab hover:cursor-grabbing",children:l.jsx(YB,{className:"h-4 w-4 text-gray-400"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[E.type==="start"?"開始":E.type==="end"?"終了":E.type==="decision"?"条件分岐":"スライド"," ",N+1]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs(R7,{children:[l.jsx(I7,{children:l.jsx(H,{variant:"outline",size:"sm",children:l.jsx(Ha,{className:"h-4 w-4"})})}),l.jsxs(H_,{children:[l.jsx(Fd,{onClick:()=>d("step",N),children:"スライドを追加"}),l.jsx(Fd,{onClick:()=>d("decision",N),children:"条件分岐を追加"}),l.jsx(G_,{}),l.jsx(Fd,{onClick:()=>u(E.id),className:"text-red-600",children:"削除"})]})]})})]}),b(E)]})})})},E.id)),C.placeholder]})})})}),r&&n&&l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(H,{variant:"outline",onClick:n,children:"キャンセル"}),l.jsx(H,{onClick:r,children:"保存"})]})]})};let md;const xX=new Uint8Array(16);function wX(){if(!md&&(md=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!md))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return md(xX)}const bX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function SX(e){return typeof e=="string"&&bX.test(e)}const Yt=[];for(let e=0;e<256;++e)Yt.push((e+256).toString(16).slice(1));function dM(e,t=0){return Yt[e[t+0]]+Yt[e[t+1]]+Yt[e[t+2]]+Yt[e[t+3]]+"-"+Yt[e[t+4]]+Yt[e[t+5]]+"-"+Yt[e[t+6]]+Yt[e[t+7]]+"-"+Yt[e[t+8]]+Yt[e[t+9]]+"-"+Yt[e[t+10]]+Yt[e[t+11]]+Yt[e[t+12]]+Yt[e[t+13]]+Yt[e[t+14]]+Yt[e[t+15]]}function bJ(e,t=0){const r=dM(e,t);if(!SX(r))throw TypeError("Stringified UUID is invalid");return r}const CX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p1={randomUUID:CX};function EX(e,t,r){if(p1.randomUUID&&!t&&!e)return p1.randomUUID();e=e||{};const n=e.random||(e.rng||wX)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return dM(n)}const Em=({flowData:e,currentTab:t,onSave:r,onTabChange:n})=>{const[s,o]=h.useState(""),[i,a]=h.useState(""),[c,u]=h.useState([]),[d,f]=h.useState([]),[p,m]=h.useState(""),[v,y]=h.useState(""),[w,x]=h.useState(!1),g=h.useRef(!1),b=h.useRef([]);h.useEffect(()=>{b.current=c},[c]),h.useEffect(()=>{if(e&&!g.current){const P=e.title||"",O=e.description||"";o(P),a(O),m(P),y(O);const D=(e.steps||[]).map(_=>{if(_.content&&!_.message)return{..._,message:_.content,content:void 0};if(_.conditions&&_.conditions.length>0){const k=_.conditions.map(F=>F.text&&!F.label?{label:F.text,nextId:F.nextSlideId||F.nextId||""}:F);return{..._,conditions:k}}return _});u(D),f(D),x(!1),g.current=!0}},[e]),h.useEffect(()=>{if(g.current){const P=s!==p,O=i!==v,D=JSON.stringify(c)!==JSON.stringify(d),_=P||O||D;console.log("🔍 変更検出:",{currentTab:t,titleChanged:P,descriptionChanged:O,stepsChanged:D,hasChanges:_,title:s,originalTitle:p,description:i,originalDescription:v,stepsLength:c.length,originalStepsLength:d.length}),x(_)}else console.log("⏭️ 初期化前なので変更検出をスキップ")},[s,i,c,p,v,d,t]);const S=h.useCallback((P,O)=>{const D=b.current;console.log("➕ スライド追加開始:",{type:P,index:O,currentStepsLength:D.length});const _={id:`step_${Date.now()}`,title:"",description:"",message:"",type:P,imageUrl:"",options:P==="decision"?[]:void 0,conditions:P==="decision"?[{label:"",nextId:""}]:void 0};let k;typeof O=="number"?k=[...D.slice(0,O+1),_,...D.slice(O+1)]:k=[...D,_],console.log("➕ スライド追加完了:",{newLength:k.length,newStep:{id:_.id,type:_.type}}),u(k)},[]),C=h.useCallback(P=>{console.log("📝 スライド変更開始:",{oldLength:c.length,newLength:P.length,oldStepsIds:c.map(D=>D.id),newStepsIds:P.map(D=>D.id)});const O=JSON.stringify(P)!==JSON.stringify(c);console.log("📝 変更比較結果:",{stepsChanged:O,oldSteps:c.map(D=>({id:D.id,title:D.title,message:D.message})),newSteps:P.map(D=>({id:D.id,title:D.title,message:D.message}))}),O?(console.log("📝 実際の変更を検出、ステップを更新"),u(P),x(!0)):console.log("⏭️ 変更なし、スキップ")},[c]),E=h.useCallback(P=>{o(P)},[]),N=h.useCallback(P=>{a(P)},[]),j=()=>{if(!s.trim()){console.error("タイトルは必須です");return}if(!c||c.length===0){console.error("ステップは最低1つ必要です");return}let P=e.id||"";/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(P)||(P=EX());const D=Array.isArray(e.triggerKeywords)?e.triggerKeywords:[];console.log("🔍 保存前データ確認:",{originalId:e.id,validId:P,title:s,description:i,stepsLength:c.length,triggerKeywords:D,steps:c});const _={id:P,updatedAt:new Date().toISOString(),keyword:s.trim(),category:e.category||""};if(s!==p&&(_.title=s),i!==v&&(_.description=i),JSON.stringify(c)!==JSON.stringify(d)&&(_.steps=c),Object.keys(_).length>2){const k={...e,..._,id:P,triggerKeywords:D,category:e.category||""};console.log("💾 保存データ詳細:",k),r(k),m(s),y(i),f(c),x(!1),window.dispatchEvent(new CustomEvent("emergencyFlowSaved",{detail:{flowId:P,timestamp:Date.now()}}))}},T=()=>{console.log("❌ キャンセル処理開始"),o(p),a(v),u(d),x(!1),console.log("✅ キャンセル完了 - 元の状態に戻しました")};return t==="metadata"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(et,{children:"タイトル"}),l.jsx(Et,{value:s,onChange:P=>E(P.target.value),placeholder:"フローのタイトルを入力..."})]}),l.jsxs("div",{children:[l.jsx(et,{children:"説明"}),l.jsx(Et,{value:i,onChange:P=>N(P.target.value),placeholder:"フローの説明を入力..."})]}),w&&l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ 変更が検出されました。保存ボタンをクリックして変更を保存してください。"})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(H,{variant:"outline",onClick:T,disabled:!w,children:"キャンセル"}),l.jsx(H,{onClick:j,disabled:!w,children:"保存"})]})]}):t==="slides"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-2 bg-gray-100 rounded text-xs flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{children:["デバッグ: hasChanges = ",w.toString()]}),l.jsxs("p",{children:["ステップ数: ",c.length]}),l.jsxs("p",{children:["元のステップ数: ",d.length]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(H,{variant:"outline",onClick:T,size:"sm",className:"h-8",children:"キャンセル"}),l.jsx(H,{onClick:j,size:"sm",className:"h-8",children:"保存"})]})]}),l.jsx(yX,{steps:c,onStepsChange:C,onSave:j,onCancel:T}),l.jsxs("div",{className:"flex justify-center gap-2 my-4",children:[l.jsxs(H,{size:"sm",variant:"outline",onClick:()=>S("step"),className:"h-8 px-3 text-sm",children:[l.jsx(Ha,{className:"w-3 h-3 mr-1"}),"通常スライドを追加"]}),l.jsxs(H,{size:"sm",variant:"outline",onClick:()=>S("decision"),className:"h-8 px-3 text-sm",children:[l.jsx(Ha,{className:"w-3 h-3 mr-1"}),"条件分岐を追加"]})]}),w&&l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ 変更が検出されました。保存ボタンをクリックして変更を保存してください。"})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-medium",children:"プレビュー"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"タイトル"}),l.jsx("p",{className:"text-gray-700",children:s||"未設定"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"説明"}),l.jsx("p",{className:"text-gray-700",children:i||"未設定"})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium",children:["スライド (",c.length,"個)"]}),c.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[l.jsx("p",{children:"スライドが設定されていません"}),l.jsx("p",{className:"text-sm mt-2",children:"スライドタブでスライドを追加してください"})]}):c.map((P,O)=>l.jsx(rt,{className:"mt-4",children:l.jsxs(nt,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"font-medium",children:[P.type==="start"?"開始":P.type==="end"?"終了":P.type==="decision"?"条件分岐":"スライド"," ",O+1]}),l.jsx("div",{className:"text-xs text-gray-500",children:P.type})]}),l.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["タイトル: ",P.title||"未設定"]}),P.description&&l.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["説明: ",P.description]}),P.type==="decision"?l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"条件分岐"}),(P.conditions||[]).length===0?l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"条件が設定されていません"}):l.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1",children:(P.conditions||[]).map((D,_)=>l.jsxs("li",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:D.label||"未設定"}),D.nextId&&l.jsxs("span",{className:"text-gray-500",children:[" → ",(()=>{const k=c.find(I=>I.id===D.nextId),F=c.findIndex(I=>I.id===D.nextId);return k?`${k.title||`スライド ${F+1}`}`:"未設定のスライド"})()]})]},_))})]}):l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"メッセージ"}),l.jsx("p",{className:"mt-2 text-sm whitespace-pre-wrap",children:P.message||P.content||"未設定"})]}),P.imageUrl&&l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"画像"}),l.jsx("img",{src:P.imageUrl,alt:"Step",className:"max-w-full h-auto max-h-32 rounded border mt-1"})]})]})},P.id))]})]})]})};function Av(e,t,r=""){const n=[];for(const s of new Set([...Object.keys(e||{}),...Object.keys(t||{})])){const o=e?e[s]:void 0,i=t?t[s]:void 0,a=r?`${r}.${s}`:s;if(typeof o=="object"&&typeof i=="object"&&o&&i&&!Array.isArray(o)&&!Array.isArray(i))n.push(...Av(o,i,a));else if(Array.isArray(o)&&Array.isArray(i)){o.length!==i.length&&n.push(`${a}: 配列の長さが ${o.length} → ${i.length} に修正`);for(let c=0;c<Math.min(o.length,i.length,5);c++)n.push(...Av(o[c],i[c],`${a}[${c}]`))}else o!==i&&n.push(`${a}: 「${o??"未設定"}」→「${i??"未設定"}」`)}return n}const NX=()=>{const{toast:e}=Cr(),[t,r]=h.useState([]),[n,s]=h.useState(null),[o,i]=h.useState(null),[a,c]=h.useState(!0),[u,d]=h.useState(null),f=async()=>{try{c(!0);const w=await fetch("/api/emergency-flow/list");if(!w.ok)throw new Error("フロー一覧の取得に失敗しました");const x=await w.json();r(Array.isArray(x)?x:[])}catch(w){console.error("フロー取得エラー:",w),e({title:"エラー",description:"フロー一覧の取得に失敗しました",variant:"destructive"})}finally{c(!1)}};h.useEffect(()=>{f()},[]);const p=w=>{s(w),d("metadata")},m=w=>{window.dispatchEvent(new CustomEvent("display-emergency-guide",{detail:{guideId:w.id}}))},v=async w=>{var x;try{console.log("💾 保存処理開始:",{id:w.id,title:w.title,description:w.description,stepsLength:((x=w.steps)==null?void 0:x.length)||0,filePath:w.filePath,triggerKeywords:w.triggerKeywords,steps:w.steps});const g=await fetch(`/api/emergency-flow/save/${w.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!g.ok){const S=await g.json();if(console.error("❌ 保存エラー詳細:",S),S.fixedData){console.log("🔧 自動修正データを受信:",S.fixedData);const E=Av(w,S.fixedData);if(E.length>0&&e({title:"自動修正内容",description:E.slice(0,8).join(`
`)+(E.length>8?`
...他${E.length-8}件`:""),variant:"default"}),window.confirm(`データに問題が見つかりましたが、自動修正が可能です。
修正内容を適用しますか？

主な修正点:
`+E.slice(0,8).join(`
`)+(E.length>8?`
...他${E.length-8}件`:"")))return s(S.fixedData),v(S.fixedData)}const C=S.details||S.error||`HTTP ${g.status}: ${g.statusText}`;throw e({title:"保存エラー",description:Array.isArray(S.details)?`データの問題:
${S.details.map(E=>`- ${E.path}: ${E.message}`).join(`
`)}`:C,variant:"destructive"}),new Error(C)}const b=await g.json();console.log("✅ 保存成功:",b),b.wasFixed&&e({title:"データ修正通知",description:"一部のデータが自動的に修正されました"}),s(b.data),await f(),e({title:"保存完了",description:`フロー「${b.data.title}」が保存されました`})}catch(g){console.error("❌ 保存エラー:",g),console.error("❌ エラー詳細:",{message:g instanceof Error?g.message:"Unknown error",stack:g instanceof Error?g.stack:void 0,name:g instanceof Error?g.name:"Unknown"})}},y=async(w,x)=>{try{if(!(await fetch(`/api/emergency-flow/delete/${w}`,{method:"DELETE"})).ok)throw new Error("フローの削除に失敗しました");if(!(await fetch("/api/file/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:`knowledge-base/troubleshooting/${x}`})})).ok)throw new Error("ファイルの削除に失敗しました");const S=t.filter(C=>C.id!==w);r(S),e({title:"削除完了",description:"フローを削除しました"})}catch(g){console.error("削除エラー:",g),e({title:"エラー",description:"フローの削除に失敗しました",variant:"destructive"})}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-8",children:"応急処置フロー生成"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx(rt,{children:l.jsx(nt,{className:"pt-6",children:l.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto",children:[t.map(w=>{var x;return l.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>p(w),children:[l.jsx("div",{className:"font-medium text-sm text-gray-800",children:w.title}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["作成日: ",new Date(w.updatedAt||Date.now()).toLocaleString()]}),l.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["スライド数: ",((x=w.steps)==null?void 0:x.length)||0]})]}),l.jsxs("div",{className:"flex gap-2 ml-2",children:[l.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>p(w),children:l.jsx(Bg,{className:"h-4 w-4"})}),l.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-500 hover:text-blue-700 hover:bg-blue-50",onClick:()=>m(w),children:l.jsx(qB,{className:"h-4 w-4"})}),l.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>y(w.id,w.filePath),children:l.jsx(_o,{className:"h-4 w-4"})})]})]})},w.id)}),t.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Tc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"フローが見つかりません"})]})]})})})}),l.jsx("div",{className:"lg:col-span-3",children:n?l.jsx(rt,{children:l.jsx(nt,{children:u&&l.jsxs(Ip,{value:u,onValueChange:d,className:"w-full",children:[l.jsxs(vu,{className:"w-full mb-6",children:[l.jsx(is,{value:"metadata",className:"text-xl px-6 py-3",children:"メタデータ"}),l.jsx(is,{value:"slides",className:"text-xl px-6 py-3",children:"スライド内容"}),l.jsx(is,{value:"preview",className:"text-xl px-6 py-3",children:"プレビュー"})]}),l.jsx(as,{value:"metadata",children:l.jsx(Em,{flowData:n,currentTab:"metadata",onSave:v,onTabChange:d})}),l.jsx(as,{value:"slides",children:l.jsx(Em,{flowData:n,currentTab:"slides",onSave:v,onTabChange:d})}),l.jsx(as,{value:"preview",children:l.jsx(Em,{flowData:n,currentTab:"preview",onSave:v,onTabChange:d})})]})})}):l.jsx(rt,{children:l.jsx(nt,{className:"py-8",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(Bg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"編集するフローを選択してください"})]})})})})]})]})};function jX({guideId:e,onExit:t}){const[r,n]=h.useState(null),[s,o]=h.useState(0),[i,a]=h.useState(!0),[c,u]=h.useState(""),[d,f]=h.useState(null);h.useEffect(()=>{e&&(async()=>{try{a(!0);const C=await fetch(`/api/emergency-flow/${e}`);if(!C.ok)throw new Error(`Failed to fetch guide data: ${C.status}`);const E=await C.json();n(E)}catch(C){console.error("Guide data fetch error:",C),u("ガイドデータの取得に失敗しました")}finally{a(!1)}})()},[e]);const p=()=>!r||!r.steps||r.steps.length===0?null:r.steps[s]||null,m=S=>{if(r)if(S){const C=r.steps.findIndex(E=>E.id===S);C!==-1&&(o(C),f(null))}else s<r.steps.length-1&&(o(s+1),f(null))},v=()=>{s>0&&(o(s-1),f(null))},y=S=>{f(S.nextId),m(S.nextId)},w=()=>{t()};if(i)return l.jsx(rt,{className:"w-full max-w-4xl mx-auto",children:l.jsx(nt,{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})});if(c||!r)return l.jsxs(rt,{className:"w-full max-w-4xl mx-auto",children:[l.jsx(ar,{children:l.jsx(lr,{className:"text-red-600",children:"エラー"})}),l.jsxs(nt,{children:[l.jsx("p",{className:"mb-4",children:c||"ガイドデータが見つかりません"}),l.jsx(H,{onClick:t,children:"戻る"})]})]});const x=p(),g=s===r.steps.length-1,b=s===0;return x?l.jsxs(rt,{className:"w-full max-w-4xl mx-auto",children:[l.jsx(ar,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[l.jsxs(H,{variant:"ghost",size:"sm",onClick:t,className:"flex-shrink-0",children:[l.jsx(Pc,{className:"h-4 w-4"}),"戻る"]}),l.jsx(lr,{className:"text-xl break-words leading-tight",children:r.title})]}),l.jsxs("div",{className:"text-sm text-gray-500 flex-shrink-0 ml-4",children:["ステップ ",s+1," / ",r.steps.length]})]})}),l.jsx(nt,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2 text-lg",children:x.title}),x.description&&l.jsx("p",{className:"text-blue-800 text-sm mb-3",children:x.description}),l.jsx("div",{className:"text-blue-800 whitespace-pre-line",children:x.message})]}),x.imageUrl&&l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:x.imageUrl,alt:x.title,className:"max-w-full h-auto max-h-96 object-contain rounded-lg border shadow-md",onError:S=>{var E;const C=S.target;C.style.display="none",(E=C.nextElementSibling)==null||E.classList.remove("hidden")}}),l.jsx("div",{className:"hidden absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg border",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(ZB,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"画像を読み込めませんでした"})]})})]})}),x.type==="decision"&&x.conditions&&x.conditions.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"選択してください："}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.conditions.map((S,C)=>l.jsx(H,{variant:"outline",className:"h-auto p-4 text-left justify-start",onClick:()=>y(S),children:l.jsx("div",{className:"flex flex-col items-start",children:l.jsx("span",{className:"font-medium",children:S.label})})},C))})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[l.jsxs(H,{variant:"outline",onClick:v,disabled:b,children:[l.jsx(Pc,{className:"h-4 w-4 mr-2"}),"前へ"]}),l.jsx("div",{className:"flex gap-2",children:x.type!=="decision"&&l.jsx(H,{onClick:g?w:()=>m(),className:"flex items-center gap-2",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Gy,{className:"h-4 w-4"}),"完了"]}):l.jsxs(l.Fragment,{children:["次へ",l.jsx(zB,{className:"h-4 w-4"})]})})})]})]})})]}):l.jsx(rt,{className:"w-full max-w-4xl mx-auto",children:l.jsxs(nt,{children:[l.jsx("p",{className:"text-center py-8",children:"ステップが見つかりません"}),l.jsx(H,{onClick:t,className:"w-full",children:"戻る"})]})})}var fM={exports:{}},PX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TX=PX,kX=TX;function pM(){}function hM(){}hM.resetWarningCache=pM;var AX=function(){function e(n,s,o,i,a,c){if(c!==kX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hM,resetWarningCache:pM};return r.PropTypes=r,r};fM.exports=AX();var DX=fM.exports;const at=Oi(DX);function RX(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var mM=h,IX=RX(mM);function h1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var OX=!!(typeof window<"u"&&window.document&&window.document.createElement);function MX(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],a;function c(){a=e(i.map(function(d){return d.props})),u.canUseDOM?t(a):r&&(a=r(a))}var u=function(d){_X(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var v=a;return a=void 0,i=[],v};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){i.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var v=i.indexOf(this);i.splice(v,1),c()},p.render=function(){return IX.createElement(o,this.props)},f}(mM.PureComponent);return h1(u,"displayName","SideEffect("+n(o)+")"),h1(u,"canUseDOM",OX),u}}var LX=MX;const FX=Oi(LX);var $X=typeof Element<"u",BX=typeof Map=="function",zX=typeof Set=="function",VX=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Bd(e[n],t[n]))return!1;return!0}var o;if(BX&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!Bd(n.value[1],t.get(n.value[0])))return!1;return!0}if(zX&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(VX&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if($X&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!Bd(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var UX=function(t,r){try{return Bd(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const WX=Oi(UX);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var m1=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,GX=Object.prototype.propertyIsEnumerable;function qX(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function KX(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var QX=KX()?Object.assign:function(e,t){for(var r,n=qX(e),s,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var i in r)HX.call(r,i)&&(n[i]=r[i]);if(m1){s=m1(r);for(var a=0;a<s.length;a++)GX.call(r,s[a])&&(n[s[a]]=r[s[a]])}}return n};const YX=Oi(QX);var wi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ce={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ce).map(function(e){return Ce[e]});var lt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Yf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Gc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},XX=Object.keys(Yf).reduce(function(e,t){return e[Yf[t]]=t,e},{}),ZX=[Ce.NOSCRIPT,Ce.SCRIPT,Ce.STYLE],Rn="data-react-helmet",JX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eZ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},tZ=function(){function e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rZ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},g1=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},nZ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Dv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},sZ=function(t){var r=ba(t,Ce.TITLE),n=ba(t,Gc.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var s=ba(t,Gc.DEFAULT_TITLE);return r||s||void 0},oZ=function(t){return ba(t,Gc.ON_CHANGE_CLIENT_STATE)||function(){}},Nm=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,s){return Tr({},n,s)},{})},iZ=function(t,r){return r.filter(function(n){return typeof n[Ce.BASE]<"u"}).map(function(n){return n[Ce.BASE]}).reverse().reduce(function(n,s){if(!n.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var a=o[i],c=a.toLowerCase();if(t.indexOf(c)!==-1&&s[c])return n.concat(s)}return n},[])},Ml=function(t,r,n){var s={};return n.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&uZ("Helmet: "+t+' should be of type "Array". Instead found type "'+JX(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,i){var a={};i.filter(function(p){for(var m=void 0,v=Object.keys(p),y=0;y<v.length;y++){var w=v[y],x=w.toLowerCase();r.indexOf(x)!==-1&&!(m===lt.REL&&p[m].toLowerCase()==="canonical")&&!(x===lt.REL&&p[x].toLowerCase()==="stylesheet")&&(m=x),r.indexOf(w)!==-1&&(w===lt.INNER_HTML||w===lt.CSS_TEXT||w===lt.ITEM_PROP)&&(m=w)}if(!m||!p[m])return!1;var g=p[m].toLowerCase();return s[m]||(s[m]={}),a[m]||(a[m]={}),s[m][g]?!1:(a[m][g]=!0,!0)}).reverse().forEach(function(p){return o.push(p)});for(var c=Object.keys(a),u=0;u<c.length;u++){var d=c[u],f=YX({},s[d],a[d]);s[d]=f}return o},[]).reverse()},ba=function(t,r){for(var n=t.length-1;n>=0;n--){var s=t[n];if(s.hasOwnProperty(r))return s[r]}return null},aZ=function(t){return{baseTag:iZ([lt.HREF,lt.TARGET],t),bodyAttributes:Nm(wi.BODY,t),defer:ba(t,Gc.DEFER),encode:ba(t,Gc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Nm(wi.HTML,t),linkTags:Ml(Ce.LINK,[lt.REL,lt.HREF],t),metaTags:Ml(Ce.META,[lt.NAME,lt.CHARSET,lt.HTTPEQUIV,lt.PROPERTY,lt.ITEM_PROP],t),noscriptTags:Ml(Ce.NOSCRIPT,[lt.INNER_HTML],t),onChangeClientState:oZ(t),scriptTags:Ml(Ce.SCRIPT,[lt.SRC,lt.INNER_HTML],t),styleTags:Ml(Ce.STYLE,[lt.CSS_TEXT],t),title:sZ(t),titleAttributes:Nm(wi.TITLE,t)}},Rv=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){Rv(t)},0)}}(),v1=function(t){return clearTimeout(t)},lZ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Rv:global.requestAnimationFrame||Rv,cZ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||v1:global.cancelAnimationFrame||v1,uZ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Ll=null,dZ=function(t){Ll&&cZ(Ll),t.defer?Ll=lZ(function(){y1(t,function(){Ll=null})}):(y1(t),Ll=null)},y1=function(t,r){var n=t.baseTag,s=t.bodyAttributes,o=t.htmlAttributes,i=t.linkTags,a=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,p=t.title,m=t.titleAttributes;Iv(Ce.BODY,s),Iv(Ce.HTML,o),fZ(p,m);var v={baseTag:Qi(Ce.BASE,n),linkTags:Qi(Ce.LINK,i),metaTags:Qi(Ce.META,a),noscriptTags:Qi(Ce.NOSCRIPT,c),scriptTags:Qi(Ce.SCRIPT,d),styleTags:Qi(Ce.STYLE,f)},y={},w={};Object.keys(v).forEach(function(x){var g=v[x],b=g.newTags,S=g.oldTags;b.length&&(y[x]=b),S.length&&(w[x]=v[x].oldTags)}),r&&r(),u(t,y,w)},gM=function(t){return Array.isArray(t)?t.join(""):t},fZ=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=gM(t)),Iv(Ce.TITLE,r)},Iv=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var s=n.getAttribute(Rn),o=s?s.split(","):[],i=[].concat(o),a=Object.keys(r),c=0;c<a.length;c++){var u=a[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var p=i.length-1;p>=0;p--)n.removeAttribute(i[p]);o.length===i.length?n.removeAttribute(Rn):n.getAttribute(Rn)!==a.join(",")&&n.setAttribute(Rn,a.join(","))}},Qi=function(t,r){var n=document.head||document.querySelector(Ce.HEAD),s=n.querySelectorAll(t+"["+Rn+"]"),o=Array.prototype.slice.call(s),i=[],a=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===lt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===lt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(Rn,"true"),o.some(function(p,m){return a=m,u.isEqualNode(p)})?o.splice(a,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return n.appendChild(c)}),{oldTags:o,newTags:i}},vM=function(t){return Object.keys(t).reduce(function(r,n){var s=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+s:s},"")},pZ=function(t,r,n,s){var o=vM(n),i=gM(r);return o?"<"+t+" "+Rn+'="true" '+o+">"+Dv(i,s)+"</"+t+">":"<"+t+" "+Rn+'="true">'+Dv(i,s)+"</"+t+">"},hZ=function(t,r,n){return r.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===lt.INNER_HTML||u===lt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+Dv(o[d],n)+'"';return u?u+" "+f:f},""),a=o.innerHTML||o.cssText||"",c=ZX.indexOf(t)===-1;return s+"<"+t+" "+Rn+'="true" '+i+(c?"/>":">"+a+"</"+t+">")},"")},yM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[Yf[s]||s]=t[s],n},r)},mZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[XX[s]||s]=t[s],n},r)},gZ=function(t,r,n){var s,o=(s={key:r},s[Rn]=!0,s),i=yM(n,o);return[oe.createElement(Ce.TITLE,i,r)]},vZ=function(t,r){return r.map(function(n,s){var o,i=(o={key:s},o[Rn]=!0,o);return Object.keys(n).forEach(function(a){var c=Yf[a]||a;if(c===lt.INNER_HTML||c===lt.CSS_TEXT){var u=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=n[a]}),oe.createElement(t,i)})},ms=function(t,r,n){switch(t){case Ce.TITLE:return{toComponent:function(){return gZ(t,r.title,r.titleAttributes)},toString:function(){return pZ(t,r.title,r.titleAttributes,n)}};case wi.BODY:case wi.HTML:return{toComponent:function(){return yM(r)},toString:function(){return vM(r)}};default:return{toComponent:function(){return vZ(t,r)},toString:function(){return hZ(t,r,n)}}}},xM=function(t){var r=t.baseTag,n=t.bodyAttributes,s=t.encode,o=t.htmlAttributes,i=t.linkTags,a=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,p=f===void 0?"":f,m=t.titleAttributes;return{base:ms(Ce.BASE,r,s),bodyAttributes:ms(wi.BODY,n,s),htmlAttributes:ms(wi.HTML,o,s),link:ms(Ce.LINK,i,s),meta:ms(Ce.META,a,s),noscript:ms(Ce.NOSCRIPT,c,s),script:ms(Ce.SCRIPT,u,s),style:ms(Ce.STYLE,d,s),title:ms(Ce.TITLE,{title:p,titleAttributes:m},s)}},yZ=function(t){var r,n;return n=r=function(s){rZ(o,s);function o(){return eZ(this,o),nZ(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(a){return!WX(this.props,a)},o.prototype.mapNestedChildrenToProps=function(a,c){if(!c)return null;switch(a.type){case Ce.SCRIPT:case Ce.NOSCRIPT:return{innerHTML:c};case Ce.STYLE:return{cssText:c}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(a){var c,u=a.child,d=a.arrayTypeChildren,f=a.newChildProps,p=a.nestedChildren;return Tr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Tr({},f,this.mapNestedChildrenToProps(u,p))]),c))},o.prototype.mapObjectTypeChildren=function(a){var c,u,d=a.child,f=a.newProps,p=a.newChildProps,m=a.nestedChildren;switch(d.type){case Ce.TITLE:return Tr({},f,(c={},c[d.type]=m,c.titleAttributes=Tr({},p),c));case Ce.BODY:return Tr({},f,{bodyAttributes:Tr({},p)});case Ce.HTML:return Tr({},f,{htmlAttributes:Tr({},p)})}return Tr({},f,(u={},u[d.type]=Tr({},p),u))},o.prototype.mapArrayTypeChildrenToProps=function(a,c){var u=Tr({},c);return Object.keys(a).forEach(function(d){var f;u=Tr({},u,(f={},f[d]=a[d],f))}),u},o.prototype.warnOnInvalidChildren=function(a,c){return!0},o.prototype.mapChildrenToProps=function(a,c){var u=this,d={};return oe.Children.forEach(a,function(f){if(!(!f||!f.props)){var p=f.props,m=p.children,v=g1(p,["children"]),y=mZ(v);switch(u.warnOnInvalidChildren(f,m),f.type){case Ce.LINK:case Ce.META:case Ce.NOSCRIPT:case Ce.SCRIPT:case Ce.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:y,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:y,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var a=this.props,c=a.children,u=g1(a,["children"]),d=Tr({},u);return c&&(d=this.mapChildrenToProps(c,d)),oe.createElement(t,d)},tZ(o,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),o}(oe.Component),r.propTypes={base:at.object,bodyAttributes:at.object,children:at.oneOfType([at.arrayOf(at.node),at.node]),defaultTitle:at.string,defer:at.bool,encodeSpecialCharacters:at.bool,htmlAttributes:at.object,link:at.arrayOf(at.object),meta:at.arrayOf(at.object),noscript:at.arrayOf(at.object),onChangeClientState:at.func,script:at.arrayOf(at.object),style:at.arrayOf(at.object),title:at.string,titleAttributes:at.object,titleTemplate:at.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var s=t.rewind();return s||(s=xM({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},n},xZ=function(){return null},wZ=FX(aZ,dZ,xM)(xZ),_v=yZ(wZ);_v.renderStatic=_v.rewind;const bZ=()=>{const e=S=>new URLSearchParams(window.location.search).get(S),t=e("tab")||"edit",[r,n]=h.useState(t),[s,o]=h.useState(e("guideId")),[i,a]=h.useState(e("display")),[c,u]=h.useState(null),[d,f]=h.useState("");h.useEffect(()=>{const S=E=>{const N=E;N.detail&&N.detail.guideId&&(o(N.detail.guideId),n("flow"))},C=E=>{const N=E;N.detail&&N.detail.guideId&&(a(N.detail.guideId),n("display"))};return window.addEventListener("switch-to-flow-tab",S),window.addEventListener("display-emergency-guide",C),()=>{window.removeEventListener("switch-to-flow-tab",S),window.removeEventListener("display-emergency-guide",C)}},[]),h.useEffect(()=>{const S=async()=>{try{const C=await fetch(`/api/emergency-flow/list?ts=${Date.now()}`);if(!C.ok)throw new Error("読み込み失敗");const E=await C.json();typeof window<"u"&&window.dispatchEvent(new CustomEvent("forceRefreshFlowList",{detail:{flowList:Array.isArray(E)?E:[]}}))}catch(C){console.error("フロー一覧取得エラー",C)}};return window.addEventListener("flowDataUpdated",S),window.addEventListener("troubleshootingDataUpdated",S),window.addEventListener("emergencyFlowSaved",S),()=>{window.removeEventListener("flowDataUpdated",S),window.removeEventListener("troubleshootingDataUpdated",S),window.removeEventListener("emergencyFlowSaved",S)}},[]),h.useEffect(()=>{const S=E=>{console.log("🔄 フローデータ更新イベントを受信:",E.detail),g(!0)},C=["flowDataUpdated","troubleshootingDataUpdated","emergencyFlowSaved","fileSystemUpdated"];return C.forEach(E=>{window.addEventListener(E,S)}),()=>{C.forEach(E=>{window.removeEventListener(E,S)})}},[]);const p=S=>{u(S),n("edit")},[m,v]=h.useState(!1),[y,w]=h.useState([]),{toast:x}=Cr(),g=async(S=!1)=>{try{v(!0),console.log(`🔄 応急処置データ一覧の取得を開始します (forceRefresh: ${S})`),S&&typeof window<"u"&&(localStorage.clear(),sessionStorage.clear(),console.log("🧹 キャッシュクリア完了"));const C=Date.now(),E=Math.random().toString(36).substring(2),N=`?_t=${C}&_r=${E}&no_cache=true&source=troubleshooting`,j=await fetch(`/api/emergency-flow/list${N}`,{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Pragma:"no-cache",Expires:"Thu, 01 Jan 1970 00:00:00 GMT","X-Requested-With":"XMLHttpRequest","X-Force-Fresh":"true","X-Clear-Cache":"true"}});if(!j.ok)throw new Error(`応急処置データの取得に失敗しました: ${j.status}`);const T=await j.json();console.log(`✅ 取得したフローデータ: ${T.length}件`),w(Array.isArray(T)?T:[]),typeof window<"u"&&localStorage.setItem("emergencyFlowList",JSON.stringify({data:Array.isArray(T)?T:[],timestamp:C,version:"3.0",source:"knowledge-base/troubleshooting"}))}catch(C){console.error("❌ 応急処置データ取得エラー:",C),x({title:"エラー",description:"応急処置データの取得に失敗しました",variant:"destructive"}),w([])}finally{v(!1)}},b=()=>{a(null),n("edit")};return i&&r==="display"?l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx(jX,{guideId:i,onExit:b})}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs(_v,{children:[l.jsx("title",{children:"応急処置ガイド - Emergency Assistance"}),l.jsx("meta",{name:"description",content:"応急処置ガイドの管理と表示"})]}),l.jsxs(Ip,{value:r,onValueChange:n,className:"space-y-6",children:[l.jsxs(vu,{className:"grid w-full grid-cols-2",children:[l.jsx(is,{value:"upload",children:"アップロード"}),l.jsx(is,{value:"edit",children:"編集・管理"})]}),l.jsx(as,{value:"upload",className:"space-y-6",children:l.jsx(SH,{onUploadSuccess:p})}),l.jsx(as,{value:"edit",className:"space-y-6",children:l.jsx(NX,{})})]})]})};function SZ(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var y0="ScrollArea",[wM,SJ]=Er(y0),[CZ,vn]=wM(y0),bM=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=h.useState(null),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[y,w]=h.useState(null),[x,g]=h.useState(0),[b,S]=h.useState(0),[C,E]=h.useState(!1),[N,j]=h.useState(!1),T=we(t,O=>c(O)),P=cl(s);return l.jsx(CZ,{scope:r,type:n,dir:P,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:j,onCornerWidthChange:g,onCornerHeightChange:S,children:l.jsx(ue.div,{dir:P,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});bM.displayName=y0;var SM="ScrollAreaViewport",CM=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=vn(SM,r),a=h.useRef(null),c=we(t,a,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});CM.displayName=SM;var ds="ScrollAreaScrollbar",x0=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vn(ds,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return h.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(EZ,{...n,ref:t,forceMount:r}):s.type==="scroll"?l.jsx(NZ,{...n,ref:t,forceMount:r}):s.type==="auto"?l.jsx(EM,{...n,ref:t,forceMount:r}):s.type==="always"?l.jsx(w0,{...n,ref:t}):null});x0.displayName=ds;var EZ=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vn(ds,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Nr,{present:r||o,children:l.jsx(EM,{"data-state":o?"visible":"hidden",...n,ref:t})})}),NZ=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vn(ds,e.__scopeScrollArea),o=e.orientation==="horizontal",i=dh(()=>c("SCROLL_END"),100),[a,c]=SZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,c,i]),l.jsx(Nr,{present:r||a!=="hidden",children:l.jsx(w0,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),EM=h.forwardRef((e,t)=>{const r=vn(ds,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=h.useState(!1),a=e.orientation==="horizontal",c=dh(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?u:d)}},10);return el(r.viewport,c),el(r.content,c),l.jsx(Nr,{present:n||o,children:l.jsx(w0,{"data-state":o?"visible":"hidden",...s,ref:t})})}),w0=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=vn(ds,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[a,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=kM(a.viewport,a.content),d={...n,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function f(p,m){return DZ(p,i.current,a,m)}return r==="horizontal"?l.jsx(jZ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=x1(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?l.jsx(PZ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=x1(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),jZ=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=vn(ds,e.__scopeScrollArea),[i,a]=h.useState(),c=h.useRef(null),u=we(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(jM,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":uh(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),DM(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zf(i.paddingLeft),paddingEnd:Zf(i.paddingRight)}})}})}),PZ=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=vn(ds,e.__scopeScrollArea),[i,a]=h.useState(),c=h.useRef(null),u=we(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(jM,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":uh(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),DM(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zf(i.paddingTop),paddingEnd:Zf(i.paddingBottom)}})}})}),[TZ,NM]=wM(ds),jM=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=e,m=vn(ds,r),[v,y]=h.useState(null),w=we(t,T=>y(T)),x=h.useRef(null),g=h.useRef(""),b=m.viewport,S=n.content-n.viewport,C=bt(d),E=bt(c),N=dh(f,10);function j(T){if(x.current){const P=T.clientX-x.current.left,O=T.clientY-x.current.top;u({x:P,y:O})}}return h.useEffect(()=>{const T=P=>{const O=P.target;(v==null?void 0:v.contains(O))&&C(P,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,v,S,C]),h.useEffect(E,[n,E]),el(v,N),el(m.content,N),l.jsx(TZ,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:bt(o),onThumbPointerUp:bt(i),onThumbPositionChange:E,onThumbPointerDown:bt(a),children:l.jsx(ue.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:Q(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),j(T))}),onPointerMove:Q(e.onPointerMove,j),onPointerUp:Q(e.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Xf="ScrollAreaThumb",PM=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=NM(Xf,e.__scopeScrollArea);return l.jsx(Nr,{present:r||s.hasThumb,children:l.jsx(kZ,{ref:t,...n})})}),kZ=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=vn(Xf,r),i=NM(Xf,r),{onThumbPositionChange:a}=i,c=we(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=dh(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const p=()=>{if(d(),!u.current){const m=RZ(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[o.viewport,d,a]),l.jsx(ue.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Q(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,y=f.clientY-m.top;i.onThumbPointerDown({x:v,y})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});PM.displayName=Xf;var b0="ScrollAreaCorner",TM=h.forwardRef((e,t)=>{const r=vn(b0,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(AZ,{...e,ref:t}):null});TM.displayName=b0;var AZ=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=vn(b0,r),[o,i]=h.useState(0),[a,c]=h.useState(0),u=!!(o&&a);return el(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),el(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(ue.div,{...n,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zf(e){return e?parseInt(e,10):0}function kM(e,t){const r=e/t;return isNaN(r)?0:r}function uh(e){const t=kM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function DZ(e,t,r,n="ltr"){const s=uh(r),o=s/2,i=t||o,a=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return AM([c,u],f)(e)}function x1(e,t,r="ltr"){const n=uh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Ic(e,c);return AM([0,i],[0,a])(u)}function AM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function DM(e,t){return e>0&&e<t}var RZ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function dh(e,t){const r=bt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function el(e,t){const r=bt(t);Wt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var RM=bM,IZ=CM,_Z=TM;const IM=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(RM,{ref:n,className:ee("relative overflow-hidden",e),...r,children:[l.jsx(IZ,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(_M,{}),l.jsx(_Z,{})]}));IM.displayName=RM.displayName;const _M=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(x0,{ref:n,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(PM,{className:"relative flex-1 rounded-full bg-border"})}));_M.displayName=x0.displayName;var OM="AlertDialog",[OZ,CJ]=Er(OM,[jD]),$s=jD(),MM=e=>{const{__scopeAlertDialog:t,...r}=e,n=$s(t);return l.jsx(mx,{...n,...r,modal:!0})};MM.displayName=OM;var MZ="AlertDialogTrigger",LZ=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=$s(r);return l.jsx(gx,{...s,...n,ref:t})});LZ.displayName=MZ;var FZ="AlertDialogPortal",LM=e=>{const{__scopeAlertDialog:t,...r}=e,n=$s(t);return l.jsx(vx,{...n,...r})};LM.displayName=FZ;var $Z="AlertDialogOverlay",FM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=$s(r);return l.jsx(fu,{...s,...n,ref:t})});FM.displayName=$Z;var Sa="AlertDialogContent",[BZ,zZ]=OZ(Sa),VZ=Z$("AlertDialogContent"),$M=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=$s(r),i=h.useRef(null),a=we(t,i),c=h.useRef(null);return l.jsx(P8,{contentName:Sa,titleName:BM,docsSlug:"alert-dialog",children:l.jsx(BZ,{scope:r,cancelRef:c,children:l.jsxs(pu,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:Q(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(VZ,{children:n}),l.jsx(WZ,{contentRef:i})]})})})});$M.displayName=Sa;var BM="AlertDialogTitle",zM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=$s(r);return l.jsx(hu,{...s,...n,ref:t})});zM.displayName=BM;var VM="AlertDialogDescription",UM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=$s(r);return l.jsx(mu,{...s,...n,ref:t})});UM.displayName=VM;var UZ="AlertDialogAction",WM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=$s(r);return l.jsx(Pp,{...s,...n,ref:t})});WM.displayName=UZ;var HM="AlertDialogCancel",GM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=zZ(HM,r),o=$s(r),i=we(t,s);return l.jsx(Pp,{...o,...n,ref:i})});GM.displayName=HM;var WZ=({contentRef:e})=>{const t=`\`${Sa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sa}\` by passing a \`${VM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},HZ=MM,GZ=LM,qM=FM,KM=$M,QM=WM,YM=GM,XM=zM,ZM=UM;const qZ=HZ,KZ=GZ,JM=h.forwardRef(({className:e,...t},r)=>l.jsx(qM,{className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));JM.displayName=qM.displayName;const eL=h.forwardRef(({className:e,...t},r)=>l.jsxs(KZ,{children:[l.jsx(JM,{}),l.jsx(KM,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));eL.displayName=KM.displayName;const tL=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});tL.displayName="AlertDialogHeader";const rL=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rL.displayName="AlertDialogFooter";const nL=h.forwardRef(({className:e,...t},r)=>l.jsx(XM,{ref:r,className:ee("text-lg font-semibold",e),...t}));nL.displayName=XM.displayName;const sL=h.forwardRef(({className:e,...t},r)=>l.jsx(ZM,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));sL.displayName=ZM.displayName;const oL=h.forwardRef(({className:e,...t},r)=>l.jsx(QM,{ref:r,className:ee(Qy(),e),...t}));oL.displayName=QM.displayName;const iL=h.forwardRef(({className:e,...t},r)=>l.jsx(YM,{ref:r,className:ee(Qy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));iL.displayName=YM.displayName;const QZ=({onEdit:e,onNew:t})=>{const{toast:r}=Cr(),[n,s]=h.useState([]),[o,i]=h.useState(!0),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=async()=>{try{i(!0),console.log("🔄 ファイル一覧を取得中...");const m=Date.now(),v=await fetch(`/api/troubleshooting/list?t=${m}`,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!v.ok)throw new Error("ファイル一覧の取得に失敗しました");const y=await v.json();console.log("✅ ファイル一覧取得完了:",y.length+"件"),s(y)}catch(m){console.error("ファイル一覧取得エラー:",m),r({title:"エラー",description:"ファイル一覧の取得に失敗しました",variant:"destructive"})}finally{i(!1)}};h.useEffect(()=>{f()},[]);const p=async m=>{if(confirm("このファイルを削除してもよろしいですか？"))try{if(!(await fetch(`/api/troubleshooting/delete/${m}`,{method:"DELETE"})).ok)throw new Error("ファイルの削除に失敗しました");f()}catch(v){console.error("ファイル削除エラー:",v),r({title:"エラー",description:"ファイルの削除に失敗しました",variant:"destructive"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(rt,{children:[l.jsxs(ar,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsxs("div",{children:[l.jsx(lr,{className:"text-xl",children:"フローファイル一覧"}),l.jsx(Ky,{children:"保存されているフローファイルを管理します"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(H,{variant:"outline",onClick:f,disabled:o,children:[l.jsx(D2,{className:"h-4 w-4 mr-1"}),"更新"]}),l.jsxs(H,{variant:"default",onClick:t,children:[l.jsx(Ha,{className:"h-4 w-4 mr-1"}),"新規作成"]})]})]}),l.jsx(nt,{children:o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):l.jsx(IM,{className:"h-[400px]",children:l.jsxs(yu,{children:[l.jsx(xu,{children:l.jsxs(On,{children:[l.jsx(zt,{children:"タイトル"}),l.jsx(zt,{children:"説明"}),l.jsx(zt,{className:"text-right",children:"操作"})]})}),l.jsx(wu,{children:n.map(m=>l.jsxs(On,{children:[l.jsx(At,{className:"font-medium max-w-md",children:l.jsx("div",{className:"break-words leading-tight",children:m.title})}),l.jsx(At,{className:"max-w-sm",children:l.jsx("div",{className:"break-words leading-tight text-sm text-gray-600",children:m.description})}),l.jsx(At,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsxs(H,{variant:"outline",size:"sm",onClick:()=>e(m.id),children:[l.jsx(KB,{className:"h-4 w-4 mr-1"}),"編集"]}),l.jsxs(H,{variant:"destructive",size:"sm",onClick:()=>p(m.id),children:[l.jsx(_o,{className:"h-4 w-4 mr-1"}),"削除"]})]})})]},m.id))})]})})})]}),l.jsx(qZ,{open:a,onOpenChange:c,children:l.jsxs(eL,{children:[l.jsxs(tL,{children:[l.jsx(nL,{children:"フローを削除しますか？"}),l.jsx(sL,{children:"このフローを削除すると、すべての関連データが失われます。この操作は元に戻すことができません。"})]}),l.jsxs(rL,{children:[l.jsx(iL,{onClick:()=>c(!1),children:"キャンセル"}),l.jsxs(oL,{onClick:()=>p(u||""),className:"bg-red-600 hover:bg-red-700",children:[l.jsx(_o,{className:"mr-2 h-4 w-4"}),"削除する"]})]})]})})]})};function YZ(){const[e,t]=h.useState("file-list"),[r,n]=h.useState(null),s=i=>{n(i),t("edit")},o=()=>{n(null),t("edit")};return l.jsxs("div",{className:"container mx-auto p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"トラブルシューティング"}),l.jsx("p",{className:"text-gray-600",children:"テキスト編集によるフローデータ管理"})]}),l.jsxs(Ip,{value:e,onValueChange:t,children:[l.jsxs(vu,{className:"grid w-full grid-cols-2",children:[l.jsx(is,{value:"file-list",children:"ファイル一覧"}),l.jsx(is,{value:"edit",children:"テキスト編集"})]}),l.jsx(as,{value:"file-list",children:l.jsx(QZ,{onEdit:s,onNew:o})}),l.jsx(as,{value:"edit",children:l.jsx("div",{className:"p-4 text-center text-gray-500",children:l.jsx("p",{children:"テキスト編集機能は開発中です"})})})]})]})}const XZ=mx,ZZ=gx,JZ=vx,aL=h.forwardRef(({className:e,...t},r)=>l.jsx(fu,{className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));aL.displayName=fu.displayName;const eJ=vp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),lL=h.forwardRef(({side:e="right",className:t,children:r,...n},s)=>l.jsxs(JZ,{children:[l.jsx(aL,{}),l.jsxs(pu,{ref:s,className:ee(eJ({side:e}),t),...n,children:[r,l.jsxs(Pp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lL.displayName=pu.displayName;const tJ=h.forwardRef(({className:e,...t},r)=>l.jsx(hu,{ref:r,className:ee("text-lg font-semibold text-foreground",e),...t}));tJ.displayName=hu.displayName;const rJ=h.forwardRef(({className:e,...t},r)=>l.jsx(mu,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));rJ.displayName=mu.displayName;function cL({currentPath:e,vertical:t=!1,onNavigate:r}){const[,n]=Fs(),{user:s}=gn(),o=u=>{n(u),r&&r()},i=(s==null?void 0:s.role)==="admin",c=[{title:"応急処置サポート",path:"/chat",icon:l.jsx(r3,{className:"mr-2 h-5 w-5 text-blue-600"}),className:"text-blue-600 font-bold text-[120%] border border-blue-300 rounded-md bg-blue-50"},{title:"基礎データ管理",path:"/processing",icon:l.jsx(Fg,{className:"mr-2 h-4 w-4"}),adminOnly:!0},{title:"応急処置データ管理",path:"/emergency-guide",icon:l.jsx(Tc,{className:"mr-2 h-4 w-4"}),adminOnly:!0},{title:"設定",path:"/settings",icon:l.jsx($g,{className:"mr-2 h-4 w-4"})}].filter(u=>!u.adminOnly||i);return l.jsx("div",{className:ee("bg-white",t?"flex flex-col space-y-1":"flex"),children:c.map(u=>l.jsxs(H,{variant:"ghost",className:ee(t?"justify-start px-3 py-2 w-full":"px-4 py-3 rounded-none",e===u.path?"text-primary border-primary font-medium "+(t?"":"border-b-2"):u.path==="/chat"?u.className:"text-neutral-300",u.className),onClick:()=>o(u.path),children:[u.icon,u.title]},u.path))})}function nJ(){const{user:e}=gn(),{clearChatHistory:t,isClearing:r}=uu(),[n]=Fs(),[s,o]=h.useState(!1);return l.jsxs("header",{className:"bg-primary text-white py-3 px-4 flex items-center justify-between shadow-md",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs(XZ,{open:s,onOpenChange:o,children:[l.jsx(ZZ,{asChild:!0,children:l.jsx(H,{variant:"ghost",size:"icon",className:"mr-3 text-white",children:l.jsx(t3,{})})}),l.jsxs(lL,{side:"left",className:"p-0",children:[l.jsx("div",{className:"bg-primary text-white p-4",children:l.jsx("h2",{className:"text-xl font-semibold",children:"Emergency Recovery Chat"})}),l.jsx("nav",{className:"p-4",children:l.jsx(cL,{currentPath:n,vertical:!0,onNavigate:()=>o(!1)})})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("h1",{className:"text-xl font-semibold mr-3",children:"応急処置チャットシステム"})})]}),l.jsx("div",{className:"flex items-center",children:l.jsx("div",{className:"ml-3 flex items-center",children:l.jsxs("span",{className:"text-sm",children:["ログインユーザー：",(e==null?void 0:e.display_name)||(e==null?void 0:e.username)||"ゲスト",(e==null?void 0:e.role)&&` (${e.role==="admin"?"管理者":"一般ユーザー"})`]})})})]})}function Yo({children:e}){const{user:t,isLoading:r}=gn(),[,n]=Fs();return h.useEffect(()=>{!r&&!t&&n("/login")},[t,r,n]),r?l.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):t?l.jsx(l.Fragment,{children:e}):null}function gd({children:e}){const{user:t,isLoading:r}=gn(),[,n]=Fs();return h.useEffect(()=>{!r&&(!t||t.role!=="admin")&&n("/chat")},[t,r,n]),r?l.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):t&&t.role==="admin"?l.jsx(l.Fragment,{children:e}):null}function sJ(){const{user:e}=gn(),[t]=Fs();return t==="/login"?l.jsx("div",{className:"h-screen",children:l.jsxs(Lw,{children:[l.jsx(wn,{path:"/login",component:q6}),l.jsx(wn,{path:"/",children:l.jsx(Uh,{to:"/login"})})]})}):l.jsxs("div",{className:"h-screen flex flex-col",children:[e&&l.jsx(nJ,{}),e&&l.jsx("div",{className:"border-b border-neutral-200",children:l.jsx(cL,{currentPath:t})}),l.jsx("main",{className:"flex-1 flex overflow-hidden",children:l.jsxs(Lw,{children:[l.jsx(wn,{path:"/chat",children:l.jsx(Yo,{children:l.jsx(tW,{})})}),l.jsx(wn,{path:"/processing",children:l.jsx(Yo,{children:l.jsx(cW,{})})}),l.jsx(wn,{path:"/settings",children:l.jsx(Yo,{children:l.jsx(kW,{})})}),l.jsx(wn,{path:"/users",children:l.jsx(Yo,{children:l.jsx(gd,{children:l.jsx(pH,{})})})}),l.jsx(wn,{path:"/documents",children:l.jsx(Yo,{children:l.jsx(gd,{children:l.jsx(hH,{})})})}),l.jsx(wn,{path:"/emergency-guide",children:l.jsx(Yo,{children:l.jsx(gd,{children:l.jsx(bZ,{})})})}),l.jsx(wn,{path:"/troubleshooting",children:l.jsx(Yo,{children:l.jsx(gd,{children:l.jsx(YZ,{})})})}),l.jsx(wn,{path:"/",children:e?l.jsx(Uh,{to:"/chat"}):l.jsx(Uh,{to:"/login"})}),l.jsx(wn,{component:n5})]})})]})}function oJ(){return l.jsx(XT,{client:yi,children:l.jsxs(V6,{children:[l.jsx(ez,{children:l.jsx(sJ,{})}),l.jsx(Q3,{})]})})}const w1="__REACT_APP_INITIALIZED__",b1="__REACT_ROOT_EXISTS__",Yi=document.getElementById("root");if(!window[w1]&&!window[b1]&&!(Yi!=null&&Yi.hasAttribute("data-react-initialized"))&&!(Yi!=null&&Yi.hasChildNodes())){window[w1]=!0,window[b1]=!0;class e extends oe.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n,s){console.error("React Error:",n,s)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Application Error"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Page"})]})}):this.props.children}}const t=document.getElementById("root");t?(t.setAttribute("data-react-initialized","true"),console.log("🚀 Initializing React application"),PT(t).render(l.jsx(XT,{client:yi,children:l.jsx(e,{children:l.jsx(oJ,{})})})),console.log("✅ React application initialized")):console.error("Root container not found")}else console.log("⛔ React already initialized, aborting");export{EX as a,Oi as b,aJ as c,lJ as g,wX as r,bJ as s,dM as u,SX as v};
