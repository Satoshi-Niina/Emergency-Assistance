# React Server Components & Next.js è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯ãƒ„ãƒ¼ãƒ«

## æ¦‚è¦

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ä»¥ä¸‹ã® CVE ã«å¯¾å¿œã™ã‚‹ãŸã‚ã®è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯ãƒ„ãƒ¼ãƒ«ã§ã™ï¼š

- **CVE-2025-55182**: React Server Components (RSC) ã®è„†å¼±æ€§
- **CVE-2025-66478**: Next.js ã®è„†å¼±æ€§

## å¯¾è±¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### Next.js
- `next`

### React Server Components
- `react-server-dom-webpack`
- `react-server-dom-parcel`
- `react-server-dom-turbopack`

## å®‰å…¨ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³

### Next.js
- 15.0.5
- 15.1.9
- 15.2.6
- 15.3.6
- 15.4.8
- 15.5.7
- 16.0.7 (æ¨å¥¨)

### React Server Components
- 19.0.1
- 19.1.2
- 19.2.1 (æ¨å¥¨)

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰å®Ÿè¡Œ
npm run security:check-rsc

# ã¾ãŸã¯ç›´æ¥å®Ÿè¡Œ
node scripts/check-rsc-vulnerabilities.js
```

### ãƒã‚§ãƒƒã‚¯å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

ä»¥ä¸‹ã® `package.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•çš„ã«ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ï¼š

- `./package.json`
- `./client/package.json`
- `./server/package.json`
- `./shared/package.json`

## å‡ºåŠ›ä¾‹

### è„†å¼±æ€§ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ

```
ğŸ” React Server Components & Next.js è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
   CVE-2025-55182 (RSC) / CVE-2025-66478 (Next.js)

ğŸ“¦ package.json
================================================================================
âœ… å¯¾è±¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸï¼ˆè„†å¼±æ€§ã®å½±éŸ¿ãªã—ï¼‰

ğŸ“¦ client\package.json
================================================================================
âœ… å¯¾è±¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸï¼ˆè„†å¼±æ€§ã®å½±éŸ¿ãªã—ï¼‰

================================================================================
ğŸ“Š ãƒã‚§ãƒƒã‚¯çµæœã‚µãƒãƒªãƒ¼
================================================================================
ãƒã‚§ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«æ•°: 4
âœ… å®‰å…¨ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: 0
âš ï¸  è„†å¼±ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: 0

âœ… è„†å¼±æ€§ã¯æ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ
```

### è„†å¼±æ€§ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆ

```
ğŸ” React Server Components & Next.js è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
   CVE-2025-55182 (RSC) / CVE-2025-66478 (Next.js)

ğŸ“¦ package.json
================================================================================

âš ï¸ next
   ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ^15.0.0
   ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: VULNERABLE
   CVE: CVE-2025-66478
   æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 16.0.7
   å¯¾å¿œæ–¹æ³•: npm install next@16.0.7

âš ï¸ react-server-dom-webpack
   ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ^19.0.0
   ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: VULNERABLE
   CVE: CVE-2025-55182
   æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 19.2.1
   å¯¾å¿œæ–¹æ³•: npm install react-server-dom-webpack@19.2.1

================================================================================
ğŸ“Š ãƒã‚§ãƒƒã‚¯çµæœã‚µãƒãƒªãƒ¼
================================================================================
ãƒã‚§ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«æ•°: 4
âœ… å®‰å…¨ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: 0
âš ï¸  è„†å¼±ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: 2

âš ï¸  ã€è­¦å‘Šã€‘è„†å¼±æ€§ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸï¼
æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œæ–¹æ³•:
1. ä¸Šè¨˜ã®æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ãã ã•ã„
2. ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã€npm install ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„
```

## è„†å¼±æ€§ã¸ã®å¯¾å¿œæ–¹æ³•

### 1. å½±éŸ¿ã‚’ç¢ºèª

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç‰¹å®šã—ã¾ã™ã€‚

```bash
npm run security:check-rsc
```

### 2. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

è„†å¼±æ€§ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆã€æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™ã€‚

#### Next.js ã®å ´åˆ

```bash
npm install next@16.0.7
```

#### React Server Components ã®å ´åˆ

```bash
npm install react-server-dom-webpack@19.2.1
# ã¾ãŸã¯
npm install react-server-dom-parcel@19.2.1
# ã¾ãŸã¯
npm install react-server-dom-turbopack@19.2.1
```

### 3. ä¾å­˜é–¢ä¿‚ã‚’æ›´æ–°

```bash
npm install
```

### 4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ

ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã¯ã€å¿…ãšã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
npm run dev
# ã¾ãŸã¯
npm test
```

## CI/CD ã¸ã®çµ±åˆ

### GitHub Actions ã§ã®ä½¿ç”¨ä¾‹

```yaml
name: Security Check

on: [push, pull_request]

jobs:
  security-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '20'
      - run: npm install
      - run: npm run security:check-rsc
```

### pre-commit ãƒ•ãƒƒã‚¯ã§ã®ä½¿ç”¨

`.husky/pre-commit` ã¾ãŸã¯ `scripts/pre-commit.ps1` ã«è¿½åŠ ï¼š

```bash
npm run security:check-rsc
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã§ããªã„

```bash
# å®Ÿè¡Œæ¨©é™ã‚’ç¢ºèª
node scripts/check-rsc-vulnerabilities.js
```

### ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆ

1. Node.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªï¼ˆ20.0.0ä»¥ä¸ŠãŒå¿…è¦ï¼‰
   ```bash
   node --version
   ```

2. package.json ã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
   ```bash
   npm install
   ```

## å‚è€ƒãƒªãƒ³ã‚¯

- [CVE-2025-55182 è©³ç´°](https://www.cve.org/CVERecord?id=CVE-2025-55182)
- [CVE-2025-66478 è©³ç´°](https://www.cve.org/CVERecord?id=CVE-2025-66478)
- [React Server Components ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev/reference/react/use-server)
- [Next.js ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒª](https://github.com/vercel/next.js/security/advisories)

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Emergency-Assistance ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€éƒ¨ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚
